'use strict';const _0x56ae28=_0x57e5;(function(_0x3135fb,_0x20ece6){const _0x32f56d=_0x57e5,_0x514144=_0x3135fb();while(!![]){try{const _0x20f3ae=-parseInt(_0x32f56d(0x27d))/0x1*(-parseInt(_0x32f56d(0x14f))/0x2)+parseInt(_0x32f56d(0x29c))/0x3+parseInt(_0x32f56d(0x2fa))/0x4*(-parseInt(_0x32f56d(0x187))/0x5)+parseInt(_0x32f56d(0x197))/0x6+parseInt(_0x32f56d(0x1df))/0x7+-parseInt(_0x32f56d(0x190))/0x8*(-parseInt(_0x32f56d(0x1ae))/0x9)+-parseInt(_0x32f56d(0x2e6))/0xa;if(_0x20f3ae===_0x20ece6)break;else _0x514144['push'](_0x514144['shift']());}catch(_0xdb2aac){_0x514144['push'](_0x514144['shift']());}}}(_0x14fb,0x35347));const FREE=![],HTML_COMMENT=!![];(function(){const _0x5896b2=_0x57e5;var _0x2d3746=location,_0x1116d7=_0x2d3746[_0x5896b2(0x171)],_0x587502=['localhost',_0x5896b2(0x26c)];function _0xb2d622(){const _0x2cc0b0=_0x5896b2;if(_0x2d3746[_0x2cc0b0(0x342)]===_0x2cc0b0(0x2ba))return!![];if(typeof SHOW_LOG!=='undefined')return!![];var _0x547fa5=![];return _0x587502['some'](function(_0x23e53b){const _0x41f1b1=_0x2cc0b0;if(_0x1116d7[_0x41f1b1(0x2bc)](-_0x23e53b[_0x41f1b1(0x1f3)])===_0x23e53b)return _0x547fa5=!![],!![];}),_0x547fa5;}for(var _0x31fbc8 in console){typeof console[_0x31fbc8]===_0x5896b2(0x1c7)&&_0x74031(_0x31fbc8);}function _0x74031(_0x5bcdee){var _0x280f12=console[_0x5bcdee];console[_0x5bcdee]=function(){_0xb2d622()&&_0x280f12['apply'](this,arguments);};}}());const SENTE=0x80,GOTE=0x0,FF=0xff,FU=0x1,KY=0x2,KE=0x3,GI=0x4,KI=0x5,KA=0x6,HI=0x7,GY=0x8,TO=0x9,NY=0xa,NE=0xb,NG=0xc,UM=0xe,RY=0xf,SFU=0x81,SKY=0x82,SKE=0x83,SGI=0x84,SKI=0x85,SKA=0x86,SHI=0x87,SGY=0x88,HIRATE=0x0,KYOTI=0x1,UKYOTI=0x2,KAOTI=0x3,HIOTI=0x4,HIKYOTI=0x5,NIMAIOTI=0x6,SANMAIOTI=0x7,YOMAIOTI=0x8,GOMAIOTI=0x9,GOMAIOTI_HIDARI=0xa,ROKUMAIOTI=0xb,HATIMAIOTI=0xc,JYUUMAIOTI=0xd,SONOTA=0xe,hirate_board=[FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY,FF,KE,KA,FU,0x0,0x0,0x0,SFU,SHI,SKE,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGY,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KE,HI,FU,0x0,0x0,0x0,SFU,SKA,SKE,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY],hirate_sqr=[0x0,0x11,0x5d,0x61,0xd,0x1b,0x53,0x57,0x17,0x25,0x49,0x4d,0x21,0x2f,0x3f,0x43,0x2b,0x39,0x35,0x13,0x5b,0x63,0xb,0x1d,0x51,0x59,0x15,0x27,0x47,0x4f,0x1f,0x31,0x3d,0x45,0x29,0x58,0x16,0x1c,0x52,0x3b,0x33],kiki_n=[0x0,0x1,0x1,0x2,0x5,0x6,0x4,0x4,0x8,0x6,0x6,0x6,0x6,0x6,0x8,0x8],kiki_vec=[[0x0],[0x1],[0x1],[-0x8,0xc],[-0xb,-0x9,0x1,0x9,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0x9,0x9,0xb],[-0xa,-0x1,0x1,0xa],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb]],kiki_long=[[0x0],[0x0],[0x1],[0x0,0x0],[0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x1,0x0,0x0,0x1,0x0,0x1],[0x0,0x1,0x0,0x1,0x1,0x0,0x1,0x0]],pice_no=[[0x0,0x0],[0x1,0x12],[0x13,0x16],[0x17,0x1a],[0x1b,0x1e],[0x1f,0x22],[0x23,0x24],[0x25,0x26],[0x27,0x28]];class Board{constructor(){const _0x4882db=_0x57e5;this[_0x4882db(0x1d3)]=new Array(0x6f),this['piece']=new Array(0x6f),this['square']=new Array(0x29),this[_0x4882db(0x321)]=new Array(0x2);for(var _0x1a32bc=0x0;_0x1a32bc<0x2;_0x1a32bc++){this['motigoma'][_0x1a32bc]=new Array(0x8);}this[_0x4882db(0x1aa)]=new Array(0x8),this['motigoma_pn']=new Array(0x8);for(_0x1a32bc=0x0;_0x1a32bc<0x8;_0x1a32bc++){this['motigoma_pn'][_0x1a32bc]=new Array(0x12);}this[_0x4882db(0x248)]();}[_0x56ae28(0x195)](){const _0x5b9850=_0x56ae28;console[_0x5b9850(0x195)](_0x5b9850(0x287));for(let _0x1c3d68=0x0;_0x1c3d68<0x8;_0x1c3d68++){console[_0x5b9850(0x195)]('k='+_0x1c3d68+'\x20'+this[_0x5b9850(0x321)][0x1][_0x1c3d68]);}}[_0x56ae28(0x1b5)](){const _0x23a1d2=_0x56ae28;this[_0x23a1d2(0x29f)]=0x80-this['teban'];}[_0x56ae28(0x248)](){const _0x5aa9b6=_0x56ae28;for(var _0xa12072=0x0;_0xa12072<=0x63;_0xa12072++)this[_0x5aa9b6(0x1d3)][_0xa12072]=hirate_board[_0xa12072];for(_0xa12072=0x64;_0xa12072<=0x6e;_0xa12072++)this['board'][_0xa12072]=FF;for(var _0x3193c7=0x0;_0x3193c7<0x2;_0x3193c7++){for(let _0x38c23a=0x0;_0x38c23a<0x8;_0x38c23a++)this[_0x5aa9b6(0x321)][_0x3193c7][_0x38c23a]=0x0;}this[_0x5aa9b6(0x29f)]=SENTE;for(var _0x5b7de5=0x1;_0x5b7de5<=0x28;_0x5b7de5++){_0xa12072=this['square'][_0x5b7de5]=hirate_sqr[_0x5b7de5],this[_0x5aa9b6(0x193)][_0xa12072]=_0x5b7de5;}for(var _0x2b973f=0x0;_0x2b973f<0x8;_0x2b973f++)this[_0x5aa9b6(0x1aa)][_0x2b973f]=0x0;for(_0x2b973f=0x0;_0x2b973f<0x8;_0x2b973f++){for(_0x3193c7=0x0;_0x3193c7<0x12;_0x3193c7++){this['motigoma_pn'][_0x2b973f][_0x3193c7]=0x0;}}this['teai']=HIRATE;}[_0x56ae28(0x1d6)](_0x45e4fa){const _0x235ff2=_0x56ae28;let _0x7df3b7=this['piece'][_0x45e4fa];this[_0x235ff2(0x271)][_0x7df3b7]=0x0,this[_0x235ff2(0x193)][_0x45e4fa]=this[_0x235ff2(0x1d3)][_0x45e4fa]=0x0;}['init_teai'](_0x4e189e){const _0x582a87=_0x56ae28;if(_0x4e189e>=SONOTA)return;this['hirate'](),this[_0x582a87(0x236)]=_0x4e189e;if(_0x4e189e!=HIRATE)this['teban']=GOTE;if(_0x4e189e==KYOTI)this[_0x582a87(0x1d6)](0xb);else{if(_0x4e189e==UKYOTI)this[_0x582a87(0x1d6)](0x5b);else{if(_0x4e189e==KAOTI)this[_0x582a87(0x1d6)](0x16);else{if(_0x4e189e==HIOTI)this['erak'](0x52);else{if(_0x4e189e==HIKYOTI)this[_0x582a87(0x1d6)](0x52),this[_0x582a87(0x1d6)](0xb);else{if(_0x4e189e>=NIMAIOTI){this['erak'](0x16),this[_0x582a87(0x1d6)](0x52);if(_0x4e189e>=SANMAIOTI){this['erak'](0x5b);if(_0x4e189e>=YOMAIOTI){this[_0x582a87(0x1d6)](0xb);if(_0x4e189e==GOMAIOTI)this[_0x582a87(0x1d6)](0x51);else{if(_0x4e189e==GOMAIOTI_HIDARI)this[_0x582a87(0x1d6)](0x15);else _0x4e189e>=ROKUMAIOTI&&(this[_0x582a87(0x1d6)](0x15),this[_0x582a87(0x1d6)](0x51),_0x4e189e>=HATIMAIOTI&&(this[_0x582a87(0x1d6)](0x1f),this[_0x582a87(0x1d6)](0x47),_0x4e189e==JYUUMAIOTI&&(this['erak'](0x29),this['erak'](0x3d))));}}}}}}}}}}[_0x56ae28(0x31b)](){const _0x534022=_0x56ae28;for(let _0x29db70=0x1;_0x29db70<=0x9;_0x29db70++)for(let _0x1acec1=0x1;_0x1acec1<=0x9;_0x1acec1++){this[_0x534022(0x1d3)][_0x1acec1*0xa+_0x29db70]=0x0;}for(let _0x3874fe=0x0;_0x3874fe<0x2;_0x3874fe++){for(let _0x2409ca=0x0;_0x2409ca<0x8;_0x2409ca++)this[_0x534022(0x321)][_0x3874fe][_0x2409ca]=0x0;}}['copy_from_board'](_0x3cb5b0){const _0xf3305e=_0x56ae28;let _0x2f4c91;for(_0x2f4c91=0x0;_0x2f4c91<=0x63;_0x2f4c91++){this[_0xf3305e(0x1d3)][_0x2f4c91]=_0x3cb5b0['board'][_0x2f4c91],this[_0xf3305e(0x193)][_0x2f4c91]=_0x3cb5b0[_0xf3305e(0x193)][_0x2f4c91];}for(_0x2f4c91=0x0;_0x2f4c91<0x29;_0x2f4c91++)this[_0xf3305e(0x271)][_0x2f4c91]=_0x3cb5b0[_0xf3305e(0x271)][_0x2f4c91];for(_0x2f4c91=0x0;_0x2f4c91<0x2;_0x2f4c91++){for(let _0x3dd620=0x0;_0x3dd620<0x8;_0x3dd620++){this[_0xf3305e(0x321)][_0x2f4c91][_0x3dd620]=_0x3cb5b0['motigoma'][_0x2f4c91][_0x3dd620];}}this[_0xf3305e(0x29f)]=_0x3cb5b0[_0xf3305e(0x29f)],this[_0xf3305e(0x236)]=_0x3cb5b0[_0xf3305e(0x236)];}['FromToK'](_0x28b726){const _0x30b636=_0x56ae28;_0x28b726<0x0&&console[_0x30b636(0x210)](_0x30b636(0x22f)+_0x28b726);let _0x11e483;if(_0x28b726>0x63){if((_0x28b726&0x10)!=0x0)_0x11e483=SENTE|_0x28b726&0x7;else _0x11e483=_0x28b726&0x7;}else _0x11e483=this['board'][_0x28b726];return _0x11e483;}['setk'](_0x2b12a1){const _0xdf3d1e=_0x56ae28;let _0x3c1dee,_0x1e127b,_0x4182fc,_0x2fb451;_0x3c1dee=pice_no[_0x2b12a1&0x7][0x0],_0x1e127b=pice_no[_0x2b12a1&0x7][0x1];for(_0x4182fc=_0x3c1dee,_0x2fb451=0xb;_0x4182fc<=_0x1e127b&&_0x2fb451<=0x63;_0x2fb451++){(this['board'][_0x2fb451]&0x7)==_0x2b12a1&&this['board'][_0x2fb451]!=0xff&&(this[_0xdf3d1e(0x271)][_0x4182fc]=_0x2fb451,this[_0xdf3d1e(0x193)][_0x2fb451]=_0x4182fc,_0x4182fc++);}let _0x4534fe,_0x357e99;this['motigoma_pn_use'][_0x2b12a1]=0x0;for(_0x4534fe=0x0;_0x4534fe<this['motigoma'][0x0][_0x2b12a1];_0x4534fe++){this[_0xdf3d1e(0x271)][_0x4182fc]=0x0,_0x357e99=this[_0xdf3d1e(0x1aa)][_0x2b12a1]++,this['motigoma_pn'][_0x2b12a1][_0x357e99]=_0x4182fc++;}for(_0x4534fe=0x0;_0x4534fe<this['motigoma'][0x1][_0x2b12a1];_0x4534fe++){this[_0xdf3d1e(0x271)][_0x4182fc]=0x0,_0x357e99=this[_0xdf3d1e(0x1aa)][_0x2b12a1]++,this[_0xdf3d1e(0x2b3)][_0x2b12a1][_0x357e99]=_0x4182fc++;}for(;_0x4182fc<=_0x1e127b;_0x4182fc++)this[_0xdf3d1e(0x271)][_0x4182fc]=0x0;}['setbd'](){const _0x5765ce=_0x56ae28;let _0x1e3e25;for(_0x1e3e25=0x0;_0x1e3e25<=0x63;_0x1e3e25++)this['piece'][_0x1e3e25]=0x0;for(let _0x3ad531=FU;_0x3ad531<=HI;_0x3ad531++)this[_0x5765ce(0x1f4)](_0x3ad531);this[_0x5765ce(0x271)][0x27]=0x0;for(_0x1e3e25=0xb;_0x1e3e25<=0x63;_0x1e3e25++)if(this[_0x5765ce(0x1d3)][_0x1e3e25]==SGY){this['square'][0x27]=_0x1e3e25,this['piece'][_0x1e3e25]=0x27;break;}this[_0x5765ce(0x271)][0x28]=0x0;for(_0x1e3e25=0xb;_0x1e3e25<=0x63;_0x1e3e25++)if(this[_0x5765ce(0x1d3)][_0x1e3e25]==GY){this[_0x5765ce(0x271)][0x28]=_0x1e3e25,this[_0x5765ce(0x193)][_0x1e3e25]=0x28;break;}}['move_data_to_moti'](_0x303d92){const _0x4e8165=_0x56ae28;let _0x5c7d16=this[_0x4e8165(0x193)][_0x303d92];this[_0x4e8165(0x193)][_0x303d92]=0x0;let _0xbae241=this[_0x4e8165(0x1d3)][_0x303d92];this['square'][_0x5c7d16]=0x0;if((_0xbae241&0xf)!=GY){let _0x163496=(_0xbae241&0x80)!=0x0?0x0:0x1,_0x537d5c=_0xbae241&0x7;this[_0x4e8165(0x321)][_0x163496][0x0]++,this[_0x4e8165(0x321)][_0x163496][_0x537d5c]++;let _0x528aa5=this[_0x4e8165(0x1aa)][_0x537d5c]++;this['motigoma_pn'][_0x537d5c][_0x528aa5]=_0x5c7d16;}this[_0x4e8165(0x1d3)][_0x303d92]=0x0;}[_0x56ae28(0x232)](_0x1dde4c,_0x51806e){const _0x44a7a9=_0x56ae28;this[_0x44a7a9(0x1d3)][_0x51806e]=_0x1dde4c;let _0x2b46c0=_0x1dde4c&0x7,_0x1f1329=(_0x1dde4c&0x80)!=0x0?0x1:0x0;if(this[_0x44a7a9(0x321)][_0x1f1329][0x0]<=0x0){console['error']('***\x20move_data_from_moti\x20error\x20n='+this['motigoma'][_0x1f1329][0x0]);return;}this[_0x44a7a9(0x321)][_0x1f1329][0x0]--,this['motigoma'][_0x1f1329][_0x2b46c0]--;var _0x92a30e=--this[_0x44a7a9(0x1aa)][_0x2b46c0],_0x31fc9c=this[_0x44a7a9(0x2b3)][_0x2b46c0][_0x92a30e];this[_0x44a7a9(0x193)][_0x51806e]=_0x31fc9c,this[_0x44a7a9(0x271)][_0x31fc9c]=_0x51806e;}[_0x56ae28(0x243)](_0x5c430a,_0x3da816){const _0x5d4ebc=_0x56ae28;this['board'][_0x5c430a]==0x0&&console[_0x5d4ebc(0x210)](_0x5d4ebc(0x2c1)+_0x5c430a);let _0x1bade1=this[_0x5d4ebc(0x193)][_0x5c430a];this['square'][_0x1bade1]=_0x3da816,this[_0x5d4ebc(0x1d3)][_0x3da816]=this[_0x5d4ebc(0x1d3)][_0x5c430a],this[_0x5d4ebc(0x1d3)][_0x5c430a]=0x0,this[_0x5d4ebc(0x193)][_0x5c430a]=0x0,this[_0x5d4ebc(0x193)][_0x3da816]=_0x1bade1;}[_0x56ae28(0x258)](_0x3a646a){const _0x581fbf=_0x56ae28;if(_0x3a646a['t']<=0xa)return;_0x3a646a['k']=this['FromToK'](_0x3a646a['f']);(_0x3a646a['k']==0xff||_0x3a646a['k']==0x0)&&console[_0x581fbf(0x210)](_0x581fbf(0x256)+_0x3a646a['f']+_0x581fbf(0x25a)+_0x3a646a['t']+_0x581fbf(0x2b2)+_0x3a646a['k']);let _0x16e496=_0x3a646a['t'];(_0x3a646a['t']&0x80)!=0x0&&(_0x16e496&=0x7f,this[_0x581fbf(0x1d3)][_0x3a646a['f']]|=0x8);this[_0x581fbf(0x1d3)][_0x16e496]>0x0&&this[_0x581fbf(0x1da)](_0x16e496);if(_0x3a646a['f']>0x63)this[_0x581fbf(0x232)](_0x3a646a['k'],_0x16e496);else this[_0x581fbf(0x243)](_0x3a646a['f'],_0x16e496);}['BackMove'](_0x1fdc91){const _0x408b8a=_0x56ae28;if(_0x1fdc91['t']<=0xa)return;let _0xd6d29d=_0x1fdc91['t'],_0x26ffe8=_0x1fdc91['k'];(_0x1fdc91['t']&0x80)!=0x0&&(_0xd6d29d&=0x7f,_0x26ffe8&=0x87);_0x1fdc91['f']<0x64&&(this[_0x408b8a(0x1d3)][_0x1fdc91['f']]=_0x26ffe8);this[_0x408b8a(0x1d3)][_0xd6d29d]=_0x1fdc91['c'];let _0x50f7eb=0x0;if(_0x1fdc91['c']!=0x0){let _0x3a26df=(_0x1fdc91['c']&0x80)!=0x0?0x0:0x1,_0x2cfa4e=_0x1fdc91['c']&0x7;this['motigoma'][_0x3a26df][0x0]--,this[_0x408b8a(0x321)][_0x3a26df][_0x2cfa4e]--;let _0x3f4765=--this[_0x408b8a(0x1aa)][_0x2cfa4e];_0x50f7eb=this[_0x408b8a(0x2b3)][_0x2cfa4e][_0x3f4765],this[_0x408b8a(0x271)][_0x50f7eb]=_0xd6d29d;}if(_0x1fdc91['f']>0x63){let _0x521d19=(_0x1fdc91['k']&0x80)!=0x0?0x1:0x0,_0x59ebef=_0x1fdc91['k']&0x7;this[_0x408b8a(0x321)][_0x521d19][0x0]++,this['motigoma'][_0x521d19][_0x59ebef]++;let _0x19f2a2=this['motigoma_pn_use'][_0x59ebef]++,_0x1d91b9=this['motigoma_pn'][_0x59ebef][_0x19f2a2]=this[_0x408b8a(0x193)][_0x1fdc91['t']];this[_0x408b8a(0x193)][_0xd6d29d]=_0x50f7eb,this[_0x408b8a(0x271)][_0x1d91b9]=0x0;}else{let _0x4eff36=this[_0x408b8a(0x193)][_0x1fdc91['f']]=this[_0x408b8a(0x193)][_0xd6d29d];this[_0x408b8a(0x193)][_0xd6d29d]=_0x50f7eb,this['square'][_0x4eff36]=_0x1fdc91['f'];}}[_0x56ae28(0x145)](_0x9ef9ed){const _0x5538e3=_0x56ae28;if(_0x9ef9ed[_0x5538e3(0x148)]<=0x0)return;let _0x540b07=_0x9ef9ed[_0x5538e3(0x301)](_0x9ef9ed[_0x5538e3(0x148)]);if(_0x540b07==null){console[_0x5538e3(0x210)](_0x5538e3(0x322)+_0x9ef9ed['move_no']);return;}if(_0x540b07['t']>=0xb)this[_0x5538e3(0x1b5)]();let _0x519ff2=new Kifup();_0x519ff2['f']=_0x540b07['f'],_0x519ff2['t']=_0x540b07['t'],_0x519ff2['k']=_0x540b07['k'],_0x519ff2['c']=_0x540b07['c'],this['BackMove'](_0x519ff2),_0x9ef9ed['back']();return;}[_0x56ae28(0x2c8)](_0x5d1510,_0x2223c1){const _0x4eab96=_0x56ae28;while(_0x5d1510[_0x4eab96(0x148)]>_0x2223c1&&_0x5d1510[_0x4eab96(0x148)]>0x0){this['back_move'](_0x5d1510);}}[_0x56ae28(0x328)](_0xeba8e,_0x4d188d){const _0x145de9=_0x56ae28;if(_0xeba8e>0x63)return console[_0x145de9(0x195)](_0x145de9(0x2b1)+_0xeba8e),0x0;let _0x33f9d3=this[_0x145de9(0x1d3)][_0xeba8e],_0x289bd1=_0x33f9d3&0x80,_0x467eff=_0x33f9d3&0xf,_0x47345b=kiki_n[_0x467eff];for(var _0x54f528=0x0;_0x54f528<_0x47345b;_0x54f528++){let _0x58f4bb=kiki_vec[_0x467eff][_0x54f528];if(_0x289bd1!=0x0)_0x58f4bb=-_0x58f4bb;let _0x294ffd=_0xeba8e+_0x58f4bb;if(_0x294ffd==_0x4d188d)return 0x1;if(kiki_long[_0x467eff][_0x54f528]!=0x0&&this[_0x145de9(0x1d3)][_0x294ffd]==0x0)for(_0x294ffd+=_0x58f4bb;;_0x294ffd+=_0x58f4bb){if(_0x294ffd>0x63||_0x294ffd<0xb)break;if(_0x294ffd==_0x4d188d)return 0x1;if(this[_0x145de9(0x1d3)][_0x294ffd]!=0x0)break;}}return 0x0;}[_0x56ae28(0x347)](_0x5ea0de,_0x2aedfa,_0x37a284,_0x337e90){const _0x3420fa=_0x56ae28;let _0x400b57=0x0;for(let _0x769734=0x1;_0x769734<=0x28;_0x769734++){let _0x26cbef=this[_0x3420fa(0x271)][_0x769734];if(_0x26cbef==0x0||_0x26cbef==_0x5ea0de)continue;let _0x1744ee=this['board'][_0x26cbef];if((_0x1744ee&0x80)!=_0x2aedfa)continue;if(this[_0x3420fa(0x328)](_0x26cbef,_0x5ea0de)!=0x0){_0x337e90[++_0x400b57]=_0x26cbef;if(_0x400b57>=_0x37a284)break;}}return _0x337e90[0x0]=_0x400b57;}[_0x56ae28(0x293)](_0x4a7e83,_0x487976){const _0x3d7793=_0x56ae28;_0x487976&=0x7f;_0x487976>0x63&&console[_0x3d7793(0x210)](_0x3d7793(0x33a)+_0x487976);let _0xe2f5e8=_0x487976-_0x4a7e83,_0x51ee20;if(_0xe2f5e8>=0x0)_0x51ee20=_0xe2f5e8;else _0x51ee20=-_0xe2f5e8;if(_0x51ee20==0xc)return _0xe2f5e8;if(_0x51ee20==0x8)return _0xe2f5e8;let _0x2c78f5=parseInt(_0x4a7e83/0xa),_0x56fa34=parseInt(_0x487976/0xa);if(_0x2c78f5==_0x56fa34){if(_0xe2f5e8>0x0)return 0x1;else return-0x1;}let _0x7f3586=_0x4a7e83%0xa,_0x2863ae=_0x487976%0xa;if(_0x7f3586==_0x2863ae){if(_0xe2f5e8>0x0)return 0xa;else return-0xa;}if(_0x2c78f5+_0x7f3586==_0x56fa34+_0x2863ae){if(_0xe2f5e8>0x0)return 0x9;else return-0x9;}if(_0x2c78f5-_0x7f3586==_0x56fa34-_0x2863ae){if(_0xe2f5e8>0x0)return 0xb;else return-0xb;}return 0x64;}[_0x56ae28(0x1e4)](_0x4c78f0,_0x306570,_0x5dbd55){if(_0x4c78f0>0x63||(_0x306570&0x80)!=0x0)return 0x0;let _0x164cc2=_0x5dbd55&0xf;if(_0x164cc2>=GY||_0x164cc2==KI)return 0x0;var _0x3fed9e=_0x306570%0xa;let _0x5f23df=_0x4c78f0%0xa;if((_0x5dbd55&0x80)==0x0){if(_0x3fed9e<0x7&&_0x5f23df<0x7)return 0x0;if(_0x164cc2<=KY){if(_0x3fed9e==0x9)return 0x2;}else{if(_0x164cc2==KE){if(_0x3fed9e>0x7)return 0x2;}}}else{if(_0x3fed9e>0x3&&_0x5f23df>0x3)return 0x0;if(_0x164cc2<=KY){if(_0x3fed9e==0x1)return 0x2;}else{if(_0x164cc2==KE){if(_0x3fed9e<0x3)return 0x2;}}}return 0x1;}}const KIFU_MAX=0x640,TORYO=0x0,CHUDAN=0x1,HANSOKU_MAKE=0x2,HANSOKU_KACHI=0x3,JISHOGI=0x4,KACHI=0x5,SENNITITE=0x6,KIREMAKE=0x7,SENTE_HANSOKU=0x8,GOTE_HANSOKU=0x9,TUMI=0xa,AGARU=0x3,HIKI=0x4,SUGU=0x5,YORI=0x6,MIGI=0x7,HIDARI=0x8,MIGIHIKI=0x9,MIGIYORI=0xa,MIGIAGARU=0xb,HIDARIHIKI=0xc,HIDARIYORI=0xd,HIDARIAGARU=0xe,kdirs=[[-0xc,-0xb,-0xa,-0x9,-0x1,0x1,0x8,0x9,0xa,0xb],[0x0],[-0xb,-0x1,0x9,0x0],[-0xb,-0x1,0x9,0x0],[+0xb,0x1,-0x9,0x0],[-0x1,0x0],[-0xa,0xa,0x0],[0x8,0x9,0xa,0xb,-0x1,0x1,0x0],[-0x9,-0xa,-0xb,-0xc,-0x1,0x1,0x0],[0xb,0x0],[0xa,0x0],[0x9,0x0],[-0x9,0x0],[-0xa,0x0],[-0xb,0x0]];class Kifup{constructor(){const _0x5adba1=_0x56ae28;this['f']=0x0,this['t']=0x0,this['c']=0x0,this[_0x5adba1(0x20d)]=null,this['next']=null,this['branch']=null;}}class KifuData{constructor(){const _0x28d037=_0x56ae28;this[_0x28d037(0x1ba)]=new Array(KIFU_MAX),this[_0x28d037(0x148)]=0x0,this[_0x28d037(0x1eb)](),this[_0x28d037(0x244)](),this[_0x28d037(0x1c1)]=0x0,this[_0x28d037(0x1ee)]=0x0;}[_0x56ae28(0x36b)](){const _0x4079c8=_0x56ae28;this['move_no']=0x0,this[_0x4079c8(0x1f1)]=this[_0x4079c8(0x2bb)];}['back'](){const _0x49d0ae=_0x56ae28;if(this[_0x49d0ae(0x148)]<=0x0){console[_0x49d0ae(0x210)](_0x49d0ae(0x1f0));return;}this[_0x49d0ae(0x148)]--,this[_0x49d0ae(0x1f1)]=this['find_oya'](this[_0x49d0ae(0x1f1)]);}['clear_kifu'](){const _0x31db0e=_0x56ae28;for(let _0x44892b=0x0;_0x44892b<KIFU_MAX;_0x44892b++){let _0x157653=new Kifup();this[_0x31db0e(0x1ba)][_0x44892b]=_0x157653;}this[_0x31db0e(0x2bb)]=this[_0x31db0e(0x1f1)]=this['kifu_array'][0x0],this[_0x31db0e(0x36b)]();}[_0x56ae28(0x209)](){const _0x5da8a4=_0x56ae28;console['log'](_0x5da8a4(0x162)+this['kifu_array'][0x0]['f']+_0x5da8a4(0x25a)+this[_0x5da8a4(0x1ba)][0x0]['t']),console[_0x5da8a4(0x195)](_0x5da8a4(0x2f3)+this['kifu_array'][0x1]['f']+'\x20t='+this[_0x5da8a4(0x1ba)][0x1]['t']);}[_0x56ae28(0x244)](){const _0x2e2e10=_0x56ae28;this['sengo_mitei_flg']=0x0,this[_0x2e2e10(0x2ef)]='',this['gote_name']='',this[_0x2e2e10(0x27c)]='',this['site']='',this[_0x2e2e10(0x234)]='',this[_0x2e2e10(0x34f)]='',this[_0x2e2e10(0x157)]='',this[_0x2e2e10(0x1b4)]='',this[_0x2e2e10(0x199)]='',this['sakusya']='',this['sakuhinmei']='',this[_0x2e2e10(0x312)]='',this[_0x2e2e10(0x27b)]='',this[_0x2e2e10(0x16b)]='';}[_0x56ae28(0x281)](_0x5670f5){const _0x5b7dca=_0x56ae28;if(_0x5670f5==this[_0x5b7dca(0x2bb)]||_0x5670f5==null)return null;for(let _0x3fc47d=0x0;_0x3fc47d<KIFU_MAX;_0x3fc47d++){let _0x4b6519=this[_0x5b7dca(0x1ba)][_0x3fc47d];if(_0x4b6519[_0x5b7dca(0x278)]==_0x5670f5)return _0x4b6519;if(_0x4b6519[_0x5b7dca(0x230)]==_0x5670f5)return this[_0x5b7dca(0x281)](_0x4b6519);}return null;}[_0x56ae28(0x341)](){const _0x181ae6=_0x56ae28;if(this['current_p']==null)return 0x0;let _0x3c9613=0x0,_0x72bdb8;for(_0x72bdb8=this[_0x181ae6(0x1f1)];;_0x3c9613++){_0x72bdb8=this['find_oya'](_0x72bdb8);if(_0x72bdb8==null)break;}for(_0x72bdb8=this['current_p'];;_0x3c9613++){_0x72bdb8=_0x72bdb8['next'];if(_0x72bdb8==null)break;}return _0x3c9613;}['get_total_time_kp'](_0x328622){const _0xcdeb16=_0x56ae28;if(_0x328622==null)return 0x0;let _0xf933bb=0x0,_0x18cfb8=0x0;for(;;){if(_0x328622==null||_0x328622==this[_0xcdeb16(0x2bb)])break;if((_0x18cfb8&0x1)==0x0)_0xf933bb+=_0x328622[_0xcdeb16(0x28a)];_0x328622=this[_0xcdeb16(0x281)](_0x328622),_0x18cfb8++;}return _0xf933bb;}[_0x56ae28(0x25c)](){const _0x2a52f1=_0x56ae28;for(let _0x357d7e=this['kifu_root'];;){if(_0x357d7e==null)break;if(_0x357d7e!=this[_0x2a52f1(0x2bb)]){if(_0x357d7e['f']==0x0&&_0x357d7e['t']==0x0)break;if(_0x357d7e[_0x2a52f1(0x28a)]%0x3c!=0x0)return 0x1;}_0x357d7e=_0x357d7e[_0x2a52f1(0x278)];}return 0x0;}[_0x56ae28(0x2f9)](){const _0x5c7f8e=_0x56ae28;let _0x58f220=0x0;for(let _0x51fdfe=this[_0x5c7f8e(0x2bb)];;){if(_0x51fdfe==null)break;if(_0x51fdfe!=this[_0x5c7f8e(0x2bb)]){if(_0x51fdfe['f']==0x0&&_0x51fdfe['t']==0x0)break;_0x58f220+=_0x51fdfe[_0x5c7f8e(0x28a)];}_0x51fdfe=_0x51fdfe['next'];}return _0x58f220;}['get_kifup'](_0x3eb303){const _0x336b12=_0x56ae28;if(_0x3eb303<0x0)return console[_0x336b12(0x195)]('***\x20get_kifup\x20error\x20n='+_0x3eb303),null;if(_0x3eb303==0x0)return this[_0x336b12(0x2bb)];if(_0x3eb303==this[_0x336b12(0x148)])return this[_0x336b12(0x1f1)];if(this[_0x336b12(0x1f1)]==null)return null;let _0x184164=this[_0x336b12(0x1f1)],_0xa730e2=this[_0x336b12(0x148)];if(_0x3eb303>this['move_no'])for(;;){_0x184164=_0x184164['next'];if(_0x184164==null)return console[_0x336b12(0x210)](_0x336b12(0x32c)+_0x3eb303+_0x336b12(0x33b)+_0xa730e2),null;_0xa730e2++;if(_0x3eb303==_0xa730e2)return _0x184164;}else for(;;){_0x184164=this[_0x336b12(0x281)](_0x184164);if(_0x184164==null)return console[_0x336b12(0x210)](_0x336b12(0x32c)+_0x3eb303+_0x336b12(0x33b)+_0xa730e2),null;_0xa730e2--;if(_0x3eb303==_0xa730e2)return _0x184164;}return null;}[_0x56ae28(0x31e)](){const _0x15638c=_0x56ae28;let _0x2be8f2=new Kifup();if(this[_0x15638c(0x1f1)]==null)return _0x2be8f2['f']=_0x2be8f2['t']=0x0,_0x2be8f2;let _0x44b135=this['current_p'][_0x15638c(0x278)];if(_0x44b135==null)return _0x2be8f2['f']=_0x2be8f2['t']=0x0,_0x2be8f2;return _0x2be8f2['f']=_0x44b135['f'],_0x2be8f2['t']=_0x44b135['t'],_0x2be8f2;}['get_last_move'](){const _0x589e45=_0x56ae28;let _0x46c45c=new Kifup();if(this[_0x589e45(0x1f1)]==null||this[_0x589e45(0x1f1)]==this['kifu_root'])_0x46c45c['f']=_0x46c45c['t']=0x0;else{_0x46c45c['f']=this[_0x589e45(0x1f1)]['f'],_0x46c45c['t']=this['current_p']['t'];if(_0x46c45c['t']<0xb){let _0x52021f=this['find_oya'](this[_0x589e45(0x1f1)]);_0x52021f==null||_0x52021f==this[_0x589e45(0x2bb)]?_0x46c45c['f']=_0x46c45c['t']=0x0:(_0x46c45c['f']=_0x52021f['f'],_0x46c45c['t']=_0x52021f['t']);}}return _0x46c45c;}[_0x56ae28(0x308)](_0x505b9a){const _0x49b155=_0x56ae28;if(this['current_p']==null)return console[_0x49b155(0x210)](_0x49b155(0x1d8)),-0x1;var _0x45140a=this['current_p'][_0x49b155(0x278)];if(_0x45140a==null)return console[_0x49b155(0x210)](_0x49b155(0x15e)),-0x1;if(_0x505b9a['f']==_0x45140a['f']&&_0x505b9a['t']==_0x45140a['t'])return this[_0x49b155(0x1f1)]=_0x45140a,0x0;_0x45140a=_0x45140a['branch'];for(;;){if(_0x45140a==null)return console[_0x49b155(0x210)](_0x49b155(0x331)),-0x1;if(_0x505b9a['f']==_0x45140a['f']&&_0x505b9a['t']==_0x45140a['t'])return this[_0x49b155(0x1f1)]=_0x45140a,0x0;_0x45140a=_0x45140a[_0x49b155(0x230)];}return-0x1;}[_0x56ae28(0x2c9)](){const _0x258fde=_0x56ae28;let _0x4db421=this[_0x258fde(0x31e)]();if(_0x4db421['t']<0xb)return 0x0;if(_0x4db421['f']!=0x0)return 0x1;return 0x0;}[_0x56ae28(0x160)](){const _0x5b9111=_0x56ae28;for(let _0x39a4b0=this[_0x5b9111(0x2bb)];;){if(_0x39a4b0==null)break;if(_0x39a4b0!=this[_0x5b9111(0x2bb)]){if(_0x39a4b0['f']==0x0&&_0x39a4b0['t']==0x0)break;if(_0x39a4b0['f']!=0x0&&_0x39a4b0['t']<0xb)return 0x1;}_0x39a4b0=_0x39a4b0[_0x5b9111(0x278)];}return 0x0;}['BRANCH_______________'](){}[_0x56ae28(0x196)](){const _0x542388=_0x56ae28;if(this[_0x542388(0x1ee)]==0x0)return 0x0;if(this[_0x542388(0x1f1)]==null)return 0x0;let _0x3773dd=this[_0x542388(0x1f1)][_0x542388(0x278)];if(_0x3773dd==null)return 0x0;if(_0x3773dd['branch']!=null)return 0x1;return 0x0;}['is_bunki_n'](_0xdfc507){const _0x5c5eb6=_0x56ae28;if(this[_0x5c5eb6(0x1ee)]==0x0)return 0x0;let _0x4e1f74=this[_0x5c5eb6(0x301)](_0xdfc507);if(_0x4e1f74==null)return 0x0;if(_0x4e1f74[_0x5c5eb6(0x230)]!=null)return 0x1;let _0x4335b=this[_0x5c5eb6(0x281)](_0x4e1f74);if(_0x4335b==null)return 0x0;if(_0x4335b[_0x5c5eb6(0x278)]==_0x4e1f74)return 0x0;if(_0x4335b[_0x5c5eb6(0x278)]['branch']!=null)return 0x1;return 0x0;}[_0x56ae28(0x1a5)](_0x4994ae){const _0x158cb9=_0x56ae28;if(_0x4994ae==null)return 0x0;let _0xf8864c;for(_0xf8864c=_0x4994ae;;){let _0x4f4a4c=this['find_oya'](_0xf8864c);if(_0x4f4a4c==null)break;if(_0x4f4a4c['next']!=_0xf8864c)return 0x1;if(_0x4f4a4c==this[_0x158cb9(0x2bb)])break;_0xf8864c=_0x4f4a4c;}return 0x0;}['get_comment'](_0x52928b){const _0x2a2493=_0x56ae28;let _0x21109e=this['get_kifup'](_0x52928b);if(_0x21109e==null)return null;return _0x21109e[_0x2a2493(0x20d)];}['add_comment'](_0x33a03a,_0x55fd6f){const _0x1e9240=_0x56ae28;let _0x37afc2=this[_0x1e9240(0x301)](_0x33a03a);if(_0x37afc2==null)return-0x4;let _0x4f4c4c=_0x37afc2[_0x1e9240(0x20d)];return _0x4f4c4c==null?_0x37afc2[_0x1e9240(0x20d)]=_0x55fd6f:_0x37afc2['comment']+='\x0a'+_0x55fd6f,0x0;}[_0x56ae28(0x36f)](){const _0xa896e9=_0x56ae28;let _0x4b6109=this['motijikan'];if(_0x4b6109==null)return 0x0;if(_0x4b6109['indexOf']('各')==0x0){_0x4b6109=_0x4b6109[_0xa896e9(0x176)](0x1);if(_0x4b6109==null)return 0x0;}let _0x12407c;if(_0x4b6109[_0xa896e9(0x32b)](0x0)>='0'&&_0x4b6109['charAt'](0x0)<='9')_0x12407c=parseInt(_0x4b6109[_0xa896e9(0x32b)](0x0));else _0x12407c=get_zen_num(_0x4b6109);let _0x1f498a=0x0,_0x4dcf94=_0x4b6109[_0xa896e9(0x2b0)]('分');if(_0x4dcf94>=0x0){let _0x1aa01b=_0x4b6109[_0xa896e9(0x2b0)]('時間');if(_0x1aa01b>=0x0){if(_0x4b6109[_0xa896e9(0x32b)](_0x1aa01b+0x2)>='0'&&_0x4b6109[_0xa896e9(0x32b)](_0x1aa01b+0x2)<='9'){let _0x48c170=parseInt(_0x4b6109[_0xa896e9(0x32b)](_0x1aa01b+0x2));if(isNaN(_0x48c170))return 0x0;if(_0x4b6109[_0xa896e9(0x32b)](_0x1aa01b+0x3)>='0'&&_0x4b6109[_0xa896e9(0x32b)](_0x1aa01b+0x3)<='9'){let _0x26e6b0=parseInt(_0x4b6109[_0xa896e9(0x32b)](_0x1aa01b+0x3));if(isNaN(_0x26e6b0))return 0x0;_0x1f498a=_0x48c170*0xa+_0x26e6b0;}else _0x1f498a=_0x48c170;}}else _0x12407c=0x0,_0x1f498a=parseInt(_0x4b6109);}return _0x12407c*0x3c+_0x1f498a;}['get_koma_2posi'](_0x652314,_0xe697c){const _0x4b85d5=_0x56ae28;let _0x1ca84d=0x0,_0x43725e=0x0;for(var _0x1ac86f=0xb;_0x1ac86f<=0x63;_0x1ac86f++){if(_0x652314[_0x4b85d5(0x1d3)][_0x1ac86f]==_0xe697c){if(_0x1ca84d==0x0)_0x1ca84d=_0x1ac86f;else _0x43725e=_0x1ac86f;}}let _0x33e69c=new Point();return _0x33e69c['x']=_0x1ca84d,_0x33e69c['y']=_0x43725e,_0x33e69c;}[_0x56ae28(0x373)](_0x12cfb4,_0x24b35a,_0x5ca682,_0x46a802,_0x559a10,_0x38be6a,_0x14cb83,_0x38df0a){const _0x4f0221=_0x56ae28;let _0xc04fc3=_0x559a10&0xf;if((_0xc04fc3==RY||_0xc04fc3==UM)&&(_0x38be6a==MIGI||_0x38be6a==HIDARI)){let _0x5e8924=this[_0x4f0221(0x32f)](_0x12cfb4,_0x559a10),_0x45f404=parseInt(_0x5e8924['x']/0xa),_0x519bc1=parseInt(_0x5e8924['y']/0xa);if(_0x5e8924['y']>0x0&&_0x45f404!=_0x519bc1)return _0x38be6a;}let _0x1fb725=_0x14cb83[0x0];for(let _0x29c198=0x1;_0x29c198<=_0x1fb725;_0x29c198++){let _0x650127=_0x14cb83[_0x29c198];if(_0x650127==_0x5ca682)continue;if(_0x12cfb4[_0x4f0221(0x1d3)][_0x650127]==_0x559a10){let _0x53bd6e=_0x12cfb4[_0x4f0221(0x293)](_0x650127,_0x46a802);for(let _0x43e167=0x0;_0x43e167<0xa;_0x43e167++){let _0xf0b61a=kdirs[_0x38be6a][_0x43e167];if(_0xf0b61a==0x0)break;if(_0x38df0a==0x0&&(_0x38be6a==MIGI||_0x38be6a==HIDARI)&&_0xf0b61a==-0x1)break;if(_0x24b35a==GOTE)_0xf0b61a=-_0xf0b61a;if(_0xf0b61a==_0x53bd6e)return 0x0;}}}return _0x38be6a;}[_0x56ae28(0x306)](_0x3ed37f,_0x5099b8,_0x50a588,_0x1ee900,_0xea91bd,_0x106401){const _0x2d211e=_0x56ae28;let _0x154160=_0x106401['f'],_0x50ad42=_0x3ed37f[_0x2d211e(0x1d3)][_0x154160],_0x32fcac=_0x50ad42&0xf;if(_0x154160!=0x0&&(_0x32fcac==RY||_0x32fcac==UM)){let _0x345cbf=this[_0x2d211e(0x32f)](_0x3ed37f,_0x50ad42),_0x3c2049=_0x345cbf['x'],_0x361c6c=_0x345cbf['y'],_0x4c9a9c=parseInt(_0x3c2049/0xa),_0x5aa8e8=parseInt(_0x361c6c/0xa);if(_0x361c6c>0x0&&_0x4c9a9c!=_0x5aa8e8){let _0x6f050c=_0x106401['t']&0x7f,_0x41ea02=_0x6f050c%0xa,_0x1f86e1=_0x3c2049%0xa,_0x148114=_0x361c6c%0xa;if(_0x1f86e1>_0x41ea02&&_0x148114>_0x41ea02||_0x1f86e1<_0x41ea02&&_0x148114<_0x41ea02){var _0x6254b=parseInt(_0x154160/0xa);if(_0x50ad42&0x80){if(_0x154160==_0x3c2049){if(_0x6254b>_0x5aa8e8)return HIDARI;else return MIGI;}else{if(_0x6254b>_0x4c9a9c)return HIDARI;else return MIGI;}}else{if(_0x154160==_0x3c2049){if(_0x6254b>_0x5aa8e8)return MIGI;else return HIDARI;}else{if(_0x6254b>_0x4c9a9c)return MIGI;else return HIDARI;}}}}}for(;_0xea91bd<=0xe;_0xea91bd++){if(_0x50a588&&_0xea91bd==SUGU)continue;for(let _0x2aff06=0x0;_0x2aff06<0xa;_0x2aff06++){let _0x39812f=kdirs[_0xea91bd][_0x2aff06];if(_0x39812f==0x0)break;if(_0x50a588==0x0&&(_0xea91bd==MIGI||_0xea91bd==HIDARI)&&_0x39812f==-0x1)break;if(_0x5099b8==GOTE)_0x39812f=-_0x39812f;if(_0x39812f==_0x1ee900){if((_0x32fcac==RY||_0x32fcac==UM)&&(_0xea91bd==MIGIHIKI||_0xea91bd==MIGIAGARU||_0xea91bd==HIDARIHIKI||_0xea91bd==HIDARIAGARU)){let _0x3edd14=this[_0x2d211e(0x32f)](_0x3ed37f,_0x50ad42),_0x5f19ed=_0x3edd14['x'],_0x3a4024=_0x3edd14['y'],_0x42e8ac=_0x5f19ed%0xa,_0x46a1ff=_0x3a4024%0xa;if(_0x3a4024>0x0&&_0x42e8ac==_0x46a1ff){if(_0xea91bd==MIGIHIKI||_0xea91bd==MIGIAGARU)return MIGI;return HIDARI;}}return _0xea91bd;}}}return 0x0;}[_0x56ae28(0x307)](_0x443934,_0x35315b){const _0x4bc82d=_0x56ae28;let _0x422276=new Array(0x14),_0xdad2d7=_0x35315b['f'],_0x496d08=_0x443934[_0x4bc82d(0x227)](_0xdad2d7),_0x4f53ea;if((_0x496d08&0x6)==0x6)_0x4f53ea=0x1;else _0x4f53ea=0x0;let _0x586c38=_0x496d08&0x80,_0x6212ab=_0x35315b['t'],_0x1ce1e5=_0x6212ab&0x7f,_0x59d6ca=0x0;if((_0x6212ab&0x80)==0x0&&_0x443934[_0x4bc82d(0x1e4)](_0xdad2d7,_0x1ce1e5,_0x496d08)!=0x0)_0x59d6ca=0x40;let _0x33ee2f=_0x443934[_0x4bc82d(0x347)](_0x1ce1e5,_0x586c38,0xa,_0x422276),_0x3a0ee2;if((_0x6212ab&0x80)!=0x0)_0x3a0ee2=_0x496d08&0x87;else _0x3a0ee2=_0x496d08;let _0x30df6f=0x0;for(let _0x2712ab=0x1;_0x2712ab<=_0x33ee2f;_0x2712ab++){let _0x2c30f3=_0x422276[_0x2712ab];if(_0x2c30f3==_0xdad2d7)continue;if(_0x443934[_0x4bc82d(0x1d3)][_0x2c30f3]==_0x3a0ee2){_0x30df6f++;break;}}let _0x134da1;if(_0x30df6f==0x0)return _0x134da1=0x1,_0x134da1|_0x59d6ca;if(_0xdad2d7>0x63)return _0x59d6ca;let _0x2ede74=_0x443934[_0x4bc82d(0x293)](_0xdad2d7,_0x1ce1e5);for(let _0x249bc0=0x3;;_0x249bc0++){_0x249bc0=this[_0x4bc82d(0x306)](_0x443934,_0x586c38,_0x4f53ea,_0x2ede74,_0x249bc0,_0x35315b);if(_0x249bc0==0x0)return console['error']('**\x20修飾子が決まらない\x20f='+_0xdad2d7),_0x59d6ca;let _0x399d8a=this[_0x4bc82d(0x373)](_0x443934,_0x586c38,_0xdad2d7,_0x1ce1e5,_0x496d08,_0x249bc0,_0x422276,_0x4f53ea);if(_0x399d8a!=0x0){_0x134da1=_0x399d8a;break;}}return _0x134da1|_0x59d6ca;}[_0x56ae28(0x332)](_0x171f4d,_0x3833b9,_0x11765d){const _0x1925ba=_0x56ae28;_0x3833b9[_0x1925ba(0x16d)]=this[_0x1925ba(0x307)](_0x171f4d,_0x11765d);}[_0x56ae28(0x246)](){const _0x40084f=_0x56ae28;for(let _0x468a1e=0x1;_0x468a1e<KIFU_MAX;_0x468a1e++){if(this[_0x40084f(0x1ba)][_0x468a1e]['f']==0x0)return this[_0x40084f(0x1ba)][_0x468a1e];}return console[_0x40084f(0x210)]('***\x20get_new_kp\x20error'),null;}[_0x56ae28(0x29d)](_0x5dabac,_0x50f002,_0x4cd763,_0x3af065){const _0x238f09=_0x56ae28;typeof _0x4cd763['k']==='undefined'&&console[_0x238f09(0x210)](_0x238f09(0x2da));if(this[_0x238f09(0x1f1)]==null)return console[_0x238f09(0x210)](_0x238f09(0x2c3)),-0x1;let _0xf25901=this[_0x238f09(0x1f1)][_0x238f09(0x278)],_0x2f3363;if(_0xf25901==null){_0x2f3363=this[_0x238f09(0x246)]();if(_0x2f3363==null)return-0x1;this[_0x238f09(0x1f1)][_0x238f09(0x278)]=_0x2f3363;}else{if(_0xf25901['t']==CHUDAN)_0x2f3363=_0xf25901;else{if(_0xf25901['t']<0xb&&_0x4cd763['t']<0xb)_0x2f3363=_0xf25901;else{if(_0xf25901['f']==_0x4cd763['f']&&_0xf25901['t']==_0x4cd763['t'])_0x2f3363=_0xf25901;else{if(_0x4cd763['t']==CHUDAN)return 0x0;let _0x2b4166=_0xf25901;for(;;){if(_0x2b4166[_0x238f09(0x230)]==null){_0x2f3363=this[_0x238f09(0x246)]();if(_0x2f3363==null)return-0x1;_0x2b4166['branch']=_0x2f3363;break;}_0x2b4166=_0x2b4166[_0x238f09(0x230)];if(_0x2b4166['f']==_0x4cd763['f']&&_0x2b4166['t']==_0x4cd763['t']){_0x2f3363=_0x2b4166;break;}}}}}}if(_0x2f3363==null)return console['error']('***\x20store\x20kp\x20==\x20null\x0a'),-0x1;return _0x2f3363['f']=_0x4cd763['f'],_0x2f3363['k']=_0x4cd763['k'],_0x2f3363['t']=_0x4cd763['t'],_0x4cd763['t']>0xa?_0x2f3363['c']=_0x5dabac[_0x238f09(0x1d3)][_0x4cd763['t']&0x7f]:(_0x2f3363['c']=0x0,_0x2f3363['f']=0x1),this['current_p']=_0x2f3363,this[_0x238f09(0x332)](_0x5dabac,_0x2f3363,_0x4cd763),_0x2f3363[_0x238f09(0x28a)]=_0x3af065,0x0;}[_0x56ae28(0x36a)](_0x33c3a1,_0x4ffc90,_0x4a247f,_0x1d49d8){const _0x41f89f=_0x56ae28;typeof _0x4a247f['k']==='undefined'&&console[_0x41f89f(0x210)](_0x41f89f(0x17a));if(_0x4a247f['t']==CHUDAN)return 0x0;if(_0x4ffc90[_0x41f89f(0x29f)]==SENTE){if((this[_0x41f89f(0x148)]&0x1)==0x0)_0x4a247f['k']|=SENTE;}else{if((this[_0x41f89f(0x148)]&0x1)!=0x0)_0x4a247f['k']|=SENTE;}if(_0x4a247f['t']<0xb){let _0xde6d51=this[_0x41f89f(0x29d)](_0x33c3a1,_0x4ffc90,_0x4a247f,_0x1d49d8);return this[_0x41f89f(0x148)]++,_0xde6d51;}if(_0x4a247f['f']==0x0){if(_0x33c3a1[_0x41f89f(0x29f)])_0x4a247f['f']=0x90|_0x4a247f['k']&0x7;else _0x4a247f['f']=0x80|_0x4a247f['k']&0x7;}else _0x4a247f['k']=_0x33c3a1['FromToK'](_0x4a247f['f']),typeof _0x4a247f['k']===_0x41f89f(0x218)&&console[_0x41f89f(0x210)](_0x41f89f(0x297)+_0x4a247f['f']);let _0x4b86bf=_0x33c3a1[_0x41f89f(0x1d3)][_0x4a247f['t']&0x7f];if(_0x4a247f['f']>0x63){if(_0x4b86bf!=0x0)return console['error'](_0x41f89f(0x284)),-0x1;if((_0x4a247f['t']&0x80)!=0x0)return console[_0x41f89f(0x210)](_0x41f89f(0x35b)),-0x1;}else{if(_0x4a247f['t']>0xa){if(_0x33c3a1[_0x41f89f(0x1d3)][_0x4a247f['f']]==0x0)return console[_0x41f89f(0x210)](_0x41f89f(0x33e)+_0x4a247f['f']+_0x41f89f(0x286)+_0x33c3a1[_0x41f89f(0x1d3)][_0x4a247f['f']]),-0x1;if(_0x4b86bf!=0x0){if((_0x33c3a1['board'][_0x4a247f['f']]&0x80)==(_0x4b86bf&0x80))return console['error'](_0x41f89f(0x186)+_0x4b86bf+'\x20kf='+_0x33c3a1['board'][_0x4a247f['f']]),-0x1;}}}let _0x1abc85=this[_0x41f89f(0x29d)](_0x33c3a1,_0x4ffc90,_0x4a247f,_0x1d49d8);if(_0x1abc85!=0x0)return-0x2;_0x33c3a1['exec_move'](_0x4a247f),this[_0x41f89f(0x148)]++;if(_0x4a247f['t']>0xa)_0x33c3a1[_0x41f89f(0x1b5)]();return 0x0;}[_0x56ae28(0x26a)](_0x287def,_0x3f4393,_0x3c8614,_0x20ec07,_0x508545,_0x3099ca,_0x47d9a9,_0x48c44c){const _0x217b8c=_0x56ae28,_0x42874c=['０','１','２','３','４','５','６','７','８','９'],_0x557753=['零','一','二','三','四','五','六','七','八','九'],_0x2a5dd0=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'],_0x3f3b60=['','','行','上','引','直','寄','右','左','右引','右寄','右上','左引','左寄','左上'];let _0x2f782b;if(_0x47d9a9==0x0)_0x2f782b='';else{if((_0x3c8614&0x80)!=0x0){if(_0x47d9a9==0x3)_0x2f782b='☗';else _0x2f782b='▲';}else{if(_0x47d9a9==0x3)_0x2f782b='☖';else{if(_0x47d9a9==0x1)_0x2f782b='△';else _0x2f782b='▽';}}}_0x3c8614&=0xf;let _0x3bf780=_0x3f4393&0x7f,_0x278b70='';if(_0x3f4393==TORYO)_0x278b70='投了';else{if(_0x3f4393==CHUDAN)_0x278b70='中断';else{if(_0x3f4393==JISHOGI)_0x278b70=_0x217b8c(0x228);else{if(_0x3f4393==TUMI)_0x278b70='詰み';else{if(_0x3f4393==SENNITITE)_0x278b70=_0x217b8c(0x22c);else{if(_0x3f4393==KIREMAKE)_0x278b70=_0x217b8c(0x2ad);else{if(_0x3f4393==KACHI)_0x278b70=_0x217b8c(0x2b8);else{if(_0x3f4393==HANSOKU_KACHI)_0x278b70='反則勝ち';else{if(_0x3f4393==HANSOKU_MAKE)_0x278b70=_0x217b8c(0x17f);else{if(_0x3f4393==SENTE_HANSOKU)_0x278b70='先手反則負け';else{if(_0x3f4393==GOTE_HANSOKU)_0x278b70=_0x217b8c(0x2c7);else{let _0x583cb2=parseInt(_0x3bf780/0xa);if(_0x3099ca==0x0&&_0x3bf780==_0x508545)_0x278b70='同\u3000';else{if(_0x3099ca==0x2&&_0x3bf780==_0x508545)_0x278b70+=_0x42874c[_0x583cb2]+_0x557753[_0x3bf780%0xa]+'同';else{if(_0x3099ca==0x3&&_0x3bf780==_0x508545)_0x278b70='同';else _0x278b70+=_0x42874c[_0x583cb2]+_0x557753[_0x3bf780%0xa];}}if(_0x3c8614<FU||_0x3c8614>RY){}else{if(_0x3c8614==NY)_0x278b70+='成香';else{if(_0x3c8614==NE)_0x278b70+='成桂';else{if(_0x3c8614==NG)_0x278b70+='成銀';else _0x278b70+=_0x2a5dd0[_0x3c8614];}}}if(_0x287def<0x64&&_0x287def!=0x0){_0x278b70+=_0x3f3b60[_0x20ec07&0x3f];if((_0x3f4393&0x80)!=0x0)_0x278b70+='成';else{if((_0x20ec07&0x40)!=0x0)_0x278b70+='不成';}}else{if(_0x20ec07==0x0)_0x278b70+='打';else{if(_0x3099ca==0x2){}}}}}}}}}}}}}}let _0x5878a0=_0x278b70;if(_0x5878a0[_0x217b8c(0x2b0)]('同')==0x0&&_0x5878a0[_0x217b8c(0x1f3)]>=0x4){let _0x16c65f=_0x5878a0[_0x217b8c(0x176)](0x2);_0x278b70='同'+_0x16c65f;}_0x278b70=_0x2f782b+_0x278b70;let _0x44250=_0x278b70[_0x217b8c(0x1f3)];for(;_0x44250<_0x48c44c;_0x44250++){_0x278b70+='\u3000';}return _0x278b70;}[_0x56ae28(0x15a)](_0x3a796f,_0xaf1fd5,_0x9c9cd1,_0x13f806){const _0x45daf7=_0x56ae28;if(_0x9c9cd1==null)return'';let _0x644c17,_0x13b56b,_0x178f42,_0x4a9fea;_0x644c17=_0x9c9cd1['f'],_0x13b56b=_0x9c9cd1['t'],_0x178f42=_0x9c9cd1['k'];((_0x178f42&0xf)<FU||(_0x178f42&0xf)>RY)&&(_0x644c17>0x2&&console[_0x45daf7(0x210)](_0x45daf7(0x344)+_0x9c9cd1['k']+_0x45daf7(0x1a0)+_0x9c9cd1['f']+_0x45daf7(0x296)+this[_0x45daf7(0x148)]));let _0x423590=_0x9c9cd1[_0x45daf7(0x16d)],_0x113cd2=this['find_oya'](_0x9c9cd1);if(_0x113cd2==null)_0x4a9fea=0x0;else _0x4a9fea=_0x113cd2['t']&0x7f;return this[_0x45daf7(0x26a)](_0x644c17,_0x13b56b,_0x178f42,_0x423590,_0x4a9fea,_0x3a796f,_0xaf1fd5,_0x13f806);}}typeof KIF_FILE_NAME===_0x56ae28(0x218)&&alert(_0x56ae28(0x1db));typeof KJ_DIR==='undefined'&&alert(_0x56ae28(0x317));var left_is_sente_flg=![];typeof LEFT_IS_SENTE!==_0x56ae28(0x218)&&(left_is_sente_flg=LEFT_IS_SENTE);var muji_flg=![],english_flg=![],bdinv_flg=![];const RATE=devicePixelRatio;console[_0x56ae28(0x195)](_0x56ae28(0x1cb)+RATE);function getScaleContext(_0x11fea8){const _0x262fba=_0x56ae28;let _0x57bf59=_0x11fea8[_0x262fba(0x185)]('2d');return _0x57bf59[_0x262fba(0x2af)](RATE,0x0,0x0,RATE,0x0,0x0),_0x57bf59;}var cbd=new Board(),start=new Board(),Kifu=new KifuData(),piece_img,TOP_INFO_H=0x46,BD_ORG_X=0x9a;if(FREE)BD_ORG_X=0x86;var BD_ORG_Y=TOP_INFO_H+0x28;const KOMA_SIZE_X=0x1f,KOMA_SIZE_Y=0x20,SQ_SIZE_X=KOMA_SIZE_X+0x3,SQ_SIZE_Y=KOMA_SIZE_Y+0x3,EDGE_X=0xc,EDGE_Y=0xc,LEFT_GAP=0x4,RIGHT_GAP=0x4,MOTI_EDGE_X=0x5,MOTI_EDGE_Y=0x3,MOTI_SQ_SIZE_X=SQ_SIZE_X*0x3/0x2+0x1,MOTI_SIZE_X=0x3*SQ_SIZE_X+0x2+0x2*MOTI_EDGE_X,MOTI_SIZE_Y=0x4*SQ_SIZE_Y+EDGE_Y,FU_PITCH=KOMA_SIZE_X-0x3,KOMADAI_LEFT_X=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;var KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y;const KOMADAI_RIGHT_X=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y;const MOTI_OVERLAP=0x3,KSQ_SIZE_Y=SQ_SIZE_Y-0x1,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4,comment_hight=0x6e;!FREE&&(comment_hight=0x88);var board_color=_0x56ae28(0x1e8);class Point{}function drawLine(_0x3cb3b9,_0x45238c,_0x4b68c4,_0x2b0a03,_0x4faf6d){const _0x5f39d0=_0x56ae28;_0x3cb3b9[_0x5f39d0(0x2c5)](),_0x3cb3b9[_0x5f39d0(0x23c)](_0x45238c,_0x4b68c4),_0x3cb3b9['lineTo'](_0x2b0a03,_0x4faf6d),_0x3cb3b9[_0x5f39d0(0x208)]();}function drawRect(_0x37f6df,_0x5d2ddf,_0x59f420,_0x3a492b){const _0x587933=_0x56ae28;let _0x4135ff=getScaleContext(canvas);_0x4135ff[_0x587933(0x1f8)](_0x37f6df,_0x5d2ddf,_0x59f420,_0x3a492b);}const teai_name=['平手',_0x56ae28(0x349),'右香落ち',_0x56ae28(0x1fb),_0x56ae28(0x20b),'飛香落ち',_0x56ae28(0x36c),_0x56ae28(0x1ab),_0x56ae28(0x30f),_0x56ae28(0x279),_0x56ae28(0x1a8),_0x56ae28(0x20c),_0x56ae28(0x214),_0x56ae28(0x303),_0x56ae28(0x2d3)];function get_shohi(_0x3d4ff3){const _0x4e94b8=_0x56ae28;let _0x4c6f3a,_0x1849e6,_0x590049,_0x161f68=Kifu[_0x4e94b8(0x2f9)]();if(_0x161f68>0x0){let _0x482c0f=Kifu[_0x4e94b8(0x301)](Kifu[_0x4e94b8(0x148)]);if(_0x482c0f==null)return-0x1;let _0x5306dc=Kifu['get_total_time_kp'](_0x482c0f);console['log'](_0x4e94b8(0x168)+_0x5306dc);let _0x5a6f89;if(Kifu[_0x4e94b8(0x148)]<=0x0)_0x5a6f89=0x0;else{let _0x5791ee=Kifu['get_kifup'](Kifu[_0x4e94b8(0x148)]-0x1);if(_0x5791ee==null)return-0x1;_0x5a6f89=Kifu[_0x4e94b8(0x14c)](_0x5791ee);}_0x5306dc=parseInt(_0x5306dc/0x3c),_0x5a6f89=parseInt(_0x5a6f89/0x3c);(Kifu[_0x4e94b8(0x148)]&0x1)==0x0?(_0x590049=_0x5306dc,_0x1849e6=_0x5a6f89):(_0x1849e6=_0x5306dc,_0x590049=_0x5a6f89);_0x4c6f3a=Kifu[_0x4e94b8(0x148)];if(Kifu[_0x4e94b8(0x148)]>0x0&&_0x482c0f['t']<0xb)_0x4c6f3a=-0x1;}else{console[_0x4e94b8(0x195)](_0x4e94b8(0x27a)+Kifu[_0x4e94b8(0x1b4)]);if(Kifu[_0x4e94b8(0x1b4)]==null)return-0x1;let _0x2dfc7d=Kifu[_0x4e94b8(0x1b4)][_0x4e94b8(0x2b0)]('▲');if(_0x2dfc7d<0x0)return-0x1;let _0x3c285f=Kifu[_0x4e94b8(0x1b4)][_0x4e94b8(0x176)](0x0,_0x2dfc7d);_0x4c6f3a=parseInt(_0x3c285f);if(isNaN(_0x4c6f3a))return console[_0x4e94b8(0x210)](_0x4e94b8(0x24e)+_0x3c285f),-0x1;if(Kifu[_0x4e94b8(0x160)]()!=0x0&&_0x4c6f3a>=Kifu[_0x4e94b8(0x341)]()-0x1)_0x4c6f3a=-0x1;let _0xab8b87=Kifu['shohi_jikan'][_0x4e94b8(0x176)](_0x2dfc7d),_0x3b884e=_0xab8b87[_0x4e94b8(0x2b0)]('△');if(_0x3b884e<0x0)return;let _0x1be679=_0xab8b87[_0x4e94b8(0x176)](0x1,_0x3b884e),_0x307748=_0xab8b87[_0x4e94b8(0x176)](_0x3b884e+0x1);_0x1849e6=parseInt(_0x1be679),_0x590049=parseInt(_0x307748);if(isNaN(_0x1849e6)||isNaN(_0x590049))return console[_0x4e94b8(0x210)](_0x4e94b8(0x257)+Kifu['shohi_jikan']),-0x1;}return _0x3d4ff3==SENTE?_0x1849e6:_0x590049;}function get_shohi_tesuu(){const _0x425349=_0x56ae28;let _0x477859,_0x4cd75e=Kifu[_0x425349(0x2f9)]();if(_0x4cd75e>0x0){let _0x715570=Kifu['get_kifup'](Kifu[_0x425349(0x148)]);if(_0x715570==null)return-0x1;_0x477859=Kifu['move_no'];if(Kifu[_0x425349(0x148)]>0x0&&_0x715570['t']<0xb)_0x477859=-0x2;}else{if(Kifu[_0x425349(0x1b4)]==null)return-0x1;let _0x4f974c=Kifu[_0x425349(0x1b4)][_0x425349(0x2b0)]('▲');if(_0x4f974c<0x0)return-0x1;let _0x53bccd=Kifu[_0x425349(0x1b4)][_0x425349(0x176)](0x0,_0x4f974c);_0x477859=parseInt(_0x53bccd);if(isNaN(_0x477859))return console[_0x425349(0x210)](_0x425349(0x24e)+_0x53bccd),-0x1;if(Kifu[_0x425349(0x160)]()!=0x0&&_0x477859>=Kifu[_0x425349(0x341)]()-0x1)_0x477859=-0x2;}return _0x477859;}function Info(_0x5c7a06){const _0x4a7c8a=_0x56ae28,_0x272b10=0x1,_0x1136b4=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x272b10,_0x33a004=BD_ORG_Y-EDGE_Y,_0x9a75ef=0x3,_0x38dc3d=MOTI_SIZE_Y+SQ_SIZE_Y-_0x9a75ef,_0x51fffa=_0x33a004,_0xc94dd=MOTI_SIZE_X+0x1-_0x272b10;let _0x5b2aae=_0x51fffa+_0x38dc3d,_0x2ef9ec=getScaleContext(canvas);_0x2ef9ec[_0x4a7c8a(0x294)]=_0x4a7c8a(0x19e),_0x2ef9ec[_0x4a7c8a(0x343)](_0x1136b4,_0x51fffa,_0xc94dd,_0x5b2aae-_0x51fffa),_0x2ef9ec[_0x4a7c8a(0x2dd)]='black',_0x2ef9ec[_0x4a7c8a(0x28e)]=0x1,_0x2ef9ec[_0x4a7c8a(0x1f8)](_0x1136b4,_0x51fffa,_0xc94dd,_0x5b2aae-_0x51fffa),_0x2ef9ec[_0x4a7c8a(0x294)]='rgb(0,\x200,\x200)',_0x2ef9ec['font']=_0x4a7c8a(0x20a);let _0x2f753b=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0x1e;_0x2ef9ec['fillText'](''+version,_0x2f753b,KOMADAI_LEFT_Y-0x8),_0x2ef9ec['font']=_0x4a7c8a(0x1e1);const _0x321962=_0x1136b4+0x2,_0x3ed8d1=0x9,_0x3f4275=0x12;let _0x1ed13b,_0x2d5528;if(_0x5c7a06[_0x4a7c8a(0x34b)]!=null&&_0x5c7a06[_0x4a7c8a(0x34b)][_0x4a7c8a(0x1f3)]>0x0){_0x1ed13b=_0x33a004+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x4a7c8a(0x336)+_0x5c7a06[_0x4a7c8a(0x34b)],_0x321962,_0x1ed13b),_0x1ed13b=_0x33a004+_0x3f4275+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x5c7a06['sakuhinmei'],_0x321962,_0x1ed13b,_0xc94dd),_0x1ed13b=_0x33a004+0x2*_0x3f4275+0xe;if(_0x5c7a06[_0x4a7c8a(0x312)]!=null&&_0x5c7a06[_0x4a7c8a(0x312)][_0x4a7c8a(0x1f3)]>0x0)_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x4a7c8a(0x19d)+_0x5c7a06[_0x4a7c8a(0x312)],_0x321962,_0x1ed13b,_0xc94dd);else{if(_0x5c7a06[_0x4a7c8a(0x16b)]!=null&&_0x5c7a06['happyoushi'][_0x4a7c8a(0x1f3)]>0x0)_0x2ef9ec['fillText'](_0x4a7c8a(0x2a9)+_0x5c7a06[_0x4a7c8a(0x16b)],_0x321962,_0x1ed13b,_0xc94dd);}_0x1ed13b=_0x33a004+0x3*_0x3f4275+0xe,_0x2ef9ec['fillText'](_0x4a7c8a(0x372)+_0x5c7a06[_0x4a7c8a(0x27b)],_0x321962,_0x1ed13b,_0xc94dd);cbd[_0x4a7c8a(0x236)]!=0x0&&(_0x1ed13b=_0x33a004+0x4*_0x3f4275+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)]('持ち駒制限',_0x321962,_0x1ed13b,_0xc94dd));return;}if(_0x5c7a06[_0x4a7c8a(0x234)]!=null){let _0x3fab71=_0x5c7a06[_0x4a7c8a(0x234)],_0x17493b=_0x3fab71[_0x4a7c8a(0x2b0)]('\x20');if(_0x17493b>0x0)_0x3fab71=_0x3fab71[_0x4a7c8a(0x176)](0x0,_0x17493b);_0x17493b=_0x3fab71[_0x4a7c8a(0x2b0)]('(');if(_0x17493b>0x0)_0x3fab71=_0x3fab71[_0x4a7c8a(0x176)](0x0,_0x17493b);let _0x355147=_0x5c7a06[_0x4a7c8a(0x234)];_0x17493b=_0x355147[_0x4a7c8a(0x2b0)]('\x20');if(_0x17493b>=0x0){_0x2d5528=_0x355147[_0x4a7c8a(0x1f3)];let _0x18f5ab=_0x17493b+0x1;for(;;){if(_0x18f5ab>=_0x2d5528)break;if(_0x355147[_0x4a7c8a(0x32b)](_0x18f5ab)=='\x20')_0x18f5ab++;else break;}_0x18f5ab<_0x2d5528&&(_0x355147=_0x355147[_0x4a7c8a(0x176)](_0x18f5ab),_0x3fab71+='\x20'+_0x355147);}_0x1ed13b=_0x33a004+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x3fab71,_0x321962,_0x1ed13b,_0xc94dd);}if(_0x5c7a06[_0x4a7c8a(0x27c)]!=null){let _0x2be5b7=_0x5c7a06[_0x4a7c8a(0x27c)];_0x2d5528=_0x2be5b7[_0x4a7c8a(0x1f3)],_0x2d5528>=_0x3ed8d1&&(_0x2be5b7=_0x2be5b7[_0x4a7c8a(0x1f6)](0x0,_0x3ed8d1)),_0x1ed13b=_0x33a004+_0x3f4275+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x2be5b7,_0x321962,_0x1ed13b,_0xc94dd);}if(_0x5c7a06[_0x4a7c8a(0x282)]!=null){let _0x20cb05=_0x5c7a06[_0x4a7c8a(0x282)];_0x2d5528=_0x20cb05[_0x4a7c8a(0x1f3)],_0x2d5528>=_0x3ed8d1&&(_0x20cb05=_0x20cb05[_0x4a7c8a(0x1f6)](0x0,_0x3ed8d1)),_0x1ed13b=_0x33a004+0x2*_0x3f4275+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x20cb05,_0x321962,_0x1ed13b,_0xc94dd);}_0x5c7a06[_0x4a7c8a(0x199)]!=null&&_0x5c7a06[_0x4a7c8a(0x199)][_0x4a7c8a(0x1f3)]>0x0&&(_0x1ed13b=_0x33a004+0x3*_0x3f4275+0xe,_0x2ef9ec['fillText'](_0x4a7c8a(0x169)+_0x5c7a06['motijikan'],_0x321962,_0x1ed13b,_0xc94dd));let _0x1485fc=Kifu[_0x4a7c8a(0x36f)](),_0x14d106=Kifu[_0x4a7c8a(0x2f9)](),_0x25d30b=get_shohi(SENTE),_0x1a51ec=get_shohi(GOTE);_0x25d30b>_0x1485fc&&(_0x25d30b=_0x1485fc);_0x1a51ec>_0x1485fc&&(_0x1a51ec=_0x1485fc);console[_0x4a7c8a(0x195)](_0x4a7c8a(0x150)+_0x25d30b);{_0x1ed13b=_0x33a004+0x4*_0x3f4275+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)]('消費時間：',_0x321962,_0x1ed13b,_0xc94dd);if(_0x25d30b>=0x0){let _0x29ecd7=time_to_str(_0x25d30b);_0x1ed13b=_0x33a004+0x5*_0x3f4275+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x4a7c8a(0x26d)+_0x29ecd7,_0x321962,_0x1ed13b,_0xc94dd);}if(_0x1a51ec>=0x0){let _0x3009f9=time_to_str(_0x1a51ec);_0x1ed13b=_0x33a004+0x6*_0x3f4275+0xe,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x4a7c8a(0x32e)+_0x3009f9,_0x321962,_0x1ed13b,_0xc94dd);}}if(_0x1485fc>0x0){let _0x40a013=get_shohi_tesuu();_0x1ed13b=_0x33a004+0x7*_0x3f4275+0xe;if(_0x40a013==-0x2)_0x2ef9ec['fillText'](_0x4a7c8a(0x21b),_0x321962,_0x1ed13b,_0xc94dd);else{if(_0x40a013==-0x1)return;else _0x2ef9ec[_0x4a7c8a(0x1d1)](_0x4a7c8a(0x17e)+_0x40a013+_0x4a7c8a(0x350),_0x321962,_0x1ed13b,_0xc94dd);}let _0x5348a5=_0x1485fc-_0x25d30b;if(_0x5348a5<0x0)_0x5348a5=0x0;{if(_0x5348a5<=0x1)_0x2ef9ec[_0x4a7c8a(0x294)]=_0x4a7c8a(0x23b);else{if(_0x5348a5<=0xa)_0x2ef9ec['fillStyle']=_0x4a7c8a(0x2fc);else _0x2ef9ec[_0x4a7c8a(0x294)]='rgb(0,\x200,\x200)';}}let _0x2edca3=time_to_str(_0x5348a5);_0x1ed13b=_0x33a004+0x8*_0x3f4275+0xf,_0x2ef9ec['fillText'](_0x4a7c8a(0x26d)+_0x2edca3,_0x321962,_0x1ed13b,_0xc94dd);let _0x1ca9e2=_0x1485fc-_0x1a51ec;if(_0x1ca9e2<0x0)_0x1ca9e2=0x0;if(_0x1ca9e2<=0x1)_0x2ef9ec[_0x4a7c8a(0x294)]=_0x4a7c8a(0x23b);else{if(_0x1ca9e2<=0xa)_0x2ef9ec[_0x4a7c8a(0x294)]=_0x4a7c8a(0x2fc);else _0x2ef9ec[_0x4a7c8a(0x294)]='rgb(0,\x200,\x200)';}_0x2edca3=time_to_str(_0x1ca9e2),_0x1ed13b=_0x33a004+0x9*_0x3f4275+0xf,_0x2ef9ec[_0x4a7c8a(0x1d1)](_0x4a7c8a(0x32e)+_0x2edca3,_0x321962,_0x1ed13b,_0xc94dd);}_0x2ef9ec[_0x4a7c8a(0x294)]=_0x4a7c8a(0x15f),console['log'](_0x4a7c8a(0x292)+cbd[_0x4a7c8a(0x236)]),cbd['teai']!=0x0&&(_0x1ed13b=_0x33a004+0xa*_0x3f4275+0xe);}function TopInfo(_0x5a6404){const _0x287fe8=_0x56ae28;console[_0x287fe8(0x195)](_0x287fe8(0x1d0));if(FREE){Info(_0x5a6404);return;}let _0x3cb5a8=canvas[_0x287fe8(0x19a)](),_0x2f8054=_0x3cb5a8[_0x287fe8(0x17d)],_0x4dc4f9=_0x3cb5a8[_0x287fe8(0x2e4)],_0x5a00a7=document[_0x287fe8(0x360)][_0x287fe8(0x2c0)],_0x3248b8=document[_0x287fe8(0x18b)]['scrollTop'];if(_0x3248b8>_0x5a00a7)_0x4dc4f9+=_0x3248b8;else _0x4dc4f9+=_0x5a00a7;console[_0x287fe8(0x195)](_0x287fe8(0x31a)+_0x4dc4f9);const _0x1f8552=0x4;let _0x1de797=_0x2f8054+_0x1f8552;const _0x1daf4a=0x2,_0x3b9970=COMM_LEFT+COM_WIDTH,_0xafae32=_0x3b9970-_0x1de797,_0x49f15c=_0x1daf4a+TOP_INFO_H-0x2;let _0x957429=getScaleContext(canvas);_0x957429[_0x287fe8(0x294)]='rgb(255,\x20255,\x20255)',_0x957429['fillRect'](_0x1f8552,_0x1daf4a,_0xafae32,_0x49f15c-_0x1daf4a),_0x957429['strokeStyle']=_0x287fe8(0x175),_0x957429[_0x287fe8(0x28e)]=0x1,_0x957429['strokeRect'](_0x1f8552,_0x1daf4a,_0xafae32,_0x49f15c-_0x1daf4a);if(!small_header_flg){let _0x54b3ee='';if(_0x5a6404[_0x287fe8(0x234)]!=null){let _0x159f0a=_0x5a6404[_0x287fe8(0x234)],_0x450ada=_0x159f0a[_0x287fe8(0x2b0)]('\x20');if(_0x450ada>0x0)_0x159f0a=_0x159f0a[_0x287fe8(0x176)](0x0,_0x450ada);_0x450ada=_0x159f0a[_0x287fe8(0x2b0)]('(');if(_0x450ada>0x0)_0x159f0a=_0x159f0a[_0x287fe8(0x176)](0x0,_0x450ada);_0x54b3ee+=_0x159f0a;}if(_0x5a6404['kisen']!=null)_0x54b3ee+='\x20\u3000'+_0x5a6404[_0x287fe8(0x27c)];_0x957429[_0x287fe8(0x294)]=_0x287fe8(0x15f),_0x957429[_0x287fe8(0x177)]=_0x287fe8(0x2bf);top_label1==null&&(top_label1=document['createElement'](_0x287fe8(0x15d)),document[_0x287fe8(0x360)][_0x287fe8(0x329)](top_label1));top_label1[_0x287fe8(0x1ca)]['position']=_0x287fe8(0x2a1),top_label1[_0x287fe8(0x1ca)][_0x287fe8(0x2e4)]=String(_0x4dc4f9+_0x1daf4a)+'px',top_label1[_0x287fe8(0x1ca)][_0x287fe8(0x17d)]=String(_0x1de797)+'px',top_label1[_0x287fe8(0x1ca)][_0x287fe8(0x357)]=String(_0x3b9970-_0x1de797)+'px',top_label1[_0x287fe8(0x1ca)][_0x287fe8(0x35f)]=_0x287fe8(0x22d),top_label1[_0x287fe8(0x1ca)][_0x287fe8(0x2e0)]=_0x287fe8(0x251);top_label1['hasChildNodes']()&&top_label1[_0x287fe8(0x242)](top_label1[_0x287fe8(0x323)]);top_label1['appendChild'](document[_0x287fe8(0x311)](_0x54b3ee));let _0x254b6e='',_0x5b9e0d=null,_0x3ee0b6=null;if(_0x5a6404['seiseki']!=null){let _0x287b07=_0x5a6404[_0x287fe8(0x157)],_0x32824d=_0x287b07['indexOf']('▽');_0x32824d>=0x0?(_0x5b9e0d=_0x287b07[_0x287fe8(0x176)](0x1,_0x32824d),_0x3ee0b6=_0x287b07[_0x287fe8(0x176)](_0x32824d+0x1)):(_0x32824d=_0x287b07[_0x287fe8(0x2b0)]('△'),_0x32824d>=0x0&&(_0x5b9e0d=_0x287b07[_0x287fe8(0x176)](0x1,_0x32824d),_0x3ee0b6=_0x287b07[_0x287fe8(0x176)](_0x32824d+0x1)));}_0x254b6e+=_0x5a6404[_0x287fe8(0x2ef)];if(_0x5b9e0d!=null)_0x254b6e+='（'+_0x5b9e0d+'）';_0x254b6e+='\x20─\x20'+_0x5a6404[_0x287fe8(0x2bd)];if(_0x3ee0b6!=null)_0x254b6e+='（'+_0x3ee0b6+'）';cbd[_0x287fe8(0x236)]!=0x0&&(_0x254b6e+='\u3000\u3000'+teai_name[cbd['teai']]),_0x957429[_0x287fe8(0x177)]=_0x287fe8(0x2e8),top_label2==null&&(top_label2=document[_0x287fe8(0x16c)](_0x287fe8(0x15d)),document[_0x287fe8(0x360)]['appendChild'](top_label2)),top_label2[_0x287fe8(0x1ca)][_0x287fe8(0x181)]=_0x287fe8(0x2a1),top_label2[_0x287fe8(0x1ca)][_0x287fe8(0x2e4)]=String(_0x4dc4f9+_0x1daf4a+0x14)+'px',top_label2[_0x287fe8(0x1ca)]['left']=String(_0x1de797)+'px',top_label2[_0x287fe8(0x1ca)][_0x287fe8(0x357)]=String(_0x3b9970-_0x1de797)+'px',top_label2[_0x287fe8(0x1ca)][_0x287fe8(0x35f)]='20px',top_label2[_0x287fe8(0x1ca)][_0x287fe8(0x2e0)]='center',top_label2[_0x287fe8(0x18a)]()&&top_label2[_0x287fe8(0x242)](top_label2['firstChild']),top_label2['appendChild'](document[_0x287fe8(0x311)](_0x254b6e));}let _0x26bf47='';_0x5a6404[_0x287fe8(0x282)]!=null&&(_0x26bf47+=_0x5a6404[_0x287fe8(0x282)]+'\x20\u3000');if(_0x5a6404['date']!=null){var _0x21355e=_0x5a6404[_0x287fe8(0x234)];let _0x19d4c7=_0x21355e['indexOf']('\x20');if(_0x19d4c7>=0x0){let _0x551460=_0x21355e['length'],_0x2cb814=_0x19d4c7+0x1;for(;;){if(_0x2cb814>=_0x551460)break;if(_0x21355e[_0x287fe8(0x32b)](_0x2cb814)=='\x20')_0x2cb814++;else break;}if(_0x2cb814<_0x551460){_0x21355e=_0x21355e[_0x287fe8(0x176)](_0x2cb814,_0x551460);if(english_flg)_0x26bf47+=_0x287fe8(0x2d8)+_0x21355e+'\x20\u3000';else _0x26bf47+=_0x287fe8(0x318)+_0x21355e+'\x20\u3000';}}}if(_0x5a6404[_0x287fe8(0x34f)]!=null){let _0x1fd6b1=_0x5a6404[_0x287fe8(0x34f)],_0x5ae98a=_0x1fd6b1[_0x287fe8(0x2b0)]('\x20');if(_0x5ae98a>=0x0){_0x1fd6b1=_0x1fd6b1[_0x287fe8(0x176)](_0x5ae98a+0x1);if(english_flg)_0x26bf47+=_0x287fe8(0x340)+_0x1fd6b1;else _0x26bf47+=_0x287fe8(0x213)+_0x1fd6b1;}}let _0x4ff838;if(small_header_flg)_0x4ff838=_0x1daf4a+0x10;else _0x4ff838=_0x1daf4a+0x3c;_0x957429['fillStyle']=_0x287fe8(0x15f),_0x957429['font']=_0x287fe8(0x2bf);top_label3==null&&(top_label3=document[_0x287fe8(0x16c)](_0x287fe8(0x15d)),document[_0x287fe8(0x360)][_0x287fe8(0x329)](top_label3));top_label3[_0x287fe8(0x1ca)][_0x287fe8(0x181)]=_0x287fe8(0x2a1),top_label3['style']['left']=String(_0x1de797)+'px',top_label3[_0x287fe8(0x1ca)][_0x287fe8(0x357)]=String(_0x3b9970-_0x1de797)+'px',console[_0x287fe8(0x195)](_0x287fe8(0x1b0)+(_0x3b9970-_0x1de797)),console[_0x287fe8(0x195)]('###\x20line3.length='+_0x26bf47[_0x287fe8(0x1f3)]);let _0x1bdbcb=0xf;_0x26bf47[_0x287fe8(0x1f3)]>0x32&&(_0x1bdbcb=0xf*0x32/_0x26bf47[_0x287fe8(0x1f3)],console['log'](_0x287fe8(0x348)+_0x1bdbcb));top_label3[_0x287fe8(0x1ca)][_0x287fe8(0x35f)]=String(_0x1bdbcb)+'px';let _0x25d2d3=0x1+_0x1bdbcb;top_label3[_0x287fe8(0x1ca)][_0x287fe8(0x2e4)]=String(_0x4dc4f9+_0x4ff838-_0x25d2d3)+'px',top_label3[_0x287fe8(0x1ca)][_0x287fe8(0x2e0)]=_0x287fe8(0x251);top_label3[_0x287fe8(0x18a)]()&&top_label3[_0x287fe8(0x242)](top_label3['firstChild']);top_label3['appendChild'](document[_0x287fe8(0x311)](_0x26bf47)),_0x957429['font']=_0x287fe8(0x180);let _0x3c6bca=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0xc;_0x957429[_0x287fe8(0x290)](_0x3c6bca,KOMADAI_LEFT_Y-0x14,0x50,0xf),_0x957429[_0x287fe8(0x294)]='rgb(0,\x200,\x200)',_0x957429[_0x287fe8(0x1d1)](_0x287fe8(0x147)+version,_0x3c6bca,KOMADAI_LEFT_Y-0xa);}function LoadKoma(){const _0x28967e=_0x56ae28;console[_0x28967e(0x195)]('#\x20LoadKoma\x20--'),piece_img=new Image(),piece_img[_0x28967e(0x1c0)]=KJ_DIR+'piece_4g.png?'+new Date()[_0x28967e(0x273)](),piece_img['onload']=function(){const _0x9d00e9=_0x28967e;console['log'](_0x9d00e9(0x140));},piece_img[_0x28967e(0x259)]=function(){const _0x2a64e2=_0x28967e;console[_0x2a64e2(0x210)](_0x2a64e2(0x247));};}function get_moti_x_rr(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_rl(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X;}function get_moti_x_lr(){let _0x33e80e=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x33e80e+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_ll(){let _0x4c912e=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x4c912e+MOTI_EDGE_X;}function get_moti_r_yo(){return BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0x4*KSQ_SIZE_Y-MOTI_EDGE_Y;}function get_moti_l_yo(){return BD_ORG_Y-EDGE_Y+MOTI_EDGE_Y-0x1;}function no_to_p(_0x7c9658,_0x145db6){let _0x43e8b4=_0x145db6-0x1,_0x31109c=_0x43e8b4>>0x1,_0xfb082e,_0x2af2dc;if(_0x7c9658!=0x0){if((_0x43e8b4&0x1)==0x0)_0xfb082e=get_moti_x_lr();else _0xfb082e=get_moti_x_ll();let _0x501c32=0x3-_0x31109c;_0x2af2dc=get_moti_l_yo()+_0x501c32*KSQ_SIZE_Y;}else{if((_0x43e8b4&0x1)==0x0)_0xfb082e=get_moti_x_rl();else _0xfb082e=get_moti_x_rr();_0x2af2dc=get_moti_r_yo()+_0x31109c*KSQ_SIZE_Y;}let _0x4e79e3=new Point();return _0x4e79e3['x']=_0xfb082e+0x2,_0x4e79e3['y']=_0x2af2dc+0x2,_0x4e79e3;}function GetMotiXy(_0x4b3420,_0x487f99,_0x1029a5){const _0x15acbf=_0x56ae28;let _0x57e36f,_0x5e2c7d;if(_0x487f99==SENTE)_0x57e36f=0x0;else _0x57e36f=0x1;if(bdinv_flg!=0x0)_0x57e36f=0x1-_0x57e36f;let _0x2a9a37=0x0,_0x2aca32=_0x487f99!=0x0?0x1:0x0;for(_0x5e2c7d=HI;_0x5e2c7d>=FU;_0x5e2c7d--){if(_0x4b3420[_0x15acbf(0x321)][_0x2aca32][_0x5e2c7d]>0x0){_0x2a9a37++;if(_0x5e2c7d==(_0x1029a5&0xf))break;}if(_0x5e2c7d==(_0x1029a5&0xf)){_0x2a9a37++;break;}}if(_0x5e2c7d==FU){if(_0x57e36f==0x0){if((_0x2a9a37&0x1)==0x0)_0x2a9a37++;}else{if((_0x2a9a37&0x1)!=0x0)_0x2a9a37++;else _0x2a9a37+=0x2;}}return no_to_p(_0x57e36f,_0x2a9a37);}function star(_0x1043a3,_0x450d80){const _0x5f3fbf=_0x56ae28;let _0x1f2ea4=BD_ORG_X+SQ_SIZE_X*_0x1043a3,_0x46d7b6=BD_ORG_Y+SQ_SIZE_Y*_0x450d80,_0x28f326=getScaleContext(canvas);_0x28f326['beginPath'](),_0x28f326[_0x5f3fbf(0x35e)](_0x1f2ea4,_0x46d7b6,2.5,0x0*Math['PI']/0xb4,0x168*Math['PI']/0xb4,![]),_0x28f326[_0x5f3fbf(0x294)]=_0x5f3fbf(0x25e),_0x28f326['fill'](),_0x28f326[_0x5f3fbf(0x2dd)]=_0x5f3fbf(0x175),_0x28f326[_0x5f3fbf(0x28e)]=0x1,_0x28f326[_0x5f3fbf(0x208)]();}function stars(){star(0x3,0x3),star(0x6,0x3),star(0x3,0x6),star(0x6,0x6);}function DrawPieceXY(_0x31bcfa,_0x588cbe,_0x2728ff){if(bdinv_flg!=0x0){let _0x31200b=_0x2728ff&0x80;_0x31200b=0x80-_0x31200b,_0x2728ff=_0x31200b|_0x2728ff&0x7f;}let _0x44c833;if(_0x2728ff==0x8||_0x2728ff==0x0||_0x2728ff==SGY)_0x44c833=0x0;else _0x44c833=(0x8-(_0x2728ff&0x7))*KOMA_SIZE_X;let _0x3cc6ba=0x0;if(_0x2728ff&0x80){if(_0x2728ff&0x8)_0x3cc6ba=KOMA_SIZE_Y;}else{if(_0x2728ff&0x8)_0x3cc6ba=KOMA_SIZE_Y*0x3;else _0x3cc6ba=KOMA_SIZE_Y*0x2;}let _0x5a7c82=getScaleContext(canvas);_0x5a7c82['drawImage'](piece_img,_0x44c833*0x2,_0x3cc6ba*0x2,KOMA_SIZE_X*0x2,KOMA_SIZE_Y*0x2,_0x31bcfa,_0x588cbe,KOMA_SIZE_X,KOMA_SIZE_Y);}function DrawPiece(_0x340749,_0x939bd7){const _0x487a81=_0x56ae28;if(_0x939bd7==0x0)return;let _0x1b3f2d=parseInt(_0x340749/0xa),_0x1dd558=_0x340749%0xa;bdinv_flg!=0x0&&(_0x1b3f2d=0xa-_0x1b3f2d,_0x1dd558=0xa-_0x1dd558);if(_0x1b3f2d<0x1||_0x1dd558<0x1){console[_0x487a81(0x210)](_0x487a81(0x34c)+_0x340749);return;}let _0x31da04=BD_ORG_X+(0x9-_0x1b3f2d)*SQ_SIZE_X+0x2,_0x4d0e2b=BD_ORG_Y+(_0x1dd558-0x1)*SQ_SIZE_Y+0x2;DrawPieceXY(_0x31da04,_0x4d0e2b,_0x939bd7);}function clear_sq(_0x52af27){const _0xbb9f0b=_0x56ae28;if(_0x52af27>0x63||_0x52af27<0xb){console['error'](_0xbb9f0b(0x240)+_0x52af27);return;}let _0x1e31fa=parseInt(_0x52af27/0xa),_0x3889a2=_0x52af27%0xa;bdinv_flg&&(_0x1e31fa=0xa-_0x1e31fa,_0x3889a2=0xa-_0x3889a2);let _0x5c0f4c=BD_ORG_Y+(_0x3889a2-0x1)*SQ_SIZE_Y+0x2,_0x3495b9=BD_ORG_X+(0x9-_0x1e31fa)*SQ_SIZE_X+0x2,_0x10c3ab=_0x3495b9-0x1,_0x3c3d5f=_0x5c0f4c-0x1,_0x3f414f=getScaleContext(canvas);if(muji_flg)_0x3f414f[_0xbb9f0b(0x294)]=_0xbb9f0b(0x1e7),_0x3f414f[_0xbb9f0b(0x343)](_0x10c3ab,_0x3c3d5f,SQ_SIZE_X-0x3,SQ_SIZE_Y-0x2);else{if(ban_img==null){console[_0xbb9f0b(0x210)](_0xbb9f0b(0x215)+_0x52af27);return;}console[_0xbb9f0b(0x195)](_0xbb9f0b(0x2ff)+_0x52af27);let _0xec00df=SQ_SIZE_X-0x3,_0x55e35e=SQ_SIZE_Y-0x2;_0x3f414f['drawImage'](ban_img,(0x9-_0x1e31fa)*SQ_SIZE_X+0x2,(_0x3889a2-0x1)*SQ_SIZE_Y+0x2,_0xec00df,_0x55e35e,_0x10c3ab,_0x3c3d5f,_0xec00df,_0x55e35e);}}function DrawLastPiece(_0x481f44,_0x184f74){const _0x2c6b2d=_0x56ae28;if(_0x184f74<0xb)return;let _0x13c4e0=parseInt(_0x184f74/0xa),_0x16c266=_0x184f74%0xa;bdinv_flg!=0x0&&(_0x13c4e0=0xa-_0x13c4e0,_0x16c266=0xa-_0x16c266);let _0x2d8fd5=BD_ORG_X+(0x9-_0x13c4e0)*SQ_SIZE_X+0x2,_0x3ae734=BD_ORG_Y+(_0x16c266-0x1)*SQ_SIZE_Y+0x2,_0xa6e11d=_0x2d8fd5+SQ_SIZE_X-0x3,_0x329005=_0x3ae734+SQ_SIZE_Y-0x3,_0x36551a=getScaleContext(canvas);_0x36551a[_0x2c6b2d(0x294)]='rgb(204,\x20158,\x20111)',_0x36551a[_0x2c6b2d(0x343)](_0x2d8fd5-0x1,_0x3ae734-0x1,_0xa6e11d-_0x2d8fd5+0x1,_0x329005-_0x3ae734+0x1),stars();let _0x3384d5=_0x481f44['board'][_0x184f74];DrawPiece(_0x184f74,_0x3384d5);}function get_last_move_from(){const _0x4723b7=_0x56ae28;if(Kifu['move_no']<=0x0)return 0x0;let _0x295ba3=Kifu['get_last_move'](),_0x2614b2=_0x295ba3['t']&0x7f;if(_0x2614b2<0xb){if(Kifu[_0x4723b7(0x148)]>0x1){let _0x4138c2=Kifu[_0x4723b7(0x301)](Kifu['move_no']-0x1);if(_0x4138c2==null)return 0x0;return _0x4138c2['f'];}else return 0x0;}else return _0x295ba3['f'];return 0x0;}function DrawLastPieceFrom(){const _0xe74572=_0x56ae28;if(Kifu[_0xe74572(0x148)]==0x0)return;let _0x3c00e6=get_last_move_from();if(_0x3c00e6<0xb||_0x3c00e6>0x63)return;let _0x1c7463=parseInt(_0x3c00e6/0xa),_0x2d54b0=_0x3c00e6%0xa;bdinv_flg!=0x0&&(_0x1c7463=0xa-_0x1c7463,_0x2d54b0=0xa-_0x2d54b0);let _0x206834=BD_ORG_X+(0x9-_0x1c7463)*SQ_SIZE_X+0x2,_0xe90141=BD_ORG_Y+(_0x2d54b0-0x1)*SQ_SIZE_Y+0x2,_0x3746c1=_0x206834+SQ_SIZE_X-0x3,_0x14df76=_0xe90141+SQ_SIZE_Y-0x3,_0xb9067b=getScaleContext(canvas);_0xb9067b[_0xe74572(0x294)]='rgb(224,\x20178,\x20131)',_0xb9067b[_0xe74572(0x343)](_0x206834-0x1,_0xe90141-0x1,_0x3746c1-_0x206834+0x1,_0x14df76-_0xe90141+0x1),stars();}function DrawMotigomaPiece(_0x31d7c2,_0x1719a8){DrawPieceXY(_0x31d7c2['x'],_0x31d7c2['y'],_0x1719a8);}function DrawMotiN(_0x39f640,_0x37fac4,_0x4ebed9,_0x326f82){let _0x5b637b=_0x37fac4&0x80;if(_0x4ebed9==0x2)_0x326f82--;if(_0x326f82<=0x0)return;let _0x4e0e79=GetMotiXy(_0x39f640,_0x5b637b,_0x37fac4),_0x324fce=_0x4e0e79['x'],_0x39f3d4;if(_0x326f82<=0x1)_0x39f3d4=0x0;else{if((_0x37fac4&0xf)==FU){if(_0x326f82<=0x3)_0x39f3d4=FU_PITCH;else _0x39f3d4=(MOTI_SQ_SIZE_X*0x2-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x326f82-0x1);}else _0x39f3d4=(MOTI_SQ_SIZE_X-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x326f82-0x1);}for(var _0x4c42e4=_0x326f82-0x1;_0x4c42e4>=0x0;_0x4c42e4--){if(_0x4ebed9==0x1){if(_0x4c42e4<0x1)continue;if((_0x37fac4&0xf)!=FU){if(_0x326f82==0x4){if(_0x4c42e4>0x2)continue;}else{if(_0x4c42e4!=0x1)continue;}}else{if(_0x326f82>=0xe){if(_0x4c42e4>0x4)continue;}else{if(_0x4c42e4>0x2)continue;}}}_0x4e0e79['x']=_0x324fce+_0x4c42e4*_0x39f3d4,DrawMotigomaPiece(_0x4e0e79,_0x37fac4);}}function DrawKomadaiTeban(_0x57f1b3,_0x13d161,_0x4ccbad){const _0x23f2ab=_0x56ae28;let _0x495538;if(_0x13d161==_0x57f1b3[_0x23f2ab(0x29f)])_0x495538=0x1;else _0x495538=0x0;let _0x2beefd,_0x2936f8,_0x4d8452;if(bdinv_flg!=0x0)_0x4d8452=GOTE;else _0x4d8452=SENTE;_0x13d161!=_0x4d8452?(_0x2beefd=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x2936f8=BD_ORG_Y-EDGE_Y-0x5):(_0x2beefd=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x2936f8=BD_ORG_Y+0x5*SQ_SIZE_Y);let _0x43af00,_0x1b613a;_0x43af00=_0x2beefd+0x1;if(_0x13d161!=_0x4d8452)_0x1b613a=_0x2936f8+MOTI_SIZE_Y-0xd+0x2;else _0x1b613a=_0x2936f8+0x1-0x2;let _0x310b7c=0x1,_0x548b81;if(_0x13d161!=0x0){if(_0x310b7c){if(_0x4ccbad[_0x23f2ab(0x266)])_0x548b81='☗未定';else _0x548b81='☗'+_0x4ccbad['sente_name'];}else{if(_0x4ccbad['sengo_mitei_flg'])_0x548b81='▲未定';else _0x548b81='▲'+_0x4ccbad[_0x23f2ab(0x2ef)];}}else{if(_0x310b7c){if(_0x4ccbad['sengo_mitei_flg'])_0x548b81=_0x23f2ab(0x298);else _0x548b81='☖'+_0x4ccbad[_0x23f2ab(0x2bd)];}else{if(_0x4ccbad[_0x23f2ab(0x266)])_0x548b81='▽未定';else _0x548b81='▽'+_0x4ccbad[_0x23f2ab(0x2bd)];}}let _0xaafe90=getScaleContext(canvas);_0x495538!=0x0?_0xaafe90['fillStyle']=_0x23f2ab(0x305):_0xaafe90['fillStyle']=_0x23f2ab(0x1dd),_0xaafe90[_0x23f2ab(0x343)](_0x43af00,_0x1b613a+0x2,MOTI_SIZE_X-0x2,0xd),_0xaafe90['fillStyle']='rgb(0,\x200,\x200)',_0xaafe90['font']=_0x23f2ab(0x204),_0xaafe90[_0x23f2ab(0x1d1)](_0x548b81,_0x43af00,_0x1b613a+0xd,MOTI_SIZE_X-0x2);}function DrawKomadai(_0x45b726){const _0x46512b=_0x56ae28;let _0x3d2763;if(bdinv_flg!=0x0)_0x3d2763=GOTE;else _0x3d2763=SENTE;let _0x5df207,_0x76cf79;_0x45b726!=_0x3d2763?(_0x5df207=KOMADAI_LEFT_X,_0x76cf79=KOMADAI_LEFT_Y):(_0x5df207=KOMADAI_RIGHT_X,_0x76cf79=KOMADAI_RIGHT_Y);var _0x1e3f4b=new Image();_0x1e3f4b[_0x46512b(0x1c0)]=KJ_DIR+_0x46512b(0x1e2)+new Date()['getTime'](),_0x1e3f4b['onload']=function(){const _0x5f47d1=_0x46512b;let _0x3c227f=getScaleContext(canvas);muji_flg?(_0x3c227f['fillStyle']='rgb(204,\x20158,\x20111)',_0x3c227f[_0x5f47d1(0x343)](_0x5df207,_0x76cf79,MOTI_SIZE_X,MOTI_SIZE_Y),_0x3c227f['strokeStyle']=_0x5f47d1(0x14a),_0x3c227f[_0x5f47d1(0x28e)]=0x1,_0x3c227f[_0x5f47d1(0x2c5)](),_0x3c227f['moveTo'](_0x5df207+MOTI_SIZE_X+0x1,_0x76cf79),_0x3c227f[_0x5f47d1(0x2fd)](_0x5df207+MOTI_SIZE_X+0x1,_0x76cf79+MOTI_SIZE_Y+0x1),_0x3c227f[_0x5f47d1(0x23c)](_0x5df207,_0x76cf79+MOTI_SIZE_Y+0x1),_0x3c227f[_0x5f47d1(0x2fd)](_0x5df207+MOTI_SIZE_X+0x2,_0x76cf79+MOTI_SIZE_Y+0x1),_0x3c227f[_0x5f47d1(0x208)]()):_0x3c227f[_0x5f47d1(0x1ad)](_0x1e3f4b,_0x5df207,_0x76cf79);DrawKomadaiTeban(cbd,_0x45b726,Kifu);let _0x8d251=_0x45b726!=0x0?0x1:0x0;for(var _0x2d138a=HI;_0x2d138a>=FU;_0x2d138a--){let _0xb95ec5=cbd[_0x5f47d1(0x321)][_0x8d251][_0x2d138a];if(_0xb95ec5==0x0)continue;DrawMotiN(cbd,_0x2d138a|_0x45b726,0x0,_0xb95ec5);}};}function draw_coord(){const _0x2073e5=_0x56ae28,_0xd61b0c=['0','1','2','3','4','5','6','7','8','9'],_0x5943f7=['零','一','二','三','四','五','六','七','八','九'],_0x31719=['','a','b','c','d','e','f','g','h','i'];let _0x4fbd92=getScaleContext(canvas);_0x4fbd92[_0x2073e5(0x294)]=_0x2073e5(0x15f);var _0x2d05d7,_0x486e12,_0x1f268b;if(bdinv_flg==0x0){_0x4fbd92[_0x2073e5(0x177)]=_0x2073e5(0x204),_0x1f268b=BD_ORG_Y-0x1;for(_0x2d05d7=0x1;_0x2d05d7<=0x9;_0x2d05d7++){_0x486e12=BD_ORG_X+(0x9-_0x2d05d7)*SQ_SIZE_X+SQ_SIZE_X/0x2-0x4,_0x4fbd92[_0x2073e5(0x1d1)](_0xd61b0c[_0x2d05d7],_0x486e12,_0x1f268b);}_0x4fbd92['font']='13px\x20\x27ＭＳ\x20Ｐゴシック\x27',_0x486e12=BD_ORG_X+0x9*SQ_SIZE_X;for(_0x2d05d7=0x1;_0x2d05d7<=0x9;_0x2d05d7++){_0x1f268b=BD_ORG_Y+(_0x2d05d7-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2+0x2,_0x4fbd92['fillText'](_0x5943f7[_0x2d05d7],_0x486e12,_0x1f268b);}}else{_0x4fbd92[_0x2073e5(0x177)]=_0x2073e5(0x19f),_0x1f268b=BD_ORG_Y+SQ_SIZE_Y*0x9+0xc;for(_0x2d05d7=0x1;_0x2d05d7<=0x9;_0x2d05d7++){_0x486e12=BD_ORG_X+(_0x2d05d7-0x1)*SQ_SIZE_X+SQ_SIZE_X/0x2,_0x4fbd92[_0x2073e5(0x1d1)](_0xd61b0c[_0x2d05d7],_0x486e12,_0x1f268b);}_0x4fbd92['font']='13px\x20\x27ＭＳ\x20Ｐゴシック\x27',_0x486e12=BD_ORG_X-EDGE_X;for(_0x2d05d7=0x1;_0x2d05d7<=0x9;_0x2d05d7++){_0x1f268b=BD_ORG_Y+(_0x2d05d7-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2-0x6,_0x4fbd92[_0x2073e5(0x1d1)](_0x5943f7[0xa-_0x2d05d7],_0x486e12,_0x1f268b);}}}function DrawAllPiece(_0x3ad0de){const _0x53e44b=_0x56ae28;for(var _0x50fc41=0xb;_0x50fc41<=0x63;_0x50fc41++){let _0x5dc42b=_0x3ad0de[_0x53e44b(0x1d3)][_0x50fc41];if(_0x5dc42b==0x0||_0x5dc42b==0xff)continue;DrawPiece(_0x50fc41,_0x5dc42b);}}var ban_img;function draw_board_sub(){const _0x1c3ce1=_0x56ae28;console[_0x1c3ce1(0x195)](_0x1c3ce1(0x17c));let _0x2120fa=getScaleContext(canvas);muji_flg?(_0x2120fa[_0x1c3ce1(0x294)]=_0x1c3ce1(0x1e7),_0x2120fa['fillRect'](BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y,SQ_SIZE_X*0x9+EDGE_X*0x2,SQ_SIZE_Y*0x9+EDGE_Y*0x2),_0x2120fa['strokeStyle']=_0x1c3ce1(0x14a),_0x2120fa[_0x1c3ce1(0x28e)]=0x1,_0x2120fa[_0x1c3ce1(0x2c5)](),_0x2120fa[_0x1c3ce1(0x23c)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y-EDGE_Y+0x0),_0x2120fa[_0x1c3ce1(0x2fd)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2120fa['moveTo'](BD_ORG_X-EDGE_X,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2120fa[_0x1c3ce1(0x2fd)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x2,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2120fa[_0x1c3ce1(0x208)]()):_0x2120fa[_0x1c3ce1(0x1ad)](ban_img,BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y);if(Kifu['move_no']>0x0){var _0x75079e=Kifu[_0x1c3ce1(0x274)]();DrawLastPiece(cbd,_0x75079e['t']&0x7f),DrawLastPieceFrom();}_0x2120fa[_0x1c3ce1(0x2dd)]='rgb(0,\x200,\x200)',_0x2120fa[_0x1c3ce1(0x28e)]=0x1;for(let _0x16e39b=0x0;_0x16e39b<0xa;_0x16e39b++){let _0x24ebc5=_0x16e39b*SQ_SIZE_Y+0.5;_0x2120fa['beginPath'](),_0x2120fa[_0x1c3ce1(0x23c)](BD_ORG_X,BD_ORG_Y+_0x24ebc5),_0x2120fa[_0x1c3ce1(0x2fd)](BD_ORG_X+SQ_SIZE_X*0x9,BD_ORG_Y+_0x24ebc5),_0x2120fa['stroke']();let _0x16c2db=_0x16e39b*SQ_SIZE_X+0.5;_0x2120fa[_0x1c3ce1(0x2c5)](),_0x2120fa[_0x1c3ce1(0x23c)](BD_ORG_X+_0x16c2db,BD_ORG_Y),_0x2120fa[_0x1c3ce1(0x2fd)](BD_ORG_X+_0x16c2db,BD_ORG_Y+SQ_SIZE_Y*0x9),_0x2120fa['stroke']();}draw_coord(),piece_img==null?(piece_img=new Image(),piece_img[_0x1c3ce1(0x1c0)]=KJ_DIR+'piece_4g.png?'+new Date()[_0x1c3ce1(0x273)](),piece_img['onload']=function(){const _0x44de4d=_0x1c3ce1;console[_0x44de4d(0x195)](_0x44de4d(0x140)),DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0);}):(DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0));}function draw_board(){const _0x3682ba=_0x56ae28;ban_img==null?(ban_img=new Image(),ban_img['src']=KJ_DIR+'ban3.jpg?'+new Date()['getTime'](),ban_img[_0x3682ba(0x146)]=function(){console['log']('draw_board\x20onload'),draw_board_sub();}):draw_board_sub(),ban_img[_0x3682ba(0x259)]=function(){const _0x5349d7=_0x3682ba;console[_0x5349d7(0x210)](_0x5349d7(0x19b));};}function time_to_str(_0x30802b){let _0x49c876='',_0x17cc27=parseInt(_0x30802b/0x3c);if(_0x30802b<0x258)_0x49c876+=zen[_0x17cc27];else _0x49c876+=_0x17cc27;if(english_flg)_0x49c876+='hour\x20';else _0x49c876+='時間';if(_0x30802b%0x3c<0xa)_0x49c876+='0';_0x49c876+=_0x30802b%0x3c;if(english_flg)_0x49c876+='min';else _0x49c876+='分';return _0x49c876;}function time_to_str2(_0x487620){const _0x4a635c=_0x56ae28;let _0x2167ed='各',_0x4c380f=parseInt(_0x487620/0x3c);if(_0x487620<0x258)_0x2167ed+=zen[_0x4c380f];else _0x2167ed+=_0x4c380f;if(english_flg)_0x2167ed+=_0x4a635c(0x30c);else _0x2167ed+='時間';if(_0x487620%0x3c>0x0){if(_0x487620%0x3c<0xa)_0x2167ed+='0';_0x2167ed+=_0x487620%0x3c;if(english_flg)_0x2167ed+='min';else _0x2167ed+='分';}return _0x2167ed;}function ShohiGraph(_0x119ba5,_0x232435){const _0x3ce124=_0x56ae28;if(FREE)return;console[_0x3ce124(0x195)]('ShohiGraph\x20COMM_LEFT=',COMM_LEFT+_0x3ce124(0x2d0)+COM_WIDTH);let _0x2a0f83=getScaleContext(canvas);const _0x197c81=BD_ORG_X+0x16+0.5,_0x142240=_0x197c81+COM_WIDTH;let _0x30711a=COMMENT_TOP+comment_hight+5.5;const _0x19783f=0x14;let _0x216b09=_0x30711a+_0x19783f*0x3;_0x2a0f83['fillStyle']=_0x3ce124(0x19e),_0x2a0f83['fillRect'](_0x197c81,_0x30711a,_0x142240-_0x197c81,_0x216b09-_0x30711a),_0x2a0f83[_0x3ce124(0x2dd)]=_0x3ce124(0x34a),_0x2a0f83[_0x3ce124(0x1f8)](_0x197c81,_0x30711a,_0x142240-_0x197c81,_0x216b09-_0x30711a);const _0x5b485a=_0x142240-_0x197c81;for(var _0x333eb3=0x1;_0x333eb3<0x3;_0x333eb3++){let _0x53fe0e=_0x30711a+_0x19783f*_0x333eb3;drawLine(_0x2a0f83,_0x197c81,_0x53fe0e,_0x197c81+_0x5b485a,_0x53fe0e);}const _0x58b1e2=0x8c,_0x4901b6=_0x197c81+_0x58b1e2;drawLine(_0x2a0f83,_0x4901b6,_0x30711a,_0x4901b6,_0x30711a+_0x19783f*0x3),_0x2a0f83[_0x3ce124(0x294)]=_0x3ce124(0x34a),_0x2a0f83[_0x3ce124(0x343)](_0x4901b6,_0x30711a,_0x142240-_0x197c81-_0x58b1e2,_0x19783f);let _0x2d3c8e=0x4;var _0x3baf37=_0x30711a+_0x19783f*0x2-_0x2d3c8e;_0x2a0f83[_0x3ce124(0x177)]='14px\x20\x27Calibri\x27',_0x2a0f83['fillStyle']=_0x3ce124(0x15f);let _0x49b990;_0x119ba5['sengo_mitei_flg']?_0x49b990='☗\u3000':_0x49b990='☗'+_0x119ba5[_0x3ce124(0x2ef)];_0x2a0f83['fillText'](_0x49b990,_0x197c81+0x5,_0x3baf37,_0x58b1e2-0x5);let _0x2747fa;_0x119ba5[_0x3ce124(0x266)]?_0x2747fa='☖\u3000':_0x2747fa='☖'+_0x119ba5[_0x3ce124(0x2bd)];let _0x40e8ff=_0x30711a+_0x19783f*0x3-_0x2d3c8e;_0x2a0f83[_0x3ce124(0x1d1)](_0x2747fa,_0x197c81+0x5,_0x40e8ff,_0x58b1e2-0x5),_0x2a0f83[_0x3ce124(0x294)]=_0x3ce124(0x19e);let _0x416872;if(english_flg)_0x416872=_0x3ce124(0x30b);else _0x416872=_0x3ce124(0x219);let _0x468aa8=_0x30711a+_0x19783f-_0x2d3c8e;_0x2a0f83[_0x3ce124(0x1d1)](_0x416872,_0x197c81+_0x58b1e2+0xa,_0x468aa8);let _0x51e197;if(english_flg)_0x51e197='Left';else _0x51e197=_0x3ce124(0x28f);_0x2a0f83[_0x3ce124(0x1d1)](_0x51e197,_0x142240-0x64+0x24,_0x468aa8);let _0x5d92c6=Kifu[_0x3ce124(0x36f)]();if(_0x5d92c6<=0x0)return;let _0x40ca28=time_to_str2(_0x5d92c6);_0x2a0f83['fillText'](_0x40ca28,_0x197c81+_0x58b1e2+0x78,_0x468aa8);let _0x35483b,_0x2bfbf5,_0x51d16b,_0x10cfe2=_0x119ba5[_0x3ce124(0x2f9)]();if(_0x10cfe2>0x0){let _0x1478e7=_0x119ba5['get_kifup'](_0x119ba5[_0x3ce124(0x148)]);if(_0x1478e7==null)return;let _0x46917f=_0x119ba5[_0x3ce124(0x14c)](_0x1478e7),_0x26f478;if(_0x119ba5[_0x3ce124(0x148)]<=0x0)_0x26f478=0x0;else{let _0xfad2d1=_0x119ba5[_0x3ce124(0x301)](_0x119ba5['move_no']-0x1);if(_0xfad2d1==null)return;_0x26f478=_0x119ba5[_0x3ce124(0x14c)](_0xfad2d1);}_0x46917f=parseInt(_0x46917f/0x3c),_0x26f478=parseInt(_0x26f478/0x3c);(Kifu[_0x3ce124(0x148)]&0x1)==0x0?(_0x51d16b=_0x46917f,_0x2bfbf5=_0x26f478):(_0x2bfbf5=_0x46917f,_0x51d16b=_0x26f478);_0x35483b=_0x119ba5[_0x3ce124(0x148)];if(_0x119ba5[_0x3ce124(0x148)]>0x0&&_0x1478e7['t']<0xb)_0x35483b=-0x1;}else{if(_0x119ba5[_0x3ce124(0x1b4)]==null)return;let _0x1768dc=_0x119ba5[_0x3ce124(0x1b4)][_0x3ce124(0x2b0)]('▲');if(_0x1768dc<0x0)return;let _0x432a03=_0x119ba5['shohi_jikan'][_0x3ce124(0x176)](0x0,_0x1768dc);_0x35483b=parseInt(_0x432a03);if(isNaN(_0x35483b)){console[_0x3ce124(0x210)]('***\x20ERROR\x20201:\x20消費時間の手数:'+_0x432a03);return;}if(_0x119ba5[_0x3ce124(0x160)]()!=0x0&&_0x35483b>=_0x119ba5[_0x3ce124(0x341)]()-0x1)_0x35483b=-0x1;let _0x39c2df=_0x119ba5[_0x3ce124(0x1b4)][_0x3ce124(0x176)](_0x1768dc),_0x50fd1a=_0x39c2df[_0x3ce124(0x2b0)]('△');if(_0x50fd1a<0x0)return;let _0x39a0b3=_0x39c2df[_0x3ce124(0x176)](0x1,_0x50fd1a),_0x52567a=_0x39c2df[_0x3ce124(0x176)](_0x50fd1a+0x1);_0x2bfbf5=parseInt(_0x39a0b3),_0x51d16b=parseInt(_0x52567a);if(isNaN(_0x2bfbf5)||isNaN(_0x51d16b)){console[_0x3ce124(0x210)](_0x3ce124(0x257)+_0x119ba5['shohi_jikan']);return;}}let _0x1f03b0;if(english_flg){if(_0x35483b==-0x1)_0x1f03b0=_0x3ce124(0x2fb);else _0x1f03b0=_0x3ce124(0x33f)+_0x35483b;}else{if(_0x35483b==-0x1)_0x1f03b0='終局';else{if(_0x35483b<=0x0)_0x1f03b0=_0x35483b+'手まで';else{let _0x4ff4e8=_0x119ba5['get_kifup'](_0x35483b);if(_0x4ff4e8==null)_0x1f03b0=_0x35483b+'手まで';else{let _0x3b73df=0x3;_0x1f03b0=_0x35483b+'手'+_0x119ba5[_0x3ce124(0x15a)](0x0,_0x3b73df,_0x4ff4e8,0x0)+'まで';}}}}_0x2a0f83[_0x3ce124(0x294)]=_0x3ce124(0x15f),_0x2a0f83['fillText'](_0x1f03b0,_0x197c81+0x4,_0x468aa8,_0x58b1e2);if(_0x2bfbf5>_0x5d92c6)_0x2bfbf5=_0x5d92c6;if(_0x51d16b>_0x5d92c6)_0x51d16b=_0x5d92c6;let _0x18627e=time_to_str(_0x2bfbf5);_0x2a0f83['fillText'](_0x18627e,_0x197c81+_0x58b1e2+0x6,_0x3baf37);let _0x1b03d4=_0x5d92c6-_0x2bfbf5;if(_0x1b03d4<0x0)_0x1b03d4=0x0;if(_0x1b03d4<=0x1)_0x2a0f83[_0x3ce124(0x294)]=_0x3ce124(0x23b);else{if(_0x1b03d4<=0xa)_0x2a0f83[_0x3ce124(0x294)]='rgb(0,\x200,\x20255)';else _0x2a0f83[_0x3ce124(0x294)]=_0x3ce124(0x15f);}let _0x190901=time_to_str(_0x1b03d4),_0x546811=0x17;_0x2a0f83[_0x3ce124(0x1d1)](_0x190901,_0x142240-0x64+_0x546811,_0x3baf37);let _0x4913b3=_0x197c81+_0x58b1e2+0x52,_0x2f2ffc=_0x142240-0x50,_0x6cb4f0=_0x30711a+_0x19783f+0x5,_0x1da77f=_0x30711a+_0x19783f*0x2-0x5,_0x4a94fb=(_0x2f2ffc-_0x4913b3)*_0x2bfbf5/_0x5d92c6,_0x3b905f=_0x1da77f-_0x6cb4f0,_0x59db28=0x7;var _0x518023=0xc2,_0x26558e=0xa1,_0x383c20=0x76;const _0x1c847c=_0x3ce124(0x302),_0x48fdac='rgb(128,\x20128,\x20128)';for(let _0x4e2b70=_0x6cb4f0;_0x4e2b70<=_0x1da77f;_0x4e2b70++){_0x4e2b70<_0x6cb4f0+0x1?_0x2a0f83[_0x3ce124(0x2dd)]=_0x48fdac:_0x2a0f83[_0x3ce124(0x2dd)]=_0x1c847c,drawLine(_0x2a0f83,_0x4913b3,_0x4e2b70,_0x4913b3+_0x4a94fb,_0x4e2b70),_0x4a94fb>0x1&&_0x4e2b70>_0x6cb4f0&&(_0x2a0f83[_0x3ce124(0x2dd)]=_0x48fdac,drawLine(_0x2a0f83,_0x4913b3,_0x4e2b70,_0x4913b3+0x1,_0x4e2b70));}const _0x33d445='rgb(50,\x20140,\x20245)';if(_0x1b03d4>0x0){_0x4a94fb=_0x2f2ffc-_0x4913b3-_0x4a94fb,_0x518023=0x45,_0x26558e=0x96,_0x383c20=0xf4;for(let _0x476abe=_0x6cb4f0;_0x476abe<=_0x1da77f;_0x476abe++){_0x476abe>_0x6cb4f0+_0x3b905f/0x2?(_0x518023-=_0x59db28,_0x26558e-=_0x59db28,_0x383c20-=_0x59db28,_0x2a0f83[_0x3ce124(0x2dd)]='rgb('+_0x518023+',\x20'+_0x26558e+',\x20'+_0x383c20+')'):_0x2a0f83['strokeStyle']=_0x33d445,drawLine(_0x2a0f83,_0x2f2ffc-_0x4a94fb,_0x476abe,_0x2f2ffc,_0x476abe);}}let _0x1f1ff4=time_to_str(_0x51d16b);_0x2a0f83[_0x3ce124(0x294)]='rgb(0,\x200,\x200)',_0x2a0f83[_0x3ce124(0x1d1)](_0x1f1ff4,_0x197c81+_0x58b1e2+0x6,_0x40e8ff);let _0x4fb7e8=_0x5d92c6-_0x51d16b;if(_0x4fb7e8<0x0)_0x4fb7e8=0x0;if(_0x4fb7e8<=0x1)_0x2a0f83['fillStyle']=_0x3ce124(0x23b);else{if(_0x4fb7e8<=0xa)_0x2a0f83[_0x3ce124(0x294)]=_0x3ce124(0x2fc);else _0x2a0f83[_0x3ce124(0x294)]=_0x3ce124(0x15f);}let _0x36fa67=time_to_str(_0x4fb7e8);_0x2a0f83[_0x3ce124(0x1d1)](_0x36fa67,_0x142240-0x64+_0x546811,_0x40e8ff),_0x6cb4f0=_0x30711a+_0x19783f*0x2+0x5,_0x1da77f=_0x30711a+_0x19783f*0x3-0x5,_0x4a94fb=(_0x2f2ffc-_0x4913b3)*_0x51d16b/_0x5d92c6,_0x518023=0xc2,_0x26558e=0xa1,_0x383c20=0x76;for(let _0xd48750=_0x6cb4f0;_0xd48750<=_0x1da77f;_0xd48750++){_0xd48750<=_0x6cb4f0+_0x3b905f/0x2?(_0x518023+=_0x59db28,_0x26558e+=_0x59db28,_0x383c20+=_0x59db28):(_0x518023-=_0x59db28,_0x26558e-=_0x59db28,_0x383c20-=_0x59db28),_0xd48750<_0x6cb4f0+0x1?_0x2a0f83[_0x3ce124(0x2dd)]=_0x48fdac:_0x2a0f83[_0x3ce124(0x2dd)]=_0x1c847c,drawLine(_0x2a0f83,_0x4913b3,_0xd48750,_0x4913b3+_0x4a94fb,_0xd48750),_0x4a94fb>0x1&&_0xd48750>_0x6cb4f0&&(_0x2a0f83['strokeStyle']=_0x48fdac,drawLine(_0x2a0f83,_0x4913b3,_0xd48750,_0x4913b3+0x1,_0xd48750));}if(_0x4fb7e8>0x0){_0x4a94fb=_0x2f2ffc-_0x4913b3-_0x4a94fb,_0x518023=0x45,_0x26558e=0x96,_0x383c20=0xf4;for(let _0x110630=_0x6cb4f0;_0x110630<=_0x1da77f;_0x110630++){_0x110630>_0x6cb4f0+_0x3b905f/0x2?(_0x518023-=_0x59db28,_0x26558e-=_0x59db28,_0x383c20-=_0x59db28,_0x2a0f83[_0x3ce124(0x2dd)]=_0x3ce124(0x238)+_0x518023+',\x20'+_0x26558e+',\x20'+_0x383c20+')'):_0x2a0f83[_0x3ce124(0x2dd)]=_0x33d445,drawLine(_0x2a0f83,_0x2f2ffc-_0x4a94fb,_0x110630,_0x2f2ffc,_0x110630);}}}function LoadImages(_0x49de6c){const _0x2bd353=_0x56ae28;let _0x564c89=getScaleContext(canvas);if(typeof LEFT_IMAGE!==_0x2bd353(0x218)){if(LEFT_IMAGE!=null){LeftImageName(_0x49de6c);let _0x2a60c7=new Image();_0x2a60c7['src']=LEFT_IMAGE+'?'+new Date()[_0x2bd353(0x273)](),_0x2a60c7['onload']=function(){const _0xfacdab=_0x2bd353;console[_0xfacdab(0x195)](_0xfacdab(0x1c2));let _0x4ef9ff=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;_0x564c89['drawImage'](_0x2a60c7,_0x4ef9ff,BD_ORG_Y-EDGE_Y+MOTI_SIZE_Y+0x5);};}}if(typeof RIGHT_IMAGE!==_0x2bd353(0x218)){if(RIGHT_IMAGE!=null){RightImageName(_0x49de6c);let _0x7ae782=new Image();_0x7ae782[_0x2bd353(0x1c0)]=RIGHT_IMAGE+'?'+new Date()[_0x2bd353(0x273)](),_0x7ae782[_0x2bd353(0x146)]=function(){const _0x2132c1=_0x2bd353;console[_0x2132c1(0x195)]('right_img\x20onload'),_0x564c89[_0x2132c1(0x1ad)](_0x7ae782,BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,BD_ORG_Y-EDGE_Y+0x12);};}}}function RightImageName(_0x470c62){const _0x8c0b8b=_0x56ae28;if(typeof RIGHT_IMAGE==='undefined')return;if(RIGHT_IMAGE==null)return;let _0x544cd7;if(cbd[_0x8c0b8b(0x29f)]==0x80)_0x544cd7=0x1;else _0x544cd7=0x0;if(left_is_sente_flg)_0x544cd7=0x1-_0x544cd7;let _0x560436,_0x503311=0x1;if(_0x503311){if(left_is_sente_flg){if(_0x470c62[_0x8c0b8b(0x266)])_0x560436='☖\u3000';else _0x560436='☖'+_0x470c62[_0x8c0b8b(0x2bd)];}else{if(_0x470c62[_0x8c0b8b(0x266)])_0x560436='☗\u3000';else _0x560436='☗'+_0x470c62[_0x8c0b8b(0x2ef)];}}else{if(left_is_sente_flg){if(_0x470c62['sengo_mitei_flg'])_0x560436='▽';else _0x560436='▽'+_0x470c62[_0x8c0b8b(0x2bd)];}else{if(_0x470c62['sengo_mitei_flg'])_0x560436='▲';else _0x560436='▲'+_0x470c62[_0x8c0b8b(0x2ef)];}}let _0x2cad0d=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x42309e=BD_ORG_Y-EDGE_Y-0x1,_0x9c36fa=getScaleContext(canvas);_0x544cd7!=0x0?_0x9c36fa[_0x8c0b8b(0x294)]=_0x8c0b8b(0x305):_0x9c36fa[_0x8c0b8b(0x294)]=_0x8c0b8b(0x1dd),_0x9c36fa[_0x8c0b8b(0x343)](_0x2cad0d,_0x42309e+0x2,MOTI_SIZE_X-0x2,0xd),_0x9c36fa[_0x8c0b8b(0x294)]='rgb(0,\x200,\x200)',_0x9c36fa['font']=_0x8c0b8b(0x204),_0x9c36fa['fillText'](_0x560436,_0x2cad0d,_0x42309e+0xd,MOTI_SIZE_X-0x2);}function LeftImageName(_0x5e889a){const _0x24b6a5=_0x56ae28;if(typeof LEFT_IMAGE===_0x24b6a5(0x218))return;if(LEFT_IMAGE==null)return;let _0x470305;if(cbd['teban']==0x0)_0x470305=0x1;else _0x470305=0x0;if(left_is_sente_flg)_0x470305=0x1-_0x470305;let _0x5b7f6b,_0x37198=0x1;if(_0x37198){if(left_is_sente_flg){if(_0x5e889a[_0x24b6a5(0x266)])_0x5b7f6b='☗\u3000';else _0x5b7f6b='☗'+_0x5e889a[_0x24b6a5(0x2ef)];}else{if(_0x5e889a['sengo_mitei_flg'])_0x5b7f6b='☖\u3000';else _0x5b7f6b='☖'+_0x5e889a[_0x24b6a5(0x2bd)];}}else{if(left_is_sente_flg){if(_0x5e889a[_0x24b6a5(0x266)])_0x5b7f6b='▲';else _0x5b7f6b='▲'+_0x5e889a[_0x24b6a5(0x2ef)];}else{if(_0x5e889a[_0x24b6a5(0x266)])_0x5b7f6b='▽';else _0x5b7f6b='▽'+_0x5e889a['gote_name'];}}let _0x186b0b=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x540c99=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0xf,_0x215a59=getScaleContext(canvas);_0x470305!=0x0?_0x215a59[_0x24b6a5(0x294)]=_0x24b6a5(0x305):_0x215a59[_0x24b6a5(0x294)]=_0x24b6a5(0x1dd),_0x215a59['fillRect'](_0x186b0b,_0x540c99+0x2,MOTI_SIZE_X-0x2,0xd),_0x215a59[_0x24b6a5(0x294)]=_0x24b6a5(0x15f),_0x215a59[_0x24b6a5(0x177)]=_0x24b6a5(0x204),_0x215a59[_0x24b6a5(0x1d1)](_0x5b7f6b,_0x186b0b,_0x540c99+0xd,MOTI_SIZE_X-0x2);}function get_csa_koma(_0x2ed93f){const _0x9941e9=_0x56ae28,_0x242a70=['\x200','FU','KY','KE','GI','KI','KA','HI','OU','TO','NY','NK','NG','13','UM','RY'];let _0x246371;for(_0x246371=0x0;_0x246371<=0xf;_0x246371++){if(_0x2ed93f['indexOf'](_0x242a70[_0x246371])==0x0)break;}if(_0x246371>0xf)return console['error'](_0x9941e9(0x277)+_0x2ed93f),-0x1;return _0x246371;}function to_kanji_move(_0xf0bf90,_0xf17c9,_0x421414){const _0x2ee7cc=_0x56ae28,_0x119c07=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','成香','成桂','成銀','金','馬','龍'];let _0x535167='';if(_0xf0bf90['indexOf']('+')==0x0)_0x535167+='▲';else _0xf0bf90['indexOf']('-')==0x0&&(_0x535167+='△');let _0x36d820=_0xf0bf90[_0x2ee7cc(0x176)](0x1,0x3),_0x4b768b=_0xf0bf90[_0x2ee7cc(0x176)](0x3,0x5),_0xf09f26=_0xf0bf90[_0x2ee7cc(0x176)](0x5),_0x102b64=get_csa_koma(_0xf09f26);if(_0x4b768b==_0xf17c9)_0x535167+='同';else _0x535167+=_0x4b768b;let _0x228b76=parseInt(_0xf0bf90[_0x2ee7cc(0x176)](0x2,0x3)),_0x1472e3=parseInt(_0xf0bf90[_0x2ee7cc(0x176)](0x4,0x5));if(_0x102b64==0xb){if(_0x228b76==_0x1472e3+0x2||_0x228b76==_0x1472e3-0x2)_0x535167+='桂成';else _0x535167+=_0x119c07[_0x102b64];}else{if(_0x102b64==0xa){if(_0x228b76>=_0x1472e3+0x2||_0x228b76<=_0x1472e3-0x2)_0x535167+='香成';else _0x535167+=_0x119c07[_0x102b64];}else{let _0xf4f40c=parseInt(_0x36d820);if(_0x102b64>0x8&&(_0x421414[_0x2ee7cc(0x1d3)][_0xf4f40c]&0xf)==(_0x102b64&0x7))_0x535167+=_0x119c07[_0x102b64&0x7]+'成';else _0x535167+=_0x119c07[_0x102b64];}}if(_0x36d820=='00'){if(_0x102b64!=0x1)_0x535167+='打';}else _0x102b64!=0x1&&_0x102b64!=0x2&&_0x102b64!=0x8&&(_0x535167+='(',_0x535167+=_0x36d820,_0x535167+=')');return _0x535167;}function csa_load_comment(_0x4383bf,_0x35a50f){const _0x1b1835=_0x56ae28;console['log']('csa_load_comment\x20'+_0x35a50f);if(_0x35a50f[_0x1b1835(0x2b0)](_0x1b1835(0x33c))!=0x0){let _0x308034=_0x4383bf[_0x1b1835(0x272)](_0x4383bf[_0x1b1835(0x148)],_0x35a50f[_0x1b1835(0x176)](0x2));return _0x308034;}var _0x5b4d41=_0x35a50f['substring'](0x4);let _0x57f521=_0x4383bf[_0x1b1835(0x272)](_0x4383bf['move_no'],_0x5b4d41);return _0x57f521;let _0x499899='',_0x42a702=_0x5b4d41[_0x1b1835(0x28d)](/ /),_0x300ba7='';for(var _0x5ea330=0x0;_0x5ea330<_0x42a702[_0x1b1835(0x1f3)];_0x5ea330++){let _0xadc5=_0x42a702[_0x5ea330];if(_0x5ea330==0x0)_0x499899+=_0xadc5,_0x499899+='\x20';else(_0xadc5['indexOf']('+')==0x0||_0xadc5[_0x1b1835(0x2b0)]('-')==0x0)&&(_0x300ba7=_0xadc5[_0x1b1835(0x176)](0x3,0x5));}let _0x436027=_0x4383bf[_0x1b1835(0x272)](_0x4383bf['move_no'],_0x499899);return _0x436027;}function store_move_set(_0x2b11c6,_0xf31868,_0x20d018,_0x538a2a,_0x346a0f,_0x1b82a6,_0x310842,_0xef1265){const _0x5249d0=_0x56ae28;(_0x346a0f!=0x0&&_0x310842<0x1||(_0x310842&0xf)>RY)&&console['error'](_0x5249d0(0x235)+_0x346a0f+_0x5249d0(0x2b2)+_0x310842);let _0xb5e51b=new Kifup();_0xb5e51b['t']=_0x1b82a6,_0xb5e51b['f']=_0x346a0f,_0xb5e51b['k']=_0x310842;let _0x471dfa=_0x2b11c6[_0x5249d0(0x36a)](_0xf31868,_0x20d018,_0xb5e51b,_0xef1265);if(_0x471dfa==-0x2)return-0x2;if(_0x471dfa==-0x1)return-0x1;else _0x471dfa>0x0&&console['error'](_0x5249d0(0x2a4)+_0x471dfa);if(_0x1b82a6<0xb)return 0x2;return _0x1b82a6;}var bd_set;function csa_load_line(_0x27c00d,_0x180d68,_0xec8f0d,_0x26deae){const _0x458cf7=_0x56ae28;_0x26deae=_0x26deae[_0x458cf7(0x261)](/(\r\n|\n|\r)/gm,'');if(_0x26deae[_0x458cf7(0x1f3)]<=0x0)return 0x0;if(_0x26deae[_0x458cf7(0x2b0)]('\x27**')==0x0)return csa_load_comment(_0x27c00d,_0x26deae),0x0;if(_0x26deae['indexOf']('\x27')==0x0)return 0x0;if(_0x26deae['indexOf']('V')==0x0)return 0x0;if(_0x26deae[_0x458cf7(0x2b0)]('$')==0x0){if(_0x26deae[_0x458cf7(0x2b0)](_0x458cf7(0x264))==0x0)_0x27c00d[_0x458cf7(0x234)]=_0x26deae[_0x458cf7(0x176)](0xc);return 0x0;}if(_0x26deae[_0x458cf7(0x2b0)]('N+')==0x0)return _0x27c00d['sente_name']=_0x26deae[_0x458cf7(0x176)](0x2),0x0;if(_0x26deae[_0x458cf7(0x2b0)]('N-')==0x0)return _0x27c00d[_0x458cf7(0x2bd)]=_0x26deae['substring'](0x2),0x0;if(_0x26deae['indexOf']('P')==0x0)return 0x0;if(_0x26deae[_0x458cf7(0x1f3)]==0x1){if(_0x26deae[_0x458cf7(0x2b0)]('+')==0x0)return _0xec8f0d[_0x458cf7(0x29f)]=_0x180d68['teban']=SENTE,0x0;if(_0x26deae[_0x458cf7(0x2b0)]('-')==0x0)return _0xec8f0d[_0x458cf7(0x29f)]=_0x180d68[_0x458cf7(0x29f)]=GOTE,0x0;}if(bd_set==0x0&&(_0x26deae[_0x458cf7(0x2b0)]('+')==0x0||_0x26deae['indexOf']('-')==0x0||_0x26deae[_0x458cf7(0x2b0)]('%')==0x0)){if(_0x27c00d['abnormal_flg']==0x0){}else{}bd_set=0x1;}let _0x4b5c1a=0x0,_0x369127=0x0;if(_0x26deae[_0x458cf7(0x2b0)]('%')==0x0){if(_0x26deae['indexOf'](_0x458cf7(0x280))==0x0)_0x369127=TORYO;else{if(_0x26deae[_0x458cf7(0x2b0)](_0x458cf7(0x21f))==0x0)_0x369127=CHUDAN;else{if(_0x26deae[_0x458cf7(0x2b0)](_0x458cf7(0x268))==0x0)_0x369127=SENNITITE;else{if(_0x26deae[_0x458cf7(0x2b0)](_0x458cf7(0x1b6))==0x0)_0x369127=JISHOGI;else{if(_0x26deae[_0x458cf7(0x2b0)]('%HIKIWAKE')==0x0)_0x369127=JISHOGI;else{if(_0x26deae['indexOf'](_0x458cf7(0x165))==0x0)_0x369127=KACHI;else{if(_0x26deae['indexOf'](_0x458cf7(0x1e0))==0x0)_0x369127=KIREMAKE;else{if(_0x26deae[_0x458cf7(0x2b0)](_0x458cf7(0x365))==0x0)_0x369127=HANSOKU_MAKE;else{if(_0x26deae['indexOf'](_0x458cf7(0x36e))==0x0)_0x369127=SENTE_HANSOKU;else{if(_0x26deae[_0x458cf7(0x2b0)]('%-ILLEGAL_ACTION')==0x0)_0x369127=GOTE_HANSOKU;}}}}}}}}}let _0x5cc4ac=store_move_set(_0x27c00d,_0x180d68,_0xec8f0d,_0x27c00d[_0x458cf7(0x148)]+0x1,_0x4b5c1a,_0x369127,0x0,0x0);return 0x0;}if(_0x26deae[_0x458cf7(0x2b0)]('T')==0x0){let _0x325821=_0x26deae[_0x458cf7(0x176)](0x1),_0x3eb246=parseInt(_0x325821),_0xa9bcbf=_0x27c00d[_0x458cf7(0x301)](_0x27c00d['move_no']);return _0xa9bcbf[_0x458cf7(0x28a)]=_0x3eb246,0x0;}if(_0x26deae[_0x458cf7(0x2b0)]('+')==0x0||_0x26deae['indexOf']('-')==0x0){let _0x511dca=_0x26deae[_0x458cf7(0x176)](0x1,0x3),_0x95b7ed=_0x26deae[_0x458cf7(0x176)](0x3,0x5),_0x3182ec=_0x26deae[_0x458cf7(0x176)](0x5),_0x3e0abc=get_csa_koma(_0x3182ec);if(_0x3e0abc<0x1||_0x3e0abc>0xf)return console[_0x458cf7(0x210)](_0x458cf7(0x35d)),-0x1;if(_0x26deae[_0x458cf7(0x2b0)]('+')==0x0)_0x3e0abc|=SENTE;_0x4b5c1a=parseInt(_0x511dca),_0x369127=parseInt(_0x95b7ed);if(_0x4b5c1a==0x0){if(_0x3e0abc&0x80)_0x4b5c1a=0x90|_0x3e0abc;else _0x4b5c1a=0x80|_0x3e0abc;}else{let _0x3e2b64=_0x180d68[_0x458cf7(0x1d3)][_0x4b5c1a];if(_0x3e2b64==0x0)return-0x1;else{if(_0x3e2b64!=_0x3e0abc){if(_0x3e0abc==(_0x3e2b64|0x8))_0x3e0abc=_0x3e2b64,_0x369127|=0x80;else return console[_0x458cf7(0x210)](_0x458cf7(0x362)),console[_0x458cf7(0x210)]('f='+_0x4b5c1a+_0x458cf7(0x286)+_0x3e2b64),-0x1;}}}let _0x546f54=store_move_set(_0x27c00d,_0x180d68,_0xec8f0d,_0x27c00d['move_no']+0x1,_0x4b5c1a,_0x369127,_0x3e0abc,0x0);if(_0x546f54<=0x0)return-0x2;}return 0x0;}var csa_last_kifu_s;function csa_load(_0x5c9e87,_0x259af3,_0x5b1bca,_0x156d11,_0x2f681e){const _0x55126f=_0x56ae28;console[_0x55126f(0x195)]('csa_load');if(_0x5c9e87==csa_last_kifu_s)return console[_0x55126f(0x195)]('#\x20Not\x20Modified'),0x2;csa_last_kifu_s=_0x5c9e87;let _0x505b8a=_0x5b1bca[_0x55126f(0x148)],_0x2a30ac=_0x5b1bca[_0x55126f(0x341)](),_0x1d1192=_0x5c9e87[_0x55126f(0x28d)]('\x0a');_0x5b1bca['clear_kifu'](),_0x5b1bca[_0x55126f(0x244)](),cbd['hirate'](),start[_0x55126f(0x248)](),_0x5b1bca[_0x55126f(0x1c1)]=0x0,bd_set=0x0;for(let _0x2a7f3b=0x0;_0x2a7f3b<_0x1d1192[_0x55126f(0x1f3)];_0x2a7f3b++){let _0x5ee552=_0x1d1192[_0x2a7f3b],_0xeb0cf7=csa_load_line(_0x5b1bca,cbd,start,_0x5ee552);if(_0xeb0cf7<0x0)break;let _0x323217=_0x5ee552[_0x55126f(0x2b0)](',');if(_0x323217>0x0){_0x5ee552=_0x5ee552['substring'](_0x323217+0x1),_0xeb0cf7=csa_load_line(_0x5b1bca,cbd,start,_0x5ee552);if(_0xeb0cf7<0x0)break;}}ReplayTop(),TopInfo(_0x5b1bca),RightImageName(_0x5b1bca),LeftImageName(_0x5b1bca),console['log'](_0x55126f(0x356)+_0x2f681e);if(_0x2f681e==-0x1){let _0xab9ba4=location[_0x55126f(0x30e)];console[_0x55126f(0x195)](_0x55126f(0x2f0)+_0xab9ba4);let _0xbd61e5=_0xab9ba4[_0x55126f(0x1c3)](_0x55126f(0x338));if(_0xbd61e5>=0x0){let _0x431422=_0xab9ba4[_0x55126f(0x176)](_0xbd61e5+0x4);_0xbd61e5=_0x431422[_0x55126f(0x1c3)]('?');_0xbd61e5>=0x0&&(_0x431422=_0x431422[_0x55126f(0x176)](0x0,_0xbd61e5));let _0xcad704=parseInt(_0x431422,0xa);console['log']('#\x20te='+_0xcad704),Jump_sub(_0xcad704),ViewUpdate();}else!_0x5b1bca['is_syuukyoku']()&&ReplayLast(0x0,0x1);}else _0x2f681e==-0x2?(ReplayLast(0x0,0x1),_0x5b1bca[_0x55126f(0x148)]>_0x505b8a&&Komaoto()):(Jump_sub(_0x2f681e),ViewUpdate(),_0x5b1bca[_0x55126f(0x341)]()>_0x2a30ac&&Komaoto());return set_kifu_list(),ButtonUpdate(),0x0;}const teai_str=['平手',_0x56ae28(0x349),_0x56ae28(0x16e),'角落ち',_0x56ae28(0x20b),_0x56ae28(0x371),_0x56ae28(0x36c),_0x56ae28(0x1ab),'四枚落ち',_0x56ae28(0x279),_0x56ae28(0x1a8),_0x56ae28(0x20c),'八枚落ち',_0x56ae28(0x303),'その他\u3000'];function get_teai(_0x30047b){const _0x16f15c=_0x56ae28;let _0x2a7e09;for(_0x2a7e09=0x0;_0x2a7e09<=SONOTA;_0x2a7e09++){if(_0x30047b[_0x16f15c(0x2b0)](teai_str[_0x2a7e09])==0x0)break;}return _0x2a7e09;}function load_teai_sub(_0x5f5066,_0xaa936a,_0x5c6be7){const _0x638b04=_0x56ae28;if(_0x5c6be7[_0x638b04(0x2b0)]('手合割：')==0x0){_0x5f5066['teai']=get_teai(_0x5c6be7[_0x638b04(0x176)](0x4));if(_0x5f5066[_0x638b04(0x236)]>0x0)_0xaa936a[_0x638b04(0x29f)]=_0x5f5066[_0x638b04(0x29f)]=GOTE;return 0x1;}else{if(_0x5c6be7[_0x638b04(0x2b0)](_0x638b04(0x288))==0x0||_0x5c6be7[_0x638b04(0x2b0)]('上手番')==0x0||_0x5c6be7['indexOf'](_0x638b04(0x31f))==0x0||_0x5c6be7[_0x638b04(0x2b0)](_0x638b04(0x1e9))==0x0)return _0xaa936a[_0x638b04(0x29f)]=_0x5f5066[_0x638b04(0x29f)]=GOTE,0x1;else{if(_0x5c6be7['indexOf'](_0x638b04(0x200))==0x0||_0x5c6be7[_0x638b04(0x2b0)]('下手番')==0x0||_0x5c6be7[_0x638b04(0x2b0)](_0x638b04(0x270))==0x0||_0x5c6be7['indexOf']('手番：下手')==0x0)return _0xaa936a['teban']=_0x5f5066[_0x638b04(0x29f)]=SENTE,console[_0x638b04(0x195)]('load_teai_sub\x20teban='+_0xaa936a[_0x638b04(0x29f)]),0x1;}}return 0x0;}var gote_moti_flg;function load_bod_sub(_0x2bbab9,_0x20ff08,_0x15b92c){const _0x26a5df=_0x56ae28;if(_0x15b92c>0x9)return 0x0;let _0x51e669=0x0,_0x2b297d=_0x20ff08['charAt'](_0x51e669);_0x51e669++;_0x2b297d==':'&&(_0x2b297d=_0x20ff08[_0x26a5df(0x32b)](_0x51e669),_0x51e669++);if(_0x2b297d!='|')return 0x0;for(let _0x3c456b=0x9;_0x3c456b>=0x1;_0x3c456b--){_0x2b297d=_0x20ff08['charAt'](_0x51e669),_0x51e669++;if(_0x2b297d=='|')continue;let _0x10356a;if(_0x2b297d=='v'||_0x2b297d=='-'||_0x2b297d=='V')_0x10356a=0x0;else{if(_0x2b297d=='\x20'||_0x2b297d=='^'||_0x2b297d=='+')_0x10356a=SENTE;else return console[_0x26a5df(0x210)]('***load_bod_sub2\x20error\x20'+_0x20ff08+'c='+_0x2b297d+'p='+_0x51e669),-0x1;}let _0x4a57a9=get_koma(_0x20ff08[_0x26a5df(0x176)](_0x51e669));_0x4a57a9>0x0&&(_0x2bbab9[_0x26a5df(0x1d3)][_0x3c456b*0xa+_0x15b92c]=_0x4a57a9|_0x10356a),_0x51e669++;}return 0x1;}function moti_sub(_0x52d043,_0x55af46,_0x5425e8){const _0x506fa3=_0x56ae28;if(_0x55af46[_0x506fa3(0x2b0)]('なし')==0x0)return 0x0;let _0x4af725=_0x5425e8?0x1:0x0,_0xf073f5=0x0;for(;;){if(_0xf073f5>=_0x55af46['length'])break;let _0x45f8a4=_0x55af46['charAt'](_0xf073f5);if(_0x45f8a4==','||_0x45f8a4=='\x20'){_0xf073f5++;continue;}if(_0x45f8a4=='\u3000'){_0xf073f5++;continue;}let _0x3c41dd=get_koma(_0x55af46[_0x506fa3(0x176)](_0xf073f5));if((_0x3c41dd&0xf)>=0x8)break;_0xf073f5++;if(_0x3c41dd==0x0)continue;if(_0xf073f5>=_0x55af46[_0x506fa3(0x1f3)])break;let _0x1cd59b=0x0,_0x49fcf7=get_kan_num(_0x55af46[_0x506fa3(0x176)](_0xf073f5));if(_0x49fcf7==0x0){_0x49fcf7=get_zen_num(_0x55af46[_0x506fa3(0x176)](_0xf073f5));if(_0x49fcf7==0x1)_0x1cd59b=0x1;if(_0x49fcf7<=0x0)_0x49fcf7=0x1;else _0xf073f5++;}else _0xf073f5++;if(_0x49fcf7==0xa||_0x1cd59b!=0x0){if(_0xf073f5>=_0x55af46[_0x506fa3(0x1f3)])break;let _0x5e2a86=get_kan_num(_0x55af46[_0x506fa3(0x176)](_0xf073f5));if(_0x5e2a86==0x0){_0x5e2a86=get_zen_num(_0x55af46[_0x506fa3(0x176)](_0xf073f5));if(_0x5e2a86>=0x0)_0x49fcf7=0xa;else _0x5e2a86=0x0;}_0x49fcf7+=_0x5e2a86,_0xf073f5++;}_0x52d043[_0x506fa3(0x321)][_0x4af725][_0x3c41dd]=_0x49fcf7,_0x52d043[_0x506fa3(0x321)][_0x4af725][0x0]+=_0x49fcf7;}return 0x0;}function load_moti_sub(_0x685955,_0x5cac3d){const _0x305ad0=_0x56ae28;if(_0x5cac3d[_0x305ad0(0x2b0)]('先手の持駒：')==0x0||_0x5cac3d[_0x305ad0(0x2b0)](_0x305ad0(0x250))==0x0)return moti_sub(_0x685955,_0x5cac3d[_0x305ad0(0x176)](0x6),SENTE),0x1;if(_0x5cac3d[_0x305ad0(0x2b0)]('先手持駒：')==0x0||_0x5cac3d[_0x305ad0(0x2b0)](_0x305ad0(0x159))==0x0)return moti_sub(_0x685955,_0x5cac3d['substring'](0x5),SENTE),0x1;if(_0x5cac3d['indexOf']('持駒：')==0x0)return moti_sub(_0x685955,_0x5cac3d['substring'](0x3),SENTE),0x1;if(_0x5cac3d['indexOf'](_0x305ad0(0x1be))==0x0||_0x5cac3d[_0x305ad0(0x2b0)](_0x305ad0(0x1cc))==0x0)return moti_sub(_0x685955,_0x5cac3d['substring'](0x6),0x0),gote_moti_flg=0x1,0x1;if(_0x5cac3d[_0x305ad0(0x2b0)](_0x305ad0(0x2f7))==0x0||_0x5cac3d['indexOf'](_0x305ad0(0x27e))==0x0)return moti_sub(_0x685955,_0x5cac3d['substring'](0x5),0x0),gote_moti_flg=0x1,0x1;return 0x0;}function get_kan_num(_0x2b6108){const _0x314d79=_0x56ae28,_0x285389=['零','一','二','三','四','五','六','七','八','九','十'];for(var _0x312ffa=0x1;_0x312ffa<=0xa;_0x312ffa++){if(_0x2b6108[_0x314d79(0x2b0)](_0x285389[_0x312ffa])==0x0)return _0x312ffa;}return 0x0;}const zen=['０','１','２','３','４','５','６','７','８','９'];function get_zen_num(_0x46f137){const _0x2efc28=_0x56ae28;for(var _0x119e82=0x0;_0x119e82<=0x9;_0x119e82++){if(_0x46f137[_0x2efc28(0x2b0)](zen[_0x119e82])==0x0)return _0x119e82;}return-0x1;}function get_koma(_0x2aff1f){const _0x57c9ad=_0x56ae28;if(_0x2aff1f[_0x57c9ad(0x2b0)]('王')==0x0)return GY;else{if(_0x2aff1f[_0x57c9ad(0x2b0)]('成香')==0x0)return NY;else{if(_0x2aff1f[_0x57c9ad(0x2b0)]('成桂')==0x0)return NE;else{if(_0x2aff1f[_0x57c9ad(0x2b0)]('成銀')==0x0)return NG;else{if(_0x2aff1f[_0x57c9ad(0x2b0)]('竜')==0x0)return RY;}}}}const _0x30682d=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'];for(let _0x587e8f=0x1;_0x587e8f<=0xf;_0x587e8f++){if(_0x2aff1f[_0x57c9ad(0x2b0)](_0x30682d[_0x587e8f])==0x0)return _0x587e8f;}return 0x0;}function load_kifu_info(_0x2c8f59,_0xf67d1){const _0x269fdf=_0x56ae28;_0xf67d1=_0xf67d1[_0x269fdf(0x261)](/(\r\n|\n|\r)/gm,'');if(_0xf67d1[_0x269fdf(0x2b0)]('手合割：')==0x0)return 0x0;else{if(_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x288))==0x0||_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x31c))==0x0||_0xf67d1['indexOf'](_0x269fdf(0x31f))==0x0||_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x1e9))==0x0)return 0x0;else{if(_0xf67d1['indexOf']('先手番')==0x0||_0xf67d1['indexOf']('下手番')==0x0||_0xf67d1[_0x269fdf(0x2b0)]('手番：先手')==0x0||_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x18c))==0x0)return 0x0;}}if(_0xf67d1[_0x269fdf(0x2b0)]('先手：')==0x0||_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x1d5))==0x0)return _0x2c8f59[_0x269fdf(0x2ef)]=_0xf67d1[_0x269fdf(0x176)](0x3),0x1;if(_0xf67d1['indexOf'](_0x269fdf(0x183))==0x0||_0xf67d1['indexOf'](_0x269fdf(0x2e3))==0x0)return _0x2c8f59[_0x269fdf(0x2bd)]=_0xf67d1[_0x269fdf(0x176)](0x3),0x1;if(_0xf67d1['indexOf'](_0x269fdf(0x21e))==0x0)return _0x2c8f59['date']=_0xf67d1[_0x269fdf(0x176)](0x5),0x1;if(_0xf67d1['indexOf']('終了日時：')==0x0)return _0x2c8f59['end_date']=_0xf67d1['substring'](0x5),0x1;if(_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x22a))==0x0)return _0x2c8f59[_0x269fdf(0x27c)]=_0xf67d1[_0x269fdf(0x176)](0x3),0x1;if(_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x169))==0x0)return _0x2c8f59[_0x269fdf(0x199)]=_0xf67d1[_0x269fdf(0x176)](0x5),0x1;if(_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x253))==0x0)return _0x2c8f59['site']=_0xf67d1[_0x269fdf(0x176)](0x3),0x1;if(_0xf67d1[_0x269fdf(0x2b0)]('消費時間：')==0x0)return _0x2c8f59[_0x269fdf(0x1b4)]=_0xf67d1[_0x269fdf(0x176)](0x5),0x1;if(_0xf67d1[_0x269fdf(0x2b0)]('リーグ成績：')==0x0)return _0x2c8f59[_0x269fdf(0x157)]=_0xf67d1['substring'](0x6),0x1;if(_0xf67d1['indexOf'](_0x269fdf(0x275))==0x0){let _0x3cb85c=parseInt(_0xf67d1['substring'](0x5));console[_0x269fdf(0x195)]('#\x20先後未定='+_0x3cb85c+'\x20'+_0xf67d1);if(isNaN(_0x3cb85c))return console[_0x269fdf(0x210)](_0x269fdf(0x217)+_0xf67d1),0x1;return _0x2c8f59[_0x269fdf(0x266)]=_0x3cb85c,0x1;}if(_0xf67d1['indexOf'](_0x269fdf(0x336))==0x0)return _0x2c8f59[_0x269fdf(0x34b)]=_0xf67d1[_0x269fdf(0x176)](0x3),0x1;if(_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x335))==0x0)return _0x2c8f59[_0x269fdf(0x366)]=_0xf67d1[_0x269fdf(0x176)](0x4),0x1;if(_0xf67d1['indexOf']('出典：')==0x0)return _0x2c8f59[_0x269fdf(0x312)]=_0xf67d1['substring'](0x3),0x1;if(_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x1d9))==0x0)return _0x2c8f59[_0x269fdf(0x27b)]=_0xf67d1[_0x269fdf(0x176)](0x5),0x1;if(_0xf67d1['indexOf'](_0x269fdf(0x2a9))==0x0)return _0x2c8f59[_0x269fdf(0x16b)]=_0xf67d1[_0x269fdf(0x176)](0x4),0x1;if(_0xf67d1[_0x269fdf(0x2b0)](_0x269fdf(0x23e))>=0x0)return 0x0;if(_0xf67d1['indexOf'](_0x269fdf(0x23a))==0x0)return 0x0;if(_0xf67d1[_0x269fdf(0x2b0)]('*')==0x0)return 0x0;if(_0xf67d1[_0x269fdf(0x2b0)]('：')>=0x0)return 0x1;return 0x0;}function last_move_sub(_0x3fd3a3){const _0x179dfd=_0x56ae28;if(_0x3fd3a3['indexOf']('投了')==0x0)return TORYO;else{if(_0x3fd3a3[_0x179dfd(0x2b0)]('持将棋')==0x0)return JISHOGI;else{if(_0x3fd3a3['indexOf'](_0x179dfd(0x22c))==0x0)return SENNITITE;else{if(_0x3fd3a3[_0x179dfd(0x2b0)](_0x179dfd(0x2ad))==0x0)return KIREMAKE;else{if(_0x3fd3a3['indexOf'](_0x179dfd(0x2a8))==0x0)return HANSOKU_KACHI;else{if(_0x3fd3a3['indexOf']('反則負け')==0x0)return HANSOKU_MAKE;else{if(_0x3fd3a3[_0x179dfd(0x2b0)](_0x179dfd(0x2d4))==0x0)return KACHI;else{if(_0x3fd3a3[_0x179dfd(0x2b0)]('中断')==0x0)return CHUDAN;else{if(_0x3fd3a3[_0x179dfd(0x2b0)]('詰')==0x0)return TUMI;}}}}}}}}return-0x1;}function store_move(_0x10f7f0,_0xa7c415){const _0x26181c=_0x56ae28;let _0x208789=_0x10f7f0;for(;;){if(_0x208789['indexOf']('\u3000')==0x0||_0x208789[_0x26181c(0x2b0)]('\x20')==0x0)_0x208789=_0x208789[_0x26181c(0x176)](0x1);else break;}if(_0x208789[_0x26181c(0x1f3)]<=0x1)return 0x0;let _0x10678e=new Kifup(),_0x4b0ef4=last_move_sub(_0x208789),_0x5a2f3e;if(_0x4b0ef4>=0x0)return _0x10678e['t']=_0x4b0ef4,_0x10678e['f']=0x1,_0x10678e['k']=0x0,_0x5a2f3e=Kifu[_0x26181c(0x36a)](cbd,start,_0x10678e,_0xa7c415),_0x5a2f3e;let _0x4a4cb8=_0x208789,_0x54b154,_0x582c05;if(_0x4a4cb8[_0x26181c(0x2b0)]('同')==0x0){let _0x133a3f=Kifu[_0x26181c(0x301)](Kifu[_0x26181c(0x148)]);if(_0x133a3f==null)_0x582c05=0x0;else _0x582c05=_0x133a3f['t']&0x7f;_0x54b154=0x1;}else{_0x54b154=0x0;let _0x174338=get_zen_num(_0x4a4cb8),_0x598f4b=get_kan_num(_0x4a4cb8[_0x26181c(0x176)](0x1));if(_0x174338==0x0||_0x598f4b==0x0)return console[_0x26181c(0x210)](_0x26181c(0x220)+_0x4a4cb8),console[_0x26181c(0x210)](_0x26181c(0x26b)+_0x10f7f0),-0x1;_0x582c05=_0x174338*0xa+_0x598f4b;}let _0x12612a=_0x4a4cb8[_0x26181c(0x176)](0x1),_0x211aff='';if(_0x54b154!=0x0&&_0x12612a[_0x26181c(0x2b0)]('\x20\x20')==0x0)_0x211aff=_0x208789[_0x26181c(0x176)](0x3);else{if(_0x54b154!=0x0&&_0x12612a[_0x26181c(0x2b0)]('\x20')==0x0)_0x211aff=_0x208789[_0x26181c(0x176)](0x2);else{if(_0x54b154!=0x0&&!_0x12612a[_0x26181c(0x2b0)]('\u3000')==0x0)_0x211aff=_0x208789[_0x26181c(0x176)](0x1);else{let _0x527877=_0x208789[_0x26181c(0x176)](0x2);if(_0x527877[_0x26181c(0x2b0)]('同')==0x0)_0x211aff=_0x208789[_0x26181c(0x176)](0x3);else _0x211aff=_0x208789['substring'](0x2);}}}let _0x454e1e=get_koma(_0x211aff);if(_0x454e1e==0x0)return console[_0x26181c(0x210)](_0x26181c(0x345)+_0x10f7f0),-0x1;let _0x28c74f,_0xad98d5=0x1,_0x356d52=_0x211aff['substring'](0x1);if(_0x356d52[_0x26181c(0x2b0)]('打')==0x0)return _0x28c74f=_0x211aff[_0x26181c(0x176)](0x1),_0x10678e['t']=_0x582c05,_0x10678e['f']=0x0,_0x10678e['k']=_0x454e1e,_0x5a2f3e=Kifu[_0x26181c(0x36a)](cbd,start,_0x10678e,_0xa7c415),_0x5a2f3e;else{if(_0x356d52[_0x26181c(0x2b0)]('成')==0x0)_0x582c05|=0x80,_0x28c74f=_0x211aff['substring'](0x3);else{if(_0x211aff[_0x26181c(0x2b0)]('成')==0x0)_0x28c74f=_0x211aff[_0x26181c(0x176)](0x3);else{let _0x578744=_0x211aff[_0x26181c(0x176)](0x1);if(_0x578744['indexOf']('(')==0x0)_0x28c74f=_0x578744[_0x26181c(0x176)](0x1);else _0x28c74f=_0x211aff[_0x26181c(0x176)](0x1);}}}let _0x15d593=parseInt(_0x28c74f['charAt'](0x0)),_0x10717a=parseInt(_0x28c74f['charAt'](0x1));return _0xad98d5=_0x15d593*0xa+_0x10717a,_0x10678e['t']=_0x582c05,_0x10678e['f']=_0xad98d5,_0x10678e['k']=_0x454e1e,_0x5a2f3e=Kifu[_0x26181c(0x36a)](cbd,start,_0x10678e,_0xa7c415),_0x5a2f3e;}function load_move_sub(_0x852188){const _0x224cd3=_0x56ae28;let _0x2688a7=_0x852188['substring'](0x4),_0x48f352=0x0,_0x10a721=0x0,_0x3710b5=_0x2688a7,_0x381920=_0x3710b5['indexOf']('(');if(_0x381920>0x0){_0x3710b5=_0x3710b5[_0x224cd3(0x176)](_0x381920+0x1),_0x381920=_0x3710b5[_0x224cd3(0x2b0)]('(');_0x381920>0x0&&(_0x3710b5=_0x3710b5[_0x224cd3(0x176)](_0x381920+0x1));let _0x27f99b=_0x3710b5[_0x224cd3(0x2b0)](':');if(_0x27f99b>0x0){let _0x2990d8=_0x3710b5[_0x224cd3(0x176)](0x0,_0x27f99b);_0x48f352=parseInt(_0x2990d8);let _0x23dec3=_0x3710b5[_0x224cd3(0x176)](_0x27f99b+0x1),_0xbc89e1=_0x23dec3[_0x224cd3(0x2b0)]('/');_0xbc89e1>0x0&&(_0x23dec3=_0x23dec3[_0x224cd3(0x176)](0x0,_0xbc89e1),_0x10a721=parseInt(_0x23dec3));}}let _0x315e9d=_0x48f352*0x3c+_0x10a721,_0x54d9e6=store_move(_0x2688a7,_0x315e9d);if(_0x54d9e6<=0x0)return _0x54d9e6;if(_0x54d9e6<0xb)return 0x2;return 0x1;}function load_comment(_0x5be279){const _0x240915=_0x56ae28;let _0x223658=_0x5be279[_0x240915(0x176)](0x1);return Kifu[_0x240915(0x272)](Kifu[_0x240915(0x148)],_0x223658);}function kifu_line(_0x577671){const _0x4e65eb=_0x56ae28;if(_0x577671[_0x4e65eb(0x2b0)]('1\x20')>=0x0)return 0x1;return 0x0;}function sort_board(_0x2f9eb8,_0x3fae3f,_0x260255){const _0x3dfe06=_0x56ae28;console[_0x3dfe06(0x195)](_0x3dfe06(0x267)+_0x3fae3f['teban']),_0x3fae3f['setbd'](),_0x260255[_0x3dfe06(0x16f)](_0x3fae3f);}function game_init(_0x10a7ce,_0x268634,_0x1821ac){const _0x1b7a34=_0x56ae28;_0x268634[_0x1b7a34(0x295)](_0x268634[_0x1b7a34(0x236)]),_0x1821ac[_0x1b7a34(0x295)](_0x268634[_0x1b7a34(0x236)]),_0x10a7ce[_0x1b7a34(0x36b)](),_0x10a7ce[_0x1b7a34(0x1c1)]=0x0;}var last_kifu_s;function load_kifu_sub(_0x3cbeaa,_0x398036,_0x213e3b,_0x78ad1d,_0x225fa7){const _0x40257d=_0x56ae28;if(_0x3cbeaa==last_kifu_s)return console[_0x40257d(0x195)](_0x40257d(0x192)),0x2;last_kifu_s=_0x3cbeaa;let _0x5b7c9c=_0x213e3b[_0x40257d(0x148)],_0x536fd3=_0x213e3b[_0x40257d(0x341)](),_0x334bc9=_0x3cbeaa[_0x40257d(0x28d)]('\x0a');const _0x1577ae=![];_0x213e3b[_0x40257d(0x1eb)](),_0x213e3b[_0x40257d(0x244)](),cbd[_0x40257d(0x248)](),start[_0x40257d(0x248)]();!_0x1577ae&&(cbd[_0x40257d(0x236)]=0x0,cbd[_0x40257d(0x29f)]=SENTE,cbd[_0x40257d(0x31b)](),_0x213e3b['abnormal_flg']=0x0,gote_moti_flg=0x0);_0x213e3b['bunki_flg']=0x0;let _0x177e19=0x1,_0x8f85f4=0x0;for(let _0x58b402=0x0;_0x58b402<_0x334bc9[_0x40257d(0x1f3)];_0x58b402++){let _0x46219f=_0x334bc9[_0x58b402];if(_0x46219f[_0x40257d(0x2b0)]('#')==0x0)continue;if(_0x46219f[_0x40257d(0x2b0)]('&')==0x0)continue;if(_0x46219f[_0x40257d(0x2b0)]('まで')==0x0)continue;if(load_teai_sub(cbd,start,_0x46219f)!=0x0)continue;if(load_kifu_info(_0x213e3b,_0x46219f))continue;if(_0x46219f[_0x40257d(0x2b0)]('*')==0x0){load_comment(_0x46219f);continue;}if(_0x213e3b[_0x40257d(0x148)]>0x0&&_0x46219f['indexOf'](_0x40257d(0x23a))==0x0){_0x213e3b['bunki_flg']=0x1;let _0x27e250=_0x46219f[_0x40257d(0x176)](0x3),_0xec437a=parseInt(_0x27e250);console['log'](_0x40257d(0x245)+_0xec437a),cbd['jump_back'](_0x213e3b,_0xec437a-0x1);continue;}if(_0x8f85f4==0x0&&kifu_line(_0x46219f)!=0x0||_0x46219f[_0x40257d(0x2b0)](_0x40257d(0x1bd))==0x0){console[_0x40257d(0x195)](_0x40257d(0x263)+_0x46219f+'\x20abnormal_flg='+_0x213e3b[_0x40257d(0x1c1)]);_0x213e3b[_0x40257d(0x1c1)]==0x0?game_init(_0x213e3b,cbd,start):sort_board(_0x213e3b,cbd,start);_0x8f85f4=0x1;if(_0x46219f[_0x40257d(0x2b0)](_0x40257d(0x1bd))==0x0)continue;}if(!_0x1577ae){if(_0x46219f[_0x40257d(0x2b0)](_0x40257d(0x18f))>=0x0)continue;if(_0x46219f[_0x40257d(0x2b0)]('+--')>=0x0)continue;let _0x1b111f=load_bod_sub(cbd,_0x46219f,_0x177e19);if(_0x1b111f==0x1){_0x177e19++,_0x213e3b['abnormal_flg']=0x1;continue;}else{if(_0x1b111f==-0x1){console[_0x40257d(0x210)](_0x40257d(0x2a3)+_0x46219f);break;}}if(load_moti_sub(cbd,_0x46219f)!=0x0)continue;}let _0x384e1b=load_move_sub(_0x46219f);if(_0x384e1b==-0x2||_0x384e1b==-0x1)break;_0x384e1b==0x2&&(last=0x1);}if(!_0x1577ae){}adjust_kifu_position(),set_button_positions(!![]),ReplayTop(),TopInfo(_0x213e3b),RightImageName(_0x213e3b),LeftImageName(_0x213e3b),console[_0x40257d(0x195)](_0x40257d(0x1ce)+_0x225fa7);if(_0x225fa7==-0x1){let _0x20ba57=location[_0x40257d(0x30e)];console[_0x40257d(0x195)](_0x40257d(0x2f0)+_0x20ba57);let _0x40ad99=_0x20ba57['lastIndexOf'](_0x40257d(0x338));if(_0x40ad99>=0x0){let _0x4b2158=_0x20ba57[_0x40257d(0x176)](_0x40ad99+0x4);_0x40ad99=_0x4b2158[_0x40257d(0x1c3)]('?');_0x40ad99>=0x0&&(_0x4b2158=_0x4b2158[_0x40257d(0x176)](0x0,_0x40ad99));let _0x366645=parseInt(_0x4b2158,0xa);console['log'](_0x40257d(0x224)+_0x366645),Jump_sub(_0x366645),ViewUpdate();}else{if(typeof START_TESUU!==_0x40257d(0x218))console[_0x40257d(0x195)](_0x40257d(0x346)+START_TESUU),typeof START_TESUU==_0x40257d(0x2e1)?START_TESUU['indexOf']('LAST')>=0x0&&ReplayLast(0x0,0x1):(Jump_sub(START_TESUU),ViewUpdate());else!_0x213e3b[_0x40257d(0x160)]()&&ReplayLast(0x0,0x1);}_0x213e3b[_0x40257d(0x160)]()&&StopAutoUpdate();}else{if(_0x225fa7==-0x2){ReplayLast(0x0,0x1);if(_0x213e3b['move_no']>_0x5b7c9c){_0x213e3b[_0x40257d(0x160)]()?(game_end_sound(),console[_0x40257d(0x22e)](_0x40257d(0x26e))):Komaoto();window['blur'](),console[_0x40257d(0x22e)](_0x40257d(0x29b)),window[_0x40257d(0x189)]();let _0x1c42c7=kifu_select[_0x40257d(0x1ca)][_0x40257d(0x1cd)];console[_0x40257d(0x22e)]('###\x20old_border='+_0x1c42c7),kifu_select[_0x40257d(0x1ca)]['border']=_0x40257d(0x363);var _0x721bb8=function(){const _0x315bf6=_0x40257d;console[_0x315bf6(0x195)]('to_old_border'),kifu_select[_0x315bf6(0x1ca)][_0x315bf6(0x1cd)]='';};setTimeout(_0x721bb8,0x7530);}}else Jump_sub(_0x225fa7),ViewUpdate(),_0x213e3b[_0x40257d(0x341)]()>_0x536fd3&&(_0x213e3b[_0x40257d(0x160)]()?game_end_sound():Komaoto());}return set_kifu_list(),ButtonUpdate(),0x0;}function get_kif_url(){const _0x47529c=_0x56ae28;if(KIF_FILE_NAME['indexOf']('/')==0x0||KIF_FILE_NAME[_0x47529c(0x2b0)](_0x47529c(0x359))==0x0){let _0x589b61=KIF_FILE_NAME;return console[_0x47529c(0x195)]('#\x20file_url='+_0x589b61),_0x589b61;}else{let _0x4230ca=location[_0x47529c(0x30e)],_0x18b7e3=_0x4230ca[_0x47529c(0x1c3)]('/');_0x18b7e3>=0x0&&(_0x4230ca=_0x4230ca[_0x47529c(0x176)](0x0,_0x18b7e3+0x1));let _0xe6c58e=_0x4230ca+KIF_FILE_NAME;return console[_0x47529c(0x195)](_0x47529c(0x205)+_0xe6c58e),_0xe6c58e;}}var loading;function load_kifu(_0x3a2c75,_0x144424,_0x39a9d0,_0x2e76cd){const _0x428850=_0x56ae28;console['log'](_0x428850(0x276));if(window[_0x428850(0x24d)]&&window['FileReader']&&window[_0x428850(0x249)]&&window[_0x428850(0x167)]){}else{alert(_0x428850(0x1b7));return;}loading=!![];let _0x4c7b20=new Date(),_0xf8cb67=_0x4c7b20[_0x428850(0x273)](),_0x2b5b9d=get_kif_url(),_0x1a0e03=get_kif_url()+'?'+_0xf8cb67,_0x241c69=![],_0x1976a7=_0x2b5b9d[_0x428850(0x1f6)](_0x2b5b9d[_0x428850(0x1f3)]-0x5);_0x1976a7=_0x1976a7[_0x428850(0x221)]();if(_0x1976a7==_0x428850(0x19c))_0x241c69=!![];var _0x1faf9d=new XMLHttpRequest();_0x1faf9d[_0x428850(0x1a3)](_0x428850(0x14d),_0x1a0e03,!![]);if(_0x241c69)_0x1faf9d[_0x428850(0x310)](_0x428850(0x252));else _0x1faf9d['overrideMimeType'](_0x428850(0x2f6));_0x1faf9d[_0x428850(0x259)]=function(_0xd6dd8){const _0x2267a5=_0x428850;console[_0x2267a5(0x210)](_0x2267a5(0x2e9)+_0x1faf9d[_0x2267a5(0x2ed)]);},_0x1faf9d[_0x428850(0x146)]=function(_0x567d76){const _0xa4acc6=_0x428850;console['log'](_0xa4acc6(0x285));if(_0x1faf9d['readyState']===0x4){if(_0x1faf9d['status']===0xc8){let _0x13c08e=_0x2b5b9d[_0xa4acc6(0x1f6)](_0x2b5b9d[_0xa4acc6(0x1f3)]-0x4);_0x13c08e=_0x13c08e['toLowerCase'](),_0x13c08e==_0xa4acc6(0x22b)?csa_load(_0x1faf9d[_0xa4acc6(0x2e7)],_0x2b5b9d,_0x144424,_0x39a9d0,_0x2e76cd):load_kifu_sub(_0x1faf9d[_0xa4acc6(0x2e7)],_0x2b5b9d,_0x144424,_0x39a9d0,_0x2e76cd);}else _0x1faf9d[_0xa4acc6(0x2ac)]===0x194?(console[_0xa4acc6(0x210)](''+_0x1faf9d[_0xa4acc6(0x2ac)]+':'+_0x1faf9d[_0xa4acc6(0x2ed)]),ViewUpdate(),!FREE&&TopInfo(_0x144424)):console[_0xa4acc6(0x210)](''+_0x1faf9d[_0xa4acc6(0x2ac)]+':'+_0x1faf9d[_0xa4acc6(0x2ed)]);}},_0x1faf9d[_0x428850(0x1dc)]=function(){const _0x5ce459=_0x428850;console[_0x5ce459(0x195)]('#\x20onreadystatechange\x20readyState='+_0x1faf9d['readyState']);if(_0x1faf9d[_0x5ce459(0x1c5)]===0x4){if(_0x1faf9d[_0x5ce459(0x2ac)]===0xc8||_0x1faf9d[_0x5ce459(0x2ac)]==0x0){}}},_0x1faf9d[_0x428850(0x291)]=function(){const _0x5356b8=_0x428850;console[_0x5356b8(0x195)](_0x5356b8(0x327)+_0x1faf9d[_0x5356b8(0x1c5)]),loading=![];},_0x1faf9d['send']();}const version=_0x56ae28(0x223),MODE_SILENT=0x4;var komaoto_flg=!![],toryo_sound_flg=![],comment_str_size=0xb;const ua=navigator[_0x56ae28(0x1d4)];console[_0x56ae28(0x22e)](_0x56ae28(0x191)+ua);const is_iOS=ua[_0x56ae28(0x2b0)]('iPhone')>=0x0||ua[_0x56ae28(0x2b0)](_0x56ae28(0x2df))>=0x0||ua['indexOf'](_0x56ae28(0x2ca))>=0x0,isIPad=/iPad|Macintosh/i[_0x56ae28(0x201)](navigator['userAgent'])&&_0x56ae28(0x26f)in document,isIOS=is_iOS||isIPad,isFirefox=ua[_0x56ae28(0x2b0)](_0x56ae28(0x1c6))>=0x0;console['info'](_0x56ae28(0x182)+isFirefox),console[_0x56ae28(0x195)](_0x56ae28(0x166));const COOKIE_STR=_0x56ae28(0x23f);let cookies=document[_0x56ae28(0x2f5)],cookiesArray=cookies[_0x56ae28(0x28d)](';');for(let c of cookiesArray){let cArray=c[_0x56ae28(0x28d)]('=');if(cArray[0x0][_0x56ae28(0x1b3)]('\x20')=='komaoto'){if(cArray[0x1]==_0x56ae28(0x154))komaoto_flg=![];console[_0x56ae28(0x195)]('komaoto_flg='+komaoto_flg);}else{if(cArray[0x0][_0x56ae28(0x1b3)]('\x20')=='muji'){if(cArray[0x1]=='true')muji_flg=!![];console[_0x56ae28(0x195)](_0x56ae28(0x1b9)+muji_flg);}else{if(cArray[0x0][_0x56ae28(0x1b3)]('\x20')==_0x56ae28(0x211)){let parsed=parseInt(cArray[0x1],0xa);isNaN(parsed)&&(parsed=0xb),comment_str_size=parsed,console[_0x56ae28(0x195)]('###\x20comment_str_size='+comment_str_size);}else{if(cArray[0x0]['trim']('\x20')=='toryo_sound'){if(cArray[0x1]=='false')toryo_sound_flg=![];console['log'](_0x56ae28(0x2c6)+toryo_sound_flg);}}}}}var small_header_flg=!![];typeof SMALL_HEADER!=='undefined'&&(small_header_flg=SMALL_HEADER);console[_0x56ae28(0x195)]('#\x20元\x20body.scrollTop='+document['body'][_0x56ae28(0x2c0)]),console['log'](_0x56ae28(0x2aa)+document[_0x56ae28(0x360)][_0x56ae28(0x2c0)]),console[_0x56ae28(0x195)](_0x56ae28(0x2de)+document['documentElement']['scrollTop']);small_header_flg?TOP_INFO_H=0x19:TOP_INFO_H=0x46;if(FREE)TOP_INFO_H=0x0;BD_ORG_Y=TOP_INFO_H+0x28,KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y,KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y,COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4;let kj_left_flg=![];typeof KJ_LEFT!==_0x56ae28(0x218)&&(kj_left_flg=KJ_LEFT);var kj_div=document[_0x56ae28(0x16c)](_0x56ae28(0x2d1));if(!kj_left_flg)kj_div[_0x56ae28(0x1ca)][_0x56ae28(0x2e0)]=_0x56ae28(0x251);var html_kj_div=document[_0x56ae28(0x2ee)](_0x56ae28(0x339));html_kj_div!=null?(console[_0x56ae28(0x195)](_0x56ae28(0x2c4)),html_kj_div['appendChild'](kj_div)):(console[_0x56ae28(0x195)](_0x56ae28(0x368)),document[_0x56ae28(0x360)]['appendChild'](kj_div));var body=document[_0x56ae28(0x360)];body[_0x56ae28(0x1ca)][_0x56ae28(0x18e)]=_0x56ae28(0x25b),body[_0x56ae28(0x1ca)]['margin']='0';var canvas=document[_0x56ae28(0x16c)](_0x56ae28(0x32d));canvas[_0x56ae28(0x357)]=0x266*RATE,canvas[_0x56ae28(0x1de)]=0x28a*RATE;small_header_flg&&(canvas[_0x56ae28(0x1de)]=0x262*RATE);FREE&&(canvas['width']=0x244*RATE,canvas['height']=0x1ea*RATE);canvas['style'][_0x56ae28(0x357)]=String(canvas[_0x56ae28(0x357)]/devicePixelRatio)+'px',canvas[_0x56ae28(0x1ca)][_0x56ae28(0x1de)]=String(canvas['height']/devicePixelRatio)+'px',console[_0x56ae28(0x195)]('myCanvas.style.width='+canvas[_0x56ae28(0x1ca)][_0x56ae28(0x357)]),canvas[_0x56ae28(0x1ca)][_0x56ae28(0x2fe)]=_0x56ae28(0x231),kj_div[_0x56ae28(0x329)](canvas);let canvas_rect=canvas['getBoundingClientRect'](),canvas_top=canvas_rect[_0x56ae28(0x2e4)],canvas_x=canvas_rect[_0x56ae28(0x17d)];console[_0x56ae28(0x195)](_0x56ae28(0x2cd)+canvas_top),console[_0x56ae28(0x195)]('#\x20canvas_x='+canvas_x+_0x56ae28(0x1c9)+canvas['offsetLeft']);var top_label1=null,top_label2,top_label3,BUTTON_WIDTH=0x28;if(FREE)BUTTON_WIDTH=0x24;function set_buttons(_0xc494e){const _0x597e2b=_0x56ae28;_0xc494e[_0x597e2b(0x1f7)]='button',_0xc494e[_0x597e2b(0x1ca)][_0x597e2b(0x181)]=_0x597e2b(0x2a1);let _0x2c47c6=String(canvas_top+TOP_INFO_H+0x4)+'px';_0xc494e[_0x597e2b(0x1ca)][_0x597e2b(0x2e4)]=_0x2c47c6,_0xc494e['style'][_0x597e2b(0x1de)]='20px';_0xc494e!=button_flip&&_0xc494e!=button_env&&(_0xc494e[_0x597e2b(0x1ca)][_0x597e2b(0x357)]=String(BUTTON_WIDTH)+'px');_0xc494e[_0x597e2b(0x1ca)][_0x597e2b(0x337)]='1px',_0xc494e['style'][_0x597e2b(0x152)]=_0x597e2b(0x1a4);if(!FREE&&(_0xc494e==button_backB||_0xc494e==button_nextB))return;document[_0x597e2b(0x360)][_0x597e2b(0x329)](_0xc494e);}const button_top=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_top[_0x56ae28(0x1ac)]('id',_0x56ae28(0x28c)),button_top[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonTopClick);function _0x14fb(){const _0xc72844=['Nyugyoku\x20Win','time','true','button_top','split','lineWidth','残り時間','clearRect','onloadend','##\x20cbd.teai=','caldir','fillStyle','init_teai','\x20move_no=','**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a\x20f=','☖未定','###\x20comment_div.style.cssText=','comment_textarea','###\x20Window.focus\x20###','347802zxKLUE','store','1px\x20solid\x20#888','teban','#\x20OnUpdateChange\x20\x20val\x20=\x20','absolute','Illegal\x20Lose','***\x20盤面読み込みエラー\x20','ルールエラー\x20','offsetHeight','mouseup','select','反則勝ち','発表誌：','#\x20body.scrollTop=','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ+sMlJq50A3JZ3PlX2AKD1YcCjktcpqmsZZikMs2Zt3zJF6zbc7HB48Vq4ok7oYypHPVS0oZxKiBvsZsvtUiIAOw==','status','切れ負け','\x20ポイント','setTransform','indexOf','genmovq\x20f=','\x20k=','motigoma_pn','###\x20iOS','get_comment','pageX','Back.gif','入玉宣言勝ち','checkbox','file:','kifu_root','slice','gote_name','button_stop','15px\x20\x27Calibri\x27','scrollTop','***\x20move_data\x20error\x20k=0\x20f=','</a></FONT></U>','**\x20store\x20current_p=null\x0a','###\x20html_kj_div\x20!=\x20null','beginPath','toryo_sound_flg=','後手反則負け','jump_back','can_susumeru','iPod','投了効果音','＊開始局面\x20消費時間（１手/累積）','#\x20canvas\x20top=','<A\x20href=\x22http://kakinoki.o.oo7.jp/js/kifujs.html\x22\x20target=\x22_blank\x22>Kifu\x20for\x20JavaScript\x20Free</A>','#\x20OnComSizeChange\x20\x20val\x20=\x20','\x20COM_WIDTH','div','overflowWrap','その他','入玉勝ち','onUp','20px','###\x20button_env.onclick\x20設定','Start\x20','<a\x20href=\x22h','**\x20store\x20move.k\x20===\x20\x27undefined\x27\x0a','\x20/\x20','\u3000\u3000変化なし','strokeStyle','#\x20documentElement.scrollTop=','iPad','textAlign','string','##\x20clientHeight=','上手：','top','button_backr','3266400MzMIhb','responseText','20px\x20\x27Calibri\x27','onerror\x20','margin','連続で進める','##\x20set_button_positions\x20canvas_top=','statusText','getElementById','sente_name','#\x20url=','自動更新：60秒毎','###\x20touchUp\x20','kifu_array[1]:f=','*\x20top_label3\x20===\x20\x27undefined\x27','cookie','text/plain;\x20charset=Shift_JIS','後手持駒：','11px','get_main_all_time','180716QuFSyo','Final','rgb(0,\x200,\x20255)','lineTo','backgroundColor','clear_sq\x20onload\x20s=','自動更新しない','get_kifup','rgb(255,\x20255,\x20153)','十枚落ち','button_flip','rgb(255,\x20255,\x20200)','set_modify_sub','set_modify','current_p_susumeru','option','help.html','Spend','hour\x20','***\x20set_kifu_list\x20i=','href','四枚落ち','overrideMimeType','createTextNode','syutten','className','#\x20---\x20set_kifu_list\x20size=','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQosMlJq704692A/5wEPOQDHOFYnmlpopxKsrFLb98Hc0fvh8CgcLiJAAA7','click','エラー\x20002：ディレクトリィ\x20KJ_DIR\x20の指定がありません。','開始\x20','addEventListener','###\x20TopInfo\x20canvas_top=','clr_bd_data','上手番','target','get_next_move','手番：後手','118px','motigoma','***\x20back_move\x20error\x20kp=null\x20move_no=','firstChild','##\x20kifu_select\x20offsetHeight=','手の勝ち','pageY','##\x20onloadend\x20readyState=','genmovq','appendChild','24px','charAt','***\x20get_kifup\x20error\x20n=','canvas','\u3000\u3000☖','get_koma_2posi','#\x20komaotoOnChange2\x20\x20\x20','***current_p_susumeru\x20branch=null','set_modify_kp','300px','BackMove','作品名：','作者：','padding','?te=','KJ_DIV','***\x20caldir\x20error\x20t=','\x20move_no2=','\x27**\x20','disabled','***\x20駒がない\x20f=','at\x20','End\x20','get_kifu_size','protocol','fillRect','***\x20mov_strm_kp\x20error\x20k=','store_move\x20','###\x20START_TESUU=','gen_kiki','###\x20font_size=','香落ち','rgb(85,\x2085,\x2085)','sakusya','DrawPiece\x20s=','display','comment_p','end_date','手まで','scroll','textContent','readystatechange','2px','NextR.gif','#\x20csa_load\x20call_tesuu=','width','NextB.gif','http','complete','***\x20打って成る','---\x20ReplayTop','駒の名前が違います。','arc','fontSize','body','Next.gif','駒の名前と移動元が一致しません。\x0a','2px\x20solid\x20#0000ff','\x20scroll_top=','%ILLEGAL_MOVE','sakuhinmei','offsetLeft','###\x20html_kj_div\x20==\x20null','boxShadow','store_kifu','start','二枚落ち','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQwsMlJq70VAIz1AwdHec8XimRpcqm6Wq37WkdcgmINyLjY6Kqe7+cRDonG4++kbB4jADs=','%+ILLEGAL_ACTION','get_motijikan','22px','飛香落ち','発表：','uniq','text-align:\x20left\x20!important;','#\x20canX=','#\x20piece_img.onload','12px','---\x20set_bunki_combo','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ4sMlJq72g5ksBOJMHcg3wfJKJcuYJtqvVunPcPfg5u2z+1SMMDgULClcqIyYmIoWMNpJS6axaLREAOw==','手時間切れ負け','back_move','onload','Kifu\x20','move_no','event','rgb(30,\x2030,\x2030)','input','get_total_time_kp','GET','onkeydown','298YeMhgX','###\x20sente_shohi=','onclick','userSelect','interactive','false','clientX','Top.gif','seiseki','_blank','下手持駒：','mov_strm_kp','150px','BackMove\x20移動元の駒を描く\x20','label','***current_p_susumeru\x20next=null','rgb(0,\x200,\x200)','is_syuukyoku','###\x20touchDown\x20','kifu_array[0]:f=','棋譜保存','***\x20空白なし\x20url=\x27','%KACHI','##\x20cookies','Blob','###\x20total=','持ち時間：','最終局面へ','happyoushi','createElement','modify','右香落ち','copy_from_board','modal-content','host','BackB.gif','back','##\x20---\x20adjust_kifu_position','black','substring','font','##\x20update_timer\x20','search','**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a','img','draw_board\x20onload','left','残り時間：','反則負け','11px\x20\x27Calibri\x27','position','isFirefox=','後手：','button_nextr','getContext','***\x20自分の駒を取る\x20kt=','5BsDwUt','Draw','focus','hasChildNodes','documentElement','手番：下手','free_help.html','minWidth','\x20\x20９','1664OCDcmE','userAgent=','#\x20Not\x20Modified','piece','checked','log','current_bunki','369228zzWSiX','button_env','motijikan','getBoundingClientRect','***\x20ban3.jpg\x20load\x20error','.kifu','出典：','rgb(255,\x20255,\x20255)','15px\x20\x27ＭＳ\x20Ｐゴシック\x27','\x20f=','text','is_bunki_n','open','none','is_henka_kp','comment_str_size=','modal','左五枚落ち','onClick\x20x:','motigoma_pn_use','三枚落ち','setAttribute','drawImage','8838gyXouQ','0px','###\x20top_label3.style.width=','開始局面\x20消費時間（１手/累積）','width=643,height=842','trim','shohi_jikan','flip_teban','%JISHOGI','The\x20File\x20APIs\x20are\x20not\x20fully\x20supported\x20in\x20this\x20browser.','add','muji_flg=','kifu_array','\x22\x20target=\x22_blank\x22','#\x20komaotoOnChange\x20\x20\x20','手数---','後手の持駒：','＊開始局面','src','abnormal_flg','left_img\x20onload','lastIndexOf','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ+sMlJq50A3JY3eF2VHdf3gBoGkJZ5otJYvnQmt3R+i/lpr7Pa6rCjuEYHUhGDSrI4wNbwGYtakhvsZsvtUiIAOw==','readyState','Firefox','function','*\x20env_div\x20===\x20\x27undefined\x27','\x20\x20canvas.offsetLeft=','style','RATE=','上手の持駒：','border','##\x20------\x20load_kifu_sub\x20call_tesuu=','#\x20StopAutoUpdate\x20','#\x20====\x20TopInfo\x20======','fillText','block','board','userAgent','下手：','erak','\x20pt=','***current_p_susumeru\x20current=null','発表年月：','move_data_to_moti','エラー\x20001：棋譜ファイル名\x20KIF_FILE_NAME\x20の指定がありません。','onreadystatechange','rgb(204,\x20158,\x20111)','height','248332lGpdMc','%TIME_UP','12px\x20\x27Calibri\x27','komadaikage.jpg?','https:','promote','Copyright\x20(C)\x202020,\x20Yoshikazu\x20Kakinoki','次の分岐へ','rgb(242,\x20192,\x20119)','rgb(224,\x20178,\x20131)','手番：上手','targetTouches','clear_kifu','innerHTML','開始局面へ','bunki_flg','<br>','***\x20back','current_p','##\x20ks_h=','length','setk','play','substr','type','strokeRect','touchstart','Mate','角落ち','11pt','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ6sMlJq70XAIz1A4e1Vd7zhSTalOYphmzrTlot32B1gDtwm7mUpIdT0YxEoHGybBCDHJ2mGR1Sq1hsBAA7','開始局面','http:','先手番','test','###\x20button_env.onclick','#\x20mokumeoOnChange\x20\x20\x20','13px\x20\x27Calibri\x27','\x20file_url=','options','１手進める','stroke','debug_show','10px\x20\x27Calibri\x27','飛車落ち','六枚落ち','comment','komaoto=','change','error','comment_str_size','comment_hight=','終了\x20','八枚落ち','clear_sq\x20***\x20ban_img\x20==\x20null\x20s=','iPadからのアクセス','***\x20先後未定\x20error','undefined','消費時間','Repetition','残り時間：終局まで','閉じる','title','開始日時：','%CHUDAN','error\x20tos=','toLowerCase','value','V1.05','#\x20te=','#\x20Jump_henka\x20n=','\x20canY=','FromToK','持将棋','button','棋戦：','.csa','千日手','15px','info','**\x20f=','branch','#EEF5DD','move_data_from_moti','offsetTop','date','store_move_set\x20f=','teai','***\x20ExecMove\x20','rgb(','#\x20OnButtonSaveClick\x20\x20\x20','変化：','rgb(255,\x200,\x200)','moveTo','Help\x20file_url=','持駒：',';\x20samesite=Strict;','clear_sq\x20s=','Y\x20盤内','removeChild','move_data','clear_info','#\x20分岐','get_new_kp','***\x20piece_4g.png\x20load\x20error','hirate','FileList','#fefefe','ReplayStop','size','File','***\x20ERROR\x20201:\x20消費時間の手数:','readOnly','下手の持駒：','center','text/plain;\x20charset=UTF-8','場所：','clientHeight','selectedIndex','***\x20exec_move\x20error\x20f=','***\x20ERROR\x20202:\x20消費時間:','exec_move','onerror','\x20t=','500px','is_chess_clock','140%','rgba(0,\x200,\x200,\x201)','#\x20toryo_sound_flg=','##\x20onClick\x20scroll_top2=','replace','###\x20window\x20\x20resize','#\x20kifu_line','$START_TIME:','kifu_list','sengo_mitei_flg','#\x20sort_board\x20teban=','%SENNICHITE','resize','mov_strm_sub','error\x20moves=','127.0.0.1','\u3000\u3000☗','===\x20終局\x20===','ontouchend','手番：先手','square','add_comment','getTime','get_last_move','先後未定：','===\x20load_kifu\x20===','***\x20駒の名前が違います。\x20','next','五枚落ち','###\x20get_shohi\x20shohi_jikan=','happyou_nengetu','kisen','1158SgDQfe','上手持駒：','cssText','%TORYO','find_oya','site','#\x20game_end_sound\x20','***\x20駒に打つ','KIF\x20onload','\x20kf=','先手持ち駒','後手番'];_0x14fb=function(){return _0xc72844;};return _0x14fb();}var top_img=document[_0x56ae28(0x16c)](_0x56ae28(0x17b));const WEBPACK=!![];if(WEBPACK){const top_gif=_0x56ae28(0x2ab);top_img[_0x56ae28(0x1c0)]=top_gif;}else top_img[_0x56ae28(0x1c0)]=KJ_DIR+_0x56ae28(0x156);button_top['appendChild'](top_img),button_top[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0xa)+'px',button_top['title']=_0x56ae28(0x1ed);var button_backr=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_backr[_0x56ae28(0x1ac)]('id',_0x56ae28(0x2e5)),button_backr[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonBackRClick);var backr_img=document[_0x56ae28(0x16c)]('img');WEBPACK?backr_img[_0x56ae28(0x1c0)]=_0x56ae28(0x143):backr_img[_0x56ae28(0x1c0)]=KJ_DIR+'BackR.gif';button_backr[_0x56ae28(0x329)](backr_img),button_backr[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0x3c)+'px',button_backr['title']='連続で戻す';const button_back=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_back['setAttribute']('id','button_back'),button_back['addEventListener'](_0x56ae28(0x316),OnButtonBackClick);var back_img=document[_0x56ae28(0x16c)](_0x56ae28(0x17b));WEBPACK?back_img[_0x56ae28(0x1c0)]=_0x56ae28(0x36d):back_img['src']=KJ_DIR+_0x56ae28(0x2b7);button_back[_0x56ae28(0x329)](back_img),button_back[_0x56ae28(0x1ca)]['left']=String(canvas_x+0x6e)+'px',button_back[_0x56ae28(0x21d)]='１手戻す';const button_stop=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_stop[_0x56ae28(0x1ac)]('id',_0x56ae28(0x2be)),button_stop[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonStopClick);const stop_img=document[_0x56ae28(0x16c)]('img');WEBPACK?stop_img[_0x56ae28(0x1c0)]=_0x56ae28(0x315):stop_img['src']=KJ_DIR+'Stop.gif';button_stop['appendChild'](stop_img),button_stop[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0xa0)+'px',button_stop[_0x56ae28(0x21d)]='停止';const button_next=document['createElement'](_0x56ae28(0x229));button_next[_0x56ae28(0x1ac)]('id','button_next'),button_next[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonNextClick);const next_img=document[_0x56ae28(0x16c)]('img');WEBPACK?next_img['src']='data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQysMlJq50A3I1f5hfwjB/YjaRmiihabmzrqlbcZkceyrgOz7nDygMImiQ94XHiWzqfnAgAOw==':next_img[_0x56ae28(0x1c0)]=KJ_DIR+_0x56ae28(0x361);button_next[_0x56ae28(0x329)](next_img),button_next[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0xd2)+'px',button_next[_0x56ae28(0x21d)]=_0x56ae28(0x207);const button_nextr=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_nextr[_0x56ae28(0x1ac)]('id',_0x56ae28(0x184)),button_nextr[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonNextRClick);const nextr_img=document[_0x56ae28(0x16c)](_0x56ae28(0x17b));WEBPACK?nextr_img['src']='data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ6sMlJq52g5qu3BB7XAI9HhhdZfs8qqiuMUnBZz2wLHPJxpDqfavcDEkcl3+s4YnKcTlFxMhVZr9hJBAA7':nextr_img[_0x56ae28(0x1c0)]=KJ_DIR+_0x56ae28(0x355);button_nextr[_0x56ae28(0x329)](nextr_img),button_nextr[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0x104)+'px',button_nextr[_0x56ae28(0x21d)]=_0x56ae28(0x2eb);const button_last=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_last[_0x56ae28(0x1ac)]('id','button_last'),button_last[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonLastClick);const last_img=document[_0x56ae28(0x16c)](_0x56ae28(0x17b));WEBPACK?last_img[_0x56ae28(0x1c0)]=_0x56ae28(0x1c4):last_img[_0x56ae28(0x1c0)]=KJ_DIR+'Last.gif';button_last[_0x56ae28(0x329)](last_img),button_last['style'][_0x56ae28(0x17d)]=String(canvas_x+0x136)+'px',button_last['title']=_0x56ae28(0x16a);const button_backB=document[_0x56ae28(0x16c)](_0x56ae28(0x229));if(FREE){button_backB[_0x56ae28(0x319)](_0x56ae28(0x316),ReplayBackBranch);const backb_img=document[_0x56ae28(0x16c)](_0x56ae28(0x17b));WEBPACK?backb_img[_0x56ae28(0x1c0)]=_0x56ae28(0x1fd):backb_img['src']=KJ_DIR+_0x56ae28(0x172),button_backB[_0x56ae28(0x329)](backb_img),button_backB[_0x56ae28(0x21d)]='前の分岐へ';}const button_nextB=document['createElement'](_0x56ae28(0x229));if(FREE){button_nextB['addEventListener'](_0x56ae28(0x316),ReplayNextBranch);const nextb_img=document['createElement'](_0x56ae28(0x17b));WEBPACK?nextb_img[_0x56ae28(0x1c0)]='data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ4sMlJq5UA3D3By9zlPZ9WmSepgt1hjSrJAm4ax1lu39lx0C8erQbc9Xyt4LE2QZ6GzFAzKq1arxEAOw==':nextb_img[_0x56ae28(0x1c0)]=KJ_DIR+_0x56ae28(0x358),button_nextB[_0x56ae28(0x329)](nextb_img),button_nextB[_0x56ae28(0x21d)]=_0x56ae28(0x1e6);}const button_flip=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_flip['setAttribute']('id',_0x56ae28(0x304)),button_flip['addEventListener'](_0x56ae28(0x316),Flip),button_flip[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0x186)+'px',button_flip[_0x56ae28(0x352)]='反転',button_flip['style'][_0x56ae28(0x35f)]=_0x56ae28(0x2f8);FREE?button_flip[_0x56ae28(0x1ca)][_0x56ae28(0x357)]=String(0x2a)+'px':button_flip['style']['width']=String(BUTTON_WIDTH+0x6)+'px';function Flip(){bdinv_flg=0x1-bdinv_flg,draw_board();}const button_help=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_help['setAttribute']('id','button_help'),button_help[_0x56ae28(0x319)](_0x56ae28(0x316),Help),button_help[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0x1bd)+'px',button_help['textContent']='Help',button_help[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=_0x56ae28(0x2f8),button_help[_0x56ae28(0x1ca)][_0x56ae28(0x357)]=String(BUTTON_WIDTH)+'px';function Help(){const _0x5c0ca3=_0x56ae28;let _0x268dfe=KJ_DIR+_0x5c0ca3(0x30a);FREE&&(_0x268dfe=KJ_DIR+_0x5c0ca3(0x18d)),console[_0x5c0ca3(0x195)](_0x5c0ca3(0x23d)+_0x268dfe),window[_0x5c0ca3(0x1a3)](_0x268dfe,'_blank',_0x5c0ca3(0x1b2));}const button_env=document[_0x56ae28(0x16c)]('button');button_env[_0x56ae28(0x1ac)]('id',_0x56ae28(0x198)),button_env[_0x56ae28(0x352)]='設定',button_env[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=_0x56ae28(0x2f8),button_env[_0x56ae28(0x1ca)][_0x56ae28(0x357)]='46px',set_buttons(button_top),set_buttons(button_backr),set_buttons(button_back),set_buttons(button_stop),set_buttons(button_next),set_buttons(button_nextr),set_buttons(button_last);FREE&&(set_buttons(button_backB),set_buttons(button_nextB));set_buttons(button_flip),set_buttons(button_help),set_buttons(button_env);function set_button_positions(_0x44bcc2){const _0x3e391a=_0x56ae28;if(_0x44bcc2){if(isIPad){console[_0x3e391a(0x22e)](_0x3e391a(0x216));return;}if(isIOS){console['info'](_0x3e391a(0x2b4));return;}}let _0x142588=canvas[_0x3e391a(0x19a)](),_0x1a5551=_0x142588[_0x3e391a(0x17d)],_0x119c78=_0x142588[_0x3e391a(0x2e4)],_0x109069=document['body'][_0x3e391a(0x2c0)],_0x57198e=document[_0x3e391a(0x18b)][_0x3e391a(0x2c0)];if(_0x57198e>_0x109069)_0x119c78+=_0x57198e;else _0x119c78+=_0x109069;console['log'](_0x3e391a(0x2ec)+_0x119c78);const _0x15176b=0x5;let _0x266658=0xa;FREE&&(_0x266658=0x8);button_top[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b)+'px',button_backr[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+BUTTON_WIDTH+_0x266658)+'px',button_back[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x2)+'px',button_stop['style'][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x3)+'px',button_next[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x4)+'px',button_nextr[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x5)+'px',button_last[_0x3e391a(0x1ca)]['left']=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x6)+'px';FREE?(button_backB[_0x3e391a(0x1ca)]['left']=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x7)+'px',button_nextB[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x8)+'px',button_flip[_0x3e391a(0x1ca)]['left']=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0x9)+'px',button_help[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+(BUTTON_WIDTH+_0x266658)*0xa+0x2)+'px'):(button_flip[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+0x17c)+'px',button_help[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+_0x15176b+0x1b3)+'px');let _0xfcd7c6=String(_0x119c78+TOP_INFO_H+0x4)+'px';button_top['style'][_0x3e391a(0x2e4)]=_0xfcd7c6,button_backr[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=_0xfcd7c6,button_back[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=_0xfcd7c6,button_stop[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=_0xfcd7c6,button_next[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=_0xfcd7c6,button_nextr[_0x3e391a(0x1ca)]['top']=_0xfcd7c6,button_last[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=_0xfcd7c6;FREE&&(button_backB['style'][_0x3e391a(0x2e4)]=_0xfcd7c6,button_nextB['style']['top']=_0xfcd7c6);button_flip[_0x3e391a(0x1ca)]['top']=_0xfcd7c6,button_help[_0x3e391a(0x1ca)]['top']=_0xfcd7c6,button_env[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=_0xfcd7c6,button_env['style'][_0x3e391a(0x1de)]='22px';let _0x2f543f=String(_0x119c78+COMMENT_TOP)+'px';comment_textarea[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=_0x2f543f;HTML_COMMENT&&(comment_div[_0x3e391a(0x1ca)]['top']=_0x2f543f);COMM_LEFT=_0x1a5551+0xaf;if(FREE){COMM_LEFT=_0x1a5551+0x2;const _0x16e106=0x2,_0x124759=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x16e106;let _0x31caf3=_0x1a5551+_0x124759+MOTI_SIZE_X+0x1-_0x16e106;comment_textarea[_0x3e391a(0x1ca)][_0x3e391a(0x357)]=String(_0x31caf3-COMM_LEFT)+'px',HTML_COMMENT&&(comment_div['style'][_0x3e391a(0x357)]=String(_0x31caf3-COMM_LEFT)+'px');}comment_textarea[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(COMM_LEFT)+'px';HTML_COMMENT&&(comment_div[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(COMM_LEFT)+'px');if(FREE){let _0x7cbfa4=KOMADAI_RIGHT_X+MOTI_SIZE_X;button_env[_0x3e391a(0x1ca)]['left']=String(_0x1a5551+_0x7cbfa4-0x2c)+'px';}else{let _0x5e438e=COMM_LEFT+COM_WIDTH;button_env[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x5e438e-0x2c)+'px';}let _0x506b36=_0x1a5551+0x2;kifu_select[_0x3e391a(0x1ca)]['left']=String(_0x506b36)+'px';FREE?kifu_select[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=String(_0x119c78+0xb9)+'px':kifu_select['style'][_0x3e391a(0x2e4)]=String(_0x119c78+TOP_INFO_H+0x174)+'px';FREE&&(branch_select[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x506b36)+'px');button_save[_0x3e391a(0x1ca)]['left']=String(_0x506b36)+'px';FREE?adjust_kifu_position():typeof UPDATE_TIME!==_0x3e391a(0x218)?button_save[_0x3e391a(0x1ca)]['top']=String(_0x119c78+TOP_INFO_H+0x20c)+'px':button_save[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=String(_0x119c78+TOP_INFO_H+0x20c+0x18)+'px';update_select['style'][_0x3e391a(0x17d)]=String(_0x506b36)+'px';if(FREE)update_select[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=String(_0x119c78+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=String(_0x119c78+TOP_INFO_H+0x228)+'px';if(!FREE){let _0x2fbf24=0x2,_0x213039=_0x1a5551+0x4;!small_header_flg&&(typeof top_label1!=='undefined'&&top_label1!=null&&(top_label1[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x213039)+'px',top_label1['style'][_0x3e391a(0x2e4)]=String(_0x119c78+_0x2fbf24)+'px'),typeof top_label2!==_0x3e391a(0x218)&&top_label2!=null&&(top_label2[_0x3e391a(0x1ca)]['left']=String(_0x213039)+'px',top_label2['style']['top']=String(_0x119c78+_0x2fbf24+0x14)+'px'));let _0x3c7e03;if(small_header_flg)_0x3c7e03=_0x2fbf24+0x10;else _0x3c7e03=_0x2fbf24+0x3c;typeof top_label3!==_0x3e391a(0x218)?(top_label3[_0x3e391a(0x1ca)][_0x3e391a(0x2e4)]=String(_0x119c78+_0x3c7e03-0x10)+'px',top_label3['style'][_0x3e391a(0x17d)]=String(_0x213039)+'px',top_label3['style'][_0x3e391a(0x2e0)]=_0x3e391a(0x251)):console[_0x3e391a(0x195)](_0x3e391a(0x2f4));}typeof env_div!==_0x3e391a(0x218)&&env_div!=null?(env_div['style'][_0x3e391a(0x2e4)]=String(_0x119c78+0x78)+'px',FREE?env_div[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+0x96)+'px':env_div[_0x3e391a(0x1ca)][_0x3e391a(0x17d)]=String(_0x1a5551+0xaa)+'px'):console['log'](_0x3e391a(0x1c8));}function ___COMMENT________(){}var comment_textarea=document[_0x56ae28(0x16c)]('textarea');comment_textarea[_0x56ae28(0x1ac)]('id',_0x56ae28(0x29a)),comment_textarea[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1);let comment_top_str=String(canvas_top+COMMENT_TOP)+'px';comment_textarea[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=comment_top_str,console[_0x56ae28(0x195)](_0x56ae28(0x212)+comment_hight),comment_textarea[_0x56ae28(0x1ca)]['height']=String(comment_hight)+'px';const COM_WIDTH=0x1b2;comment_textarea[_0x56ae28(0x1ca)][_0x56ae28(0x357)]=String(COM_WIDTH)+'px',console[_0x56ae28(0x195)]('#\x20COM_WIDTH='+COM_WIDTH);var COMM_LEFT=canvas_x+0xaf;if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_textarea[_0x56ae28(0x1ca)][_0x56ae28(0x357)]=String(right-COMM_LEFT)+'px';}else{}console['log']('#\x20COMM_LEFT='+COMM_LEFT),comment_textarea['style'][_0x56ae28(0x17d)]=String(COMM_LEFT)+'px';!HTML_COMMENT&&document[_0x56ae28(0x360)][_0x56ae28(0x329)](comment_textarea);comment_textarea[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=_0x56ae28(0x1fc),comment_textarea['style']['lineHeight']=_0x56ae28(0x25d),comment_textarea[_0x56ae28(0x24f)]=!![],comment_textarea[_0x56ae28(0x1ca)]['resize']=_0x56ae28(0x1a4);var comment_div=document[_0x56ae28(0x16c)]('div');comment_div[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1),comment_div['style'][_0x56ae28(0x2e4)]=String(canvas_top+COMMENT_TOP+0x0)+'px',comment_div[_0x56ae28(0x1ca)][_0x56ae28(0x1de)]=String(comment_hight)+'px';if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_div['style'][_0x56ae28(0x357)]=String(right-COMM_LEFT)+'px';}else comment_div[_0x56ae28(0x1ca)][_0x56ae28(0x357)]=String(COM_WIDTH)+'px';comment_div['style'][_0x56ae28(0x17d)]=String(COMM_LEFT)+'px',comment_div[_0x56ae28(0x1ca)][_0x56ae28(0x2fe)]=_0x56ae28(0x24a),comment_div[_0x56ae28(0x1ca)][_0x56ae28(0x1cd)]=_0x56ae28(0x29e),comment_div[_0x56ae28(0x1ca)]['overflowY']=_0x56ae28(0x351),comment_div[_0x56ae28(0x1ca)][_0x56ae28(0x2d2)]='anywhere';let cssText=comment_div[_0x56ae28(0x1ca)][_0x56ae28(0x27f)];comment_div[_0x56ae28(0x1ca)]['cssText']=cssText+_0x56ae28(0x374),console['log'](_0x56ae28(0x299)+comment_div[_0x56ae28(0x1ca)]['cssText']);HTML_COMMENT&&document['body'][_0x56ae28(0x329)](comment_div);var comment_div_p=document['createElement']('p');comment_div_p[_0x56ae28(0x1ac)]('id',_0x56ae28(0x34e)),comment_div_p[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1),comment_div_p[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(0x0)+'px',comment_div_p[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=String(comment_str_size)+'pt',comment_div_p[_0x56ae28(0x1ca)]['lineHeight']=_0x56ae28(0x25d),comment_div_p[_0x56ae28(0x1ca)][_0x56ae28(0x2ea)]=_0x56ae28(0x354);HTML_COMMENT&&comment_div[_0x56ae28(0x329)](comment_div_p);function KIFU_SELECT_____________(){}let kifu_sel_width='170px';if(FREE)kifu_sel_width=_0x56ae28(0x320);var kifu_select=document[_0x56ae28(0x16c)](_0x56ae28(0x2a7));kifu_select[_0x56ae28(0x1ac)]('id',_0x56ae28(0x265)),kifu_select[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1);FREE?kifu_select[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(canvas_top+0xbb)+'px':kifu_select[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(canvas_top+TOP_INFO_H+0x174)+'px';let kifu_select_x=canvas_x+0x2;kifu_select[_0x56ae28(0x1ca)]['left']=String(kifu_select_x)+'px',kifu_select[_0x56ae28(0x1ca)]['width']=kifu_sel_width;typeof UPDATE_TIME!==_0x56ae28(0x218)?kifu_select['size']=0x7:kifu_select['size']=0x8;document[_0x56ae28(0x360)][_0x56ae28(0x329)](kifu_select),kifu_select[_0x56ae28(0x319)](_0x56ae28(0x20f),OnKifuSelectChange);isFirefox?kifu_select[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=_0x56ae28(0x141):kifu_select[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=_0x56ae28(0x141);kifu_select[_0x56ae28(0x1ca)][_0x56ae28(0x337)]=_0x56ae28(0x1af),console[_0x56ae28(0x195)](_0x56ae28(0x324)+kifu_select[_0x56ae28(0x2a5)]);let ks_h=kifu_select['getBoundingClientRect']()[_0x56ae28(0x1de)];console['log'](_0x56ae28(0x1f2)+ks_h);var branch_select=document[_0x56ae28(0x16c)]('select');branch_select[_0x56ae28(0x1ca)][_0x56ae28(0x181)]='absolute';if(FREE){if(typeof UPDATE_TIME!=='undefined')branch_select[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(canvas_top+0xbd+0x82+0x2-0x11)+'px';else branch_select['style'][_0x56ae28(0x2e4)]=String(canvas_top+0xbd+0x96+0x2-0x11)+'px';}else branch_select[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(canvas_top+TOP_INFO_H+0x228)+'px';branch_select[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(kifu_select_x)+'px',branch_select[_0x56ae28(0x1ca)]['width']=kifu_sel_width,branch_select['style'][_0x56ae28(0x35f)]=_0x56ae28(0x141);FREE&&(document[_0x56ae28(0x360)][_0x56ae28(0x329)](branch_select),branch_select['addEventListener'](_0x56ae28(0x20f),OnBranchChange));function KIFU_SAVE________(){}var button_save=document[_0x56ae28(0x16c)](_0x56ae28(0x229));button_save[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonSaveClick),button_save[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1),button_save[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(kifu_select_x)+'px',button_save['style'][_0x56ae28(0x357)]=kifu_sel_width;if(FREE){if(typeof UPDATE_TIME!==_0x56ae28(0x218))button_save[_0x56ae28(0x1ca)]['top']=String(canvas_top+0xbd+0x82+0x2)+'px';else button_save[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(canvas_top+0xbd+0x96+0x2)+'px';}else{if(typeof UPDATE_TIME!==_0x56ae28(0x218))button_save[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(canvas_top+TOP_INFO_H+0x20c)+'px';else{}}button_save[_0x56ae28(0x1ca)]['height']=_0x56ae28(0x32a),button_save[_0x56ae28(0x352)]=_0x56ae28(0x163),document[_0x56ae28(0x360)][_0x56ae28(0x329)](button_save);function _0x57e5(_0x4ded59,_0x2184de){const _0x14fb5e=_0x14fb();return _0x57e5=function(_0x57e5ad,_0x1641f3){_0x57e5ad=_0x57e5ad-0x140;let _0x12bed4=_0x14fb5e[_0x57e5ad];return _0x12bed4;},_0x57e5(_0x4ded59,_0x2184de);}function OnButtonSaveClick(){const _0x4d84b6=_0x56ae28;console['log'](_0x4d84b6(0x239));let _0x17a8d4=get_kif_url();window[_0x4d84b6(0x1a3)](_0x17a8d4,_0x4d84b6(0x158));}var update_select=document[_0x56ae28(0x16c)](_0x56ae28(0x2a7));update_select[_0x56ae28(0x1ac)]('id','update_select'),update_select[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1);if(FREE)update_select[_0x56ae28(0x1ca)]['top']=String(canvas_top+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select['style'][_0x56ae28(0x2e4)]=String(canvas_top+TOP_INFO_H+0x228)+'px';update_select[_0x56ae28(0x1ca)]['left']=String(kifu_select_x)+'px',update_select[_0x56ae28(0x1ca)][_0x56ae28(0x357)]=kifu_sel_width;let op=document[_0x56ae28(0x16c)](_0x56ae28(0x309));op[_0x56ae28(0x222)]=0x0,op[_0x56ae28(0x1a1)]=_0x56ae28(0x300),update_select[_0x56ae28(0x329)](op);let op1=document[_0x56ae28(0x16c)](_0x56ae28(0x309));op1[_0x56ae28(0x222)]=0x1,op1[_0x56ae28(0x1a1)]='自動更新：30秒毎',update_select[_0x56ae28(0x329)](op1);let op2=document[_0x56ae28(0x16c)]('option');op2[_0x56ae28(0x222)]=0x2,op2[_0x56ae28(0x1a1)]=_0x56ae28(0x2f1),update_select[_0x56ae28(0x329)](op2);let op3=document[_0x56ae28(0x16c)](_0x56ae28(0x309));op3[_0x56ae28(0x222)]=0x3,op3[_0x56ae28(0x1a1)]='自動更新：３分毎',update_select[_0x56ae28(0x329)](op3);typeof UPDATE_TIME!==_0x56ae28(0x218)&&(document[_0x56ae28(0x360)][_0x56ae28(0x329)](update_select),update_select['addEventListener'](_0x56ae28(0x20f),OnUpdateChange));function adjust_kifu_position(){const _0x414cfb=_0x56ae28;console[_0x414cfb(0x195)](_0x414cfb(0x174));FREE&&(Kifu[_0x414cfb(0x1ee)]==0x0?(button_backB[_0x414cfb(0x1ca)][_0x414cfb(0x34d)]=_0x414cfb(0x1a4),button_nextB[_0x414cfb(0x1ca)][_0x414cfb(0x34d)]='none',branch_select[_0x414cfb(0x1ca)][_0x414cfb(0x34d)]=_0x414cfb(0x1a4)):(button_backB['style'][_0x414cfb(0x34d)]=_0x414cfb(0x1d2),button_nextB['style']['display']=_0x414cfb(0x1d2),branch_select['style'][_0x414cfb(0x34d)]=_0x414cfb(0x1d2)));FREE?typeof UPDATE_TIME!==_0x414cfb(0x218)?Kifu[_0x414cfb(0x1ee)]==0x1?kifu_select[_0x414cfb(0x24c)]=0x6:kifu_select[_0x414cfb(0x24c)]=0x7:Kifu[_0x414cfb(0x1ee)]==0x1?kifu_select['size']=0x7:kifu_select[_0x414cfb(0x24c)]=0x8:typeof UPDATE_TIME!==_0x414cfb(0x218)?kifu_select[_0x414cfb(0x24c)]=0x7:kifu_select[_0x414cfb(0x24c)]=0x8;console[_0x414cfb(0x195)](_0x414cfb(0x2e2)+kifu_select[_0x414cfb(0x254)]);let _0x24f100=canvas['getBoundingClientRect'](),_0x2b8b8=_0x24f100[_0x414cfb(0x17d)],_0x297da1=_0x24f100['top'],_0x274e53=document['body'][_0x414cfb(0x2c0)],_0x16da08=document[_0x414cfb(0x18b)][_0x414cfb(0x2c0)];console['log']('###\x20set_button_positions\x20scroll_top2='+_0x16da08);if(_0x16da08>_0x274e53)_0x297da1+=_0x16da08;else _0x297da1+=_0x274e53;let _0x3cdfd8=_0x2b8b8+0x2;!isIPad&&!isIOS&&(kifu_select[_0x414cfb(0x1ca)][_0x414cfb(0x17d)]=String(_0x3cdfd8)+'px');if(FREE){if(typeof UPDATE_TIME!=='undefined'){branch_select[_0x414cfb(0x1ca)]['top']=String(_0x297da1+0xbb+0x84+0x2-0x11)+'px';if(Kifu[_0x414cfb(0x1ee)]==0x1){}else{}}else{branch_select[_0x414cfb(0x1ca)][_0x414cfb(0x2e4)]=String(_0x297da1+0xbd+0x96+0x2-0x11)+'px';if(Kifu['bunki_flg']==0x1){}else{}}branch_select[_0x414cfb(0x1ca)][_0x414cfb(0x17d)]=String(_0x3cdfd8)+'px';}else branch_select[_0x414cfb(0x1ca)][_0x414cfb(0x2e4)]=String(_0x297da1+TOP_INFO_H+0x228)+'px';if(FREE)Kifu[_0x414cfb(0x1ee)]==0x1?typeof UPDATE_TIME!=='undefined'?(button_save[_0x414cfb(0x1ca)][_0x414cfb(0x1de)]=_0x414cfb(0x370),button_save['style'][_0x414cfb(0x2e4)]=String(_0x297da1+0xbd+0x82+0x5)+'px'):button_save[_0x414cfb(0x1ca)][_0x414cfb(0x2e4)]=String(_0x297da1+0xbd+0x96+0x5)+'px':typeof UPDATE_TIME!==_0x414cfb(0x218)?button_save[_0x414cfb(0x1ca)][_0x414cfb(0x2e4)]=String(_0x297da1+0xbd+0x82+0x5)+'px':button_save['style'][_0x414cfb(0x2e4)]=String(_0x297da1+0xbd+0x96+0x5)+'px';else{if(typeof UPDATE_TIME!==_0x414cfb(0x218)){}else{}}if(isIPad||isIOS)return;button_save['style'][_0x414cfb(0x17d)]=String(_0x3cdfd8)+'px',update_select['style']['left']=String(_0x3cdfd8)+'px';}set_button_positions(![]);function ___SOUND______(){}var komaoto;function Komaoto(){const _0x4c11ce=_0x56ae28;console[_0x4c11ce(0x195)]('#\x20Komaoto\x20');if(!komaoto_flg)return;if(komaoto==null)komaoto=new Audio(KJ_DIR+'ke-22c.mp3');try{komaoto[_0x4c11ce(0x1f5)]();}catch(_0x5f3ae1){console[_0x4c11ce(0x195)](_0x5f3ae1);}}function game_end_sound(){const _0x12040c=_0x56ae28;console[_0x12040c(0x195)](_0x12040c(0x283));if(!komaoto_flg)return;if(FREE){Komaoto();return;}if(!toryo_sound_flg){Komaoto();return;}new Audio(KJ_DIR+'01S007.mp3')[_0x12040c(0x1f5)]();}function ___TIMER______(){}var go_rep_flg=0x0,replay_stop_flg=0x0;let replay_timer_count=0x0;var replay_timer=function(){if(go_rep_flg==0x1){if(replay_stop_flg||Kifu['can_susumeru']()==0x0){ReplayStop();return;}let _0x3b4e36=Kifu['get_next_move']();ExecMove(Kifu,cbd,0x0,_0x3b4e36);}if(go_rep_flg==-0x1){if(replay_stop_flg||Kifu['move_no']<=0x0){ReplayStop();return;}BackMove(Kifu,cbd,0x0,0x1);}replay_timer_count++;if(replay_timer_count==0x1){if(FREE){}}};setInterval(replay_timer,0x320);let updatew_timer_count=0x0;var update_timer=function(){const _0x436cba=_0x56ae28;console[_0x436cba(0x195)](_0x436cba(0x178)+updatew_timer_count);if(loading){console[_0x436cba(0x195)]('####\x20loading\x20');return;}let _0x5e0608=Kifu[_0x436cba(0x148)];!Kifu[_0x436cba(0x2c9)]()&&(_0x5e0608=-0x2);load_kifu('',Kifu,0x1,_0x5e0608),updatew_timer_count++;if(!FREE){if(typeof IMAGE_UPDATE!==_0x436cba(0x218)&&IMAGE_UPDATE){LoadImages(Kifu);return;}updatew_timer_count>=0x14&&(LoadImages(Kifu),updatew_timer_count=0x0);}},update_timer_id;if(typeof UPDATE_TIME!==_0x56ae28(0x218)){update_select[_0x56ae28(0x255)]=UPDATE_TIME;if(UPDATE_TIME==0x0)clearInterval(update_timer_id);else{if(UPDATE_TIME==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(UPDATE_TIME==0x2)update_timer_id=setInterval(update_timer,0xea60);else UPDATE_TIME==0x3?update_timer_id=setInterval(update_timer,0xea60*0x3):console[_0x56ae28(0x210)]('**\x20UPDATE_TIME\x20設定エラー:'+UPDATE_TIME);}}}document[_0x56ae28(0x319)](_0x56ae28(0x353),_0x1b197e=>{const _0x3d7e52=_0x56ae28;if(_0x1b197e[_0x3d7e52(0x31d)]['readyState']===_0x3d7e52(0x153)){}_0x1b197e[_0x3d7e52(0x31d)]['readyState']===_0x3d7e52(0x35a)&&console[_0x3d7e52(0x195)]('###\x20document\x20complete');}),window[_0x56ae28(0x319)](_0x56ae28(0x269),function(){const _0x343387=_0x56ae28;console['log'](_0x343387(0x262)),set_button_positions(!![]);},![]);function onDown(_0x5059de){}function onUp(_0x18b2e6){const _0x1fc1ce=_0x56ae28;console[_0x1fc1ce(0x195)](_0x1fc1ce(0x2d5));}function onClick(_0x11d884){const _0x35dfa9=_0x56ae28;let _0x591967=document['body'][_0x35dfa9(0x2c0)],_0x1ae690=document[_0x35dfa9(0x18b)][_0x35dfa9(0x2c0)];console[_0x35dfa9(0x195)](_0x35dfa9(0x260)+_0x1ae690+_0x35dfa9(0x364)+_0x591967);_0x1ae690>_0x591967&&(_0x591967=_0x1ae690);let _0x4375fe=_0x11d884[_0x35dfa9(0x155)]-canvas['offsetLeft'],_0xa81fd2=_0x11d884['clientY']-canvas[_0x35dfa9(0x233)]+_0x591967;console[_0x35dfa9(0x195)](_0x35dfa9(0x1a9),_0x4375fe,'y:',_0xa81fd2),_0xa81fd2>=BD_ORG_Y-EDGE_Y&&_0xa81fd2<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console[_0x35dfa9(0x195)](_0x35dfa9(0x241)),_0x4375fe>=BD_ORG_X-EDGE_X&&_0x4375fe<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x4375fe>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x4375fe<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function touchUp(_0x3f86aa){const _0x3d4280=_0x56ae28;console[_0x3d4280(0x195)](_0x3d4280(0x2f2));let _0xc9faa0=_0x3f86aa[_0x3d4280(0x1ea)][0x0]['pageX']-canvas[_0x3d4280(0x367)],_0x2bdce8=_0x3f86aa['targetTouches'][0x0][_0x3d4280(0x326)]-canvas[_0x3d4280(0x233)];console[_0x3d4280(0x195)](_0x3d4280(0x375),_0xc9faa0,_0x3d4280(0x226),_0x2bdce8);}function touchDown(_0x36504a){const _0x451802=_0x56ae28;console[_0x451802(0x195)](_0x451802(0x161));let _0x260837=_0x36504a[_0x451802(0x1ea)][0x0][_0x451802(0x2b6)]-canvas[_0x451802(0x367)],_0x285c1d=_0x36504a[_0x451802(0x1ea)][0x0][_0x451802(0x326)]-canvas[_0x451802(0x233)];_0x285c1d>=BD_ORG_Y-EDGE_Y&&_0x285c1d<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console['log']('Y\x20盤内'),_0x260837>=BD_ORG_X-EDGE_X&&_0x260837<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x260837>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x260837<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function kifu_select_add_option(_0x462e37,_0x130d0f,_0x482d44){const _0x108a16=_0x56ae28;var _0x50c82f=document['createElement'](_0x108a16(0x309));_0x50c82f[_0x108a16(0x1a1)]=_0x462e37,_0x50c82f[_0x108a16(0x222)]=_0x130d0f,_0x50c82f[_0x108a16(0x21d)]=_0x462e37,FREE?_0x50c82f[_0x108a16(0x1ca)][_0x108a16(0x337)]=_0x108a16(0x1af):_0x50c82f[_0x108a16(0x1ca)]['padding']='1px',kifu_select['add'](_0x50c82f);}function set_kifu_list(){const _0x1d1884=_0x56ae28;let _0x455c88=Kifu[_0x1d1884(0x2f9)](),_0x19d200=kifu_select[_0x1d1884(0x206)];for(let _0x4629ab=_0x19d200[_0x1d1884(0x1f3)]-0x1;_0x4629ab>=0x0;_0x4629ab--){kifu_select[_0x1d1884(0x242)](_0x19d200[_0x4629ab]);}let _0x39e5ab=Kifu[_0x1d1884(0x341)]();console[_0x1d1884(0x195)](_0x1d1884(0x314)+_0x39e5ab);if(Kifu[_0x1d1884(0x2b5)](0x0)==null){if(_0x455c88==0x0)kifu_select_add_option('開始局面','0',_0x1d1884(0x1fe));else kifu_select_add_option(_0x1d1884(0x1b1),'0','開始局面\x20消費時間（１手/累積）');}else{if(_0x455c88==0x0)kifu_select_add_option(_0x1d1884(0x1bf),'0',_0x1d1884(0x1bf));else kifu_select_add_option(_0x1d1884(0x2cc),'0',_0x1d1884(0x2cc));}for(let _0x5f8095=0x1;_0x5f8095<=_0x39e5ab;_0x5f8095++){let _0x228052=Kifu[_0x1d1884(0x301)](_0x5f8095);typeof _0x228052['k']===_0x1d1884(0x218)&&console[_0x1d1884(0x210)](_0x1d1884(0x30d)+_0x5f8095+_0x1d1884(0x2b2)+_0x228052['k']+_0x1d1884(0x1a0)+_0x228052['f']);if(_0x228052==null)break;let _0x587c6c;if(_0x228052[_0x1d1884(0x20d)]==null)_0x587c6c='\u3000';else{if(_0x228052[_0x1d1884(0x20d)][_0x1d1884(0x2b0)]('※')>=0x0)_0x587c6c='＃';else _0x587c6c='＊';}let _0x2828db,_0x187c72=0x0;if(_0x228052['t']>=0xb){let _0x2b50f6=Kifu['mov_strm_kp'](0x0,0x3,_0x228052,0x4);_0x187c72=_0x2b50f6[_0x1d1884(0x1f3)],_0x2828db=_0x587c6c+_0x5f8095+'\x20'+_0x2b50f6;}else{let _0xabf2e6='';if(english_flg==0x0){if(cbd[_0x1d1884(0x236)]==HIRATE){if((_0x5f8095&0x1)==0x0)_0xabf2e6='後';else _0xabf2e6='先';}else{if((_0x5f8095&0x1)==0x0)_0xabf2e6='上';else _0xabf2e6='下';}}let _0x90fa52=Kifu['get_kifup'](_0x5f8095-0x1);console['log']('###\x20last_kp.k='+_0x90fa52['k']);if(_0x228052['t']==CHUDAN)_0x2828db='';else _0x2828db='まで';if(_0x228052['t']==TORYO){if(cbd[_0x1d1884(0x236)]==HIRATE){if((_0x5f8095&0x1)==0x0)_0x2828db+='先';else _0x2828db+='後';}else{if((_0x5f8095&0x1)==0x0)_0x2828db+='上';else _0x2828db+='下';}_0x2828db+=_0x1d1884(0x325);}else{if(_0x228052['t']==SENNITITE){if(english_flg)_0x2828db+=_0x1d1884(0x21a);else _0x2828db+=_0x1d1884(0x22c);}else{if(_0x228052['t']==JISHOGI){if(english_flg)_0x2828db+=_0x1d1884(0x188);else _0x2828db+=_0x1d1884(0x228);}else{if(_0x228052['t']==KIREMAKE){if(english_flg)_0x2828db+='Time\x20up';else _0x2828db+=_0xabf2e6+_0x1d1884(0x144);}else{if(_0x228052['t']==HANSOKU_MAKE){if(english_flg)_0x2828db+=_0xabf2e6+_0x1d1884(0x2a2);else _0x2828db+=_0xabf2e6+'手反則負け';}else{if(_0x228052['t']==HANSOKU_KACHI){if(english_flg)_0x2828db+=_0x1d1884(0x2a2);else{if(cbd[_0x1d1884(0x236)]==HIRATE){if(_0x90fa52['k']&0x80)_0x2828db+='先';else _0x2828db+='後';}else{if(_0x90fa52['k']&0x80)_0x2828db+='下';else _0x2828db+='上';}_0x2828db+='手反則負け';}}else{if(_0x228052['t']==KACHI){if(english_flg)_0x2828db+=_0x1d1884(0x289);else _0x2828db+=_0x1d1884(0x2b8);}else{if(_0x228052['t']==TUMI){if(english_flg)_0x2828db+=_0x1d1884(0x1fa);else _0x2828db+='詰み';}}}}}}}}}if(_0x455c88>0x0){let _0x14b4a7=parseInt(_0x228052[_0x1d1884(0x28a)]/0x3c);if(_0x14b4a7>0x0){if(_0x187c72==0x4)_0x2828db+='\u3000\u3000'+_0x14b4a7;else _0x2828db+='\u3000'+_0x14b4a7;_0x2828db+=_0x1d1884(0x2db);let _0x19efcf=parseInt(Kifu['get_total_time_kp'](_0x228052)/0x3c);_0x2828db+=_0x19efcf;}}kifu_select_add_option(_0x2828db,_0x5f8095,_0x2828db);}select_kifu_list();}function select_kifu_list(){const _0x1abfb4=_0x56ae28;let _0x79f679=kifu_select['clientHeight'],_0x505730=kifu_select[_0x1abfb4(0x24c)],_0x2d12eb=0x12;_0x505730!=0x0&&(_0x2d12eb=_0x79f679/_0x505730);kifu_select[_0x1abfb4(0x255)]=Kifu['move_no'];if(Kifu['can_susumeru']()==0x0)kifu_select[_0x1abfb4(0x2c0)]=Kifu['move_no']*_0x2d12eb;else{if(Kifu[_0x1abfb4(0x148)]<=0x3)kifu_select['scrollTop']=0x0;else kifu_select[_0x1abfb4(0x2c0)]=(Kifu[_0x1abfb4(0x148)]-0x3)*_0x2d12eb;}}function set_bunki_combo(){const _0x14e14a=_0x56ae28;console[_0x14e14a(0x195)](_0x14e14a(0x142));let _0xa58b0f=branch_select['options'];for(let _0x177102=_0xa58b0f[_0x14e14a(0x1f3)]-0x1;_0x177102>=0x0;_0x177102--){branch_select[_0x14e14a(0x242)](_0xa58b0f[_0x177102]);}if(Kifu[_0x14e14a(0x196)]()==0x0){let _0x26acd4=new Option(_0x14e14a(0x2dc),0x0);branch_select[_0x14e14a(0x1b8)](_0x26acd4);return;}let _0x93162d=Kifu[_0x14e14a(0x1f1)]['next'];if(_0x93162d==null)return;let _0x591681='1\x20'+Kifu['mov_strm_kp'](0x0,0x3,_0x93162d,0x5),_0x39e243=new Option(_0x591681,0x0);branch_select[_0x14e14a(0x1b8)](_0x39e243),_0x93162d=_0x93162d['branch'];for(let _0x570a9b=0x1;_0x93162d!=null;_0x570a9b++){_0x591681=_0x570a9b+0x1+'\x20'+Kifu[_0x14e14a(0x15a)](0x0,0x3,_0x93162d,0x5);let _0x348191=new Option(_0x591681,_0x570a9b);branch_select[_0x14e14a(0x1b8)](_0x348191),_0x93162d=_0x93162d[_0x14e14a(0x230)];}}function comment_link(_0xafd729){const _0x5ee6e8=_0x56ae28;let _0x2818c3=_0xafd729[_0x5ee6e8(0x179)](_0x5ee6e8(0x1ff)),_0x297292=_0xafd729[_0x5ee6e8(0x179)](_0x5ee6e8(0x1e3));if(_0x2818c3<0x0)_0x2818c3=_0x297292;else{if(_0x297292>=0x0&&_0x297292<_0x2818c3)_0x2818c3=_0x297292;}if(_0x2818c3>=0x0){let _0x1427f5=_0xafd729['substring'](0x0,_0x2818c3),_0x25f09a=_0xafd729['substr'](_0x2818c3),_0x426511=_0x25f09a['search']('\x20');if(_0x426511>=0x0){let _0x1029ef=_0x25f09a[_0x5ee6e8(0x176)](_0x426511);_0x1029ef=comment_link(_0x1029ef);let _0x4b1b1b=_0x25f09a[_0x5ee6e8(0x176)](0x0,_0x426511),_0x44eb04='<U><FONT\x20color=\x22#0000ff\x22><a\x20href=\x22'+_0x4b1b1b+'\x22\x20target=\x22_blank\x22>'+_0x4b1b1b+_0x5ee6e8(0x2c2);_0xafd729=_0x1427f5+_0x44eb04+_0x1029ef;}else console[_0x5ee6e8(0x210)](_0x5ee6e8(0x164)+url+'\x27');}return _0xafd729;}function AutoLink(_0x44a7bb){const _0x4e6a45=_0x56ae28;let _0x155b87=/((h?)(ttps?:\/\/[a-zA-Z0-9.\-_@:/~?%&;=+#',()*!]+))/g,_0x47139e=function(_0x439f23,_0x105d30,_0x16a619,_0x48d549){const _0xfa8d51=_0x57e5;return _0xfa8d51(0x2d9)+_0x48d549+_0xfa8d51(0x1bb)+'>'+_0x105d30+'</a>';};return _0x44a7bb[_0x4e6a45(0x261)](_0x155b87,_0x47139e);}function make_html_comment(_0x3a1fc7){const _0x3d93ff=_0x56ae28;return _0x3a1fc7=_0x3a1fc7['replace'](/\r?\n/g,_0x3d93ff(0x1ef)),_0x3a1fc7=AutoLink(_0x3a1fc7),_0x3a1fc7;}function disp_comment(){const _0x9a52a4=_0x56ae28;let _0x9f8d92=Kifu[_0x9a52a4(0x301)](Kifu[_0x9a52a4(0x148)]),_0x232946=Kifu[_0x9a52a4(0x2b5)](Kifu[_0x9a52a4(0x148)]),_0x34ec20='';if(_0x232946==null){if(Kifu[_0x9a52a4(0x148)]>0x0&&_0x9f8d92['t']<0xb){let _0x3e4662=Kifu['get_comment'](Kifu['move_no']-0x1);if(_0x3e4662==null)_0x34ec20='';else _0x34ec20=_0x3e4662;}else _0x34ec20='';}else _0x34ec20=_0x232946;_0x34ec20=_0x34ec20['replace'](/▲/g,'☗'),_0x34ec20=_0x34ec20[_0x9a52a4(0x261)](/△/g,'☖'),comment_textarea['value']=_0x34ec20,HTML_COMMENT&&(comment_div[_0x9a52a4(0x2c0)]=0x0,_0x34ec20=make_html_comment(_0x34ec20),comment_div_p['innerHTML']=_0x34ec20);}function ViewUpdate(){const _0xcbf95d=_0x56ae28;draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),select_kifu_list(),FREE&&Info(Kifu),FREE&&Kifu[_0xcbf95d(0x1ee)]&&set_bunki_combo();}function ExecMove(_0x1ffc4f,_0x3dbfe4,_0x2badba,_0x2551c6){const _0x4ff182=_0x56ae28;if(_0x2badba!=MODE_SILENT&&_0x2551c6['t']>0xa){}let _0x30931b=_0x1ffc4f['current_p_susumeru'](_0x2551c6);if(_0x30931b!=0x0)return console[_0x4ff182(0x210)](_0x4ff182(0x237)),_0x30931b;_0x2551c6['k']=_0x3dbfe4['FromToK'](_0x2551c6['f']);if(_0x2551c6['t']<0xb)_0x2551c6['c']=0x0;else _0x2551c6['c']=_0x3dbfe4[_0x4ff182(0x1d3)][_0x2551c6['t']&0x7f];_0x3dbfe4[_0x4ff182(0x258)](_0x2551c6),_0x1ffc4f[_0x4ff182(0x148)]++;_0x2551c6['t']>0xa&&(_0x3dbfe4[_0x4ff182(0x29f)]=0x80-_0x3dbfe4['teban'],_0x2badba<MODE_SILENT&&(draw_board(),select_kifu_list()));if(_0x2badba!=MODE_SILENT)Komaoto();return _0x2badba!=MODE_SILENT&&_0x2551c6['t']>0xa&&(DrawKomadaiTeban(_0x3dbfe4,0x0,_0x1ffc4f),DrawKomadaiTeban(_0x3dbfe4,0x80,_0x1ffc4f),RightImageName(_0x1ffc4f),LeftImageName(_0x1ffc4f),disp_comment()),_0x2badba!=MODE_SILENT&&ShohiGraph(_0x1ffc4f,_0x3dbfe4),0x0;}function BackMove(_0x4463e4,_0x67415d,_0x5b576f,_0x5411e3){const _0x52a316=_0x56ae28;if(_0x4463e4['move_no']<=0x0)return 0x1;let _0xd87f2d=_0x4463e4[_0x52a316(0x301)](_0x4463e4[_0x52a316(0x148)]);if(_0xd87f2d['t']>=0xb)_0x67415d[_0x52a316(0x29f)]=0x80-_0x67415d['teban'];let _0x543220=_0xd87f2d['f'],_0xfef442=_0xd87f2d['t'],_0x48cc08=_0xd87f2d['c'];_0x67415d[_0x52a316(0x334)](_0xd87f2d);_0x5b576f!=MODE_SILENT&&_0x543220<=0x63&&_0x543220>=0xb&&(clear_sq(_0x543220),DrawPiece(_0x543220,_0x67415d[_0x52a316(0x227)](_0x543220)));_0x4463e4[_0x52a316(0x173)]();if(_0x5b576f!=MODE_SILENT&&_0xfef442>=0xb){if(_0x4463e4[_0x52a316(0x148)]>0x0){var _0x197b76=_0x4463e4[_0x52a316(0x274)]();DrawLastPiece(_0x67415d,_0x197b76['t']&0x7f),DrawPiece(_0x197b76['t']&0x7f,_0x67415d[_0x52a316(0x227)](_0x197b76['t']&0x7f)),DrawLastPieceFrom();}_0xfef442&=0x7f,clear_sq(_0xfef442);_0x48cc08!=0x0&&(DrawKomadai(_0x67415d[_0x52a316(0x29f)]),DrawPiece(_0xfef442,_0xd87f2d['c']));if(_0x543220<=0x63)console[_0x52a316(0x195)](_0x52a316(0x15c)+_0x543220),DrawPiece(_0x543220,_0xd87f2d['k']);else DrawKomadai(_0x67415d[_0x52a316(0x29f)]);DrawKomadaiTeban(_0x67415d,0x0,_0x4463e4),DrawKomadaiTeban(_0x67415d,0x80,_0x4463e4),RightImageName(_0x4463e4),LeftImageName(_0x4463e4);}if(_0x5b576f!=MODE_SILENT&&_0x5411e3!=0x0)Komaoto();return _0x5b576f!=MODE_SILENT&&_0xfef442>=0xb&&disp_comment(),_0x5b576f!=MODE_SILENT&&(ShohiGraph(_0x4463e4,_0x67415d),select_kifu_list()),0x0;}function ReplayTop(){const _0x2bae62=_0x56ae28;console[_0x2bae62(0x195)](_0x2bae62(0x35c)),cbd[_0x2bae62(0x16f)](start),Kifu[_0x2bae62(0x36b)](),draw_board(),ShohiGraph(Kifu,cbd),disp_comment();if(Kifu['bunki_flg'])set_kifu_list();select_kifu_list(),ButtonUpdate(),set_bunki_combo();}function ReplayNext(){const _0x342019=_0x56ae28;let _0x4c92d6=Kifu[_0x342019(0x31e)]();if(_0x4c92d6['t']==CHUDAN||_0x4c92d6['f']==0x0&&_0x4c92d6['t']==0x0)return;ExecMove(Kifu,cbd,0x0,_0x4c92d6),ButtonUpdate(),set_bunki_combo();}function ReplayBack(){const _0xe7bd40=_0x56ae28;BackMove(Kifu,cbd,0x0,0x1),ButtonUpdate();if(Kifu[_0xe7bd40(0x1ee)])set_kifu_list();set_bunki_combo();}function ReplayLast(_0x2dc59a,_0x347684){for(;;){let _0x1d08af=Kifu['get_next_move'](cbd);if(_0x1d08af['f']==0x0&&_0x1d08af['t']==0x0)break;if(_0x347684==0x0&&_0x1d08af['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x1d08af);if(_0x1d08af['t']<0xb)break;}_0x2dc59a==0x0&&(ViewUpdate(),ButtonUpdate(),set_bunki_combo());}function ReplayStop(){const _0x1b9dce=_0x56ae28;console['log'](_0x1b9dce(0x24b)),replay_stop_flg=0x0,go_rep_flg=0x0,ButtonUpdate();}function Jump_sub(_0x3a7e03){const _0x3abda9=_0x56ae28;if(_0x3a7e03==Kifu[_0x3abda9(0x148)])return;if(_0x3a7e03>Kifu[_0x3abda9(0x148)])for(;;){let _0x49148d=Kifu[_0x3abda9(0x31e)](cbd);if(_0x49148d['f']==0x0&&_0x49148d['t']==0x0)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x49148d);if(_0x49148d['t']<0xb)break;if(Kifu[_0x3abda9(0x148)]>=_0x3a7e03)break;}else for(;;){BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu[_0x3abda9(0x148)]<=_0x3a7e03)break;}}function Jump_henka(_0x2678d9,_0x33ff19){const _0x13433b=_0x56ae28;console['log'](_0x13433b(0x225)+_0x2678d9+'\x20h='+_0x33ff19);let _0x5aee37;if(_0x33ff19==0x0||Kifu[_0x13433b(0x1a2)](_0x2678d9)==0x0){_0x5aee37=Kifu[_0x13433b(0x301)](Kifu[_0x13433b(0x148)]);let _0x1e6322=Kifu[_0x13433b(0x1a5)](_0x5aee37),_0x57f06f=_0x2678d9-Kifu[_0x13433b(0x148)];Jump_sub(_0x2678d9);_0x1e6322!=0x0&&_0x57f06f<0x0&&set_kifu_list();ViewUpdate(),ButtonUpdate();return;}Jump_sub(_0x2678d9-0x1),_0x5aee37=Kifu['get_kifup'](_0x2678d9);let _0x32683c=_0x5aee37[_0x13433b(0x230)],_0x443163=new Kifup();if(_0x33ff19==0x1){_0x443163['f']=_0x32683c['f'],_0x443163['t']=_0x32683c['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x443163),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}for(let _0xa91e16=0x1;_0x32683c!=null;_0xa91e16++){if(_0xa91e16==_0x33ff19){_0x443163['f']=_0x32683c['f'],_0x443163['t']=_0x32683c['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x443163),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}_0x32683c=_0x32683c[_0x13433b(0x230)];}}function ReplayNextBranch(){const _0x4d0d36=_0x56ae28;while(!![]){let _0x3c108d=Kifu[_0x4d0d36(0x31e)]();if(_0x3c108d['f']==0x0&&_0x3c108d['t']==0x0)break;if(_0x3c108d['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x3c108d);if(Kifu['can_susumeru']()==0x0)break;if(Kifu[_0x4d0d36(0x1a2)](Kifu[_0x4d0d36(0x148)]+0x1)!=0x0)break;}ViewUpdate(),ButtonUpdate(),Komaoto();}function ReplayBackBranch(){const _0x108eef=_0x56ae28;let _0x29e077=Kifu['get_kifup'](Kifu['move_no']),_0xa3a04=Kifu[_0x108eef(0x1a5)](_0x29e077);for(;;){if(Kifu['move_no']<=0x0)break;BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu['is_bunki_n'](Kifu[_0x108eef(0x148)]+0x1)!=0x0)break;}if(_0xa3a04!=0x0)set_kifu_list();ViewUpdate(),ButtonUpdate(),Komaoto();}function ___TOUCH_EVENT______(){}canvas['addEventListener']('mousedown',onDown,![]),canvas[_0x56ae28(0x319)](_0x56ae28(0x2a6),onUp,![]);isIOS?canvas[_0x56ae28(0x319)](_0x56ae28(0x1f9),touchDown,![]):canvas[_0x56ae28(0x319)](_0x56ae28(0x316),onClick,![]);load_kifu('',Kifu,0x1,-0x1),draw_board(),LoadImages(Kifu);function ButtonUpdate(){const _0x1f15c2=_0x56ae28;Kifu[_0x1f15c2(0x148)]<=0x0?(button_top['disabled']=_0x1f15c2(0x28b),button_back[_0x1f15c2(0x33d)]=_0x1f15c2(0x28b),button_backr[_0x1f15c2(0x33d)]=_0x1f15c2(0x28b),FREE&&(button_backB[_0x1f15c2(0x33d)]=_0x1f15c2(0x28b))):(button_top[_0x1f15c2(0x33d)]='',button_back[_0x1f15c2(0x33d)]='',button_backr[_0x1f15c2(0x33d)]='',FREE&&Kifu[_0x1f15c2(0x1ee)]==0x1&&(button_backB[_0x1f15c2(0x33d)]='')),Kifu[_0x1f15c2(0x2c9)]()!=0x0?(button_next[_0x1f15c2(0x33d)]='',button_nextr[_0x1f15c2(0x33d)]='',button_last[_0x1f15c2(0x33d)]='',FREE&&Kifu[_0x1f15c2(0x1ee)]==0x1&&(button_nextB[_0x1f15c2(0x33d)]='')):(button_next[_0x1f15c2(0x33d)]=_0x1f15c2(0x28b),button_nextr[_0x1f15c2(0x33d)]=_0x1f15c2(0x28b),button_last[_0x1f15c2(0x33d)]=_0x1f15c2(0x28b),FREE&&Kifu[_0x1f15c2(0x1ee)]==0x1&&(button_nextB[_0x1f15c2(0x33d)]=_0x1f15c2(0x28b)));}function EnableAllButton(){const _0x3bc97a=_0x56ae28;button_top[_0x3bc97a(0x33d)]='',button_back[_0x3bc97a(0x33d)]='',button_backr['disabled']='',button_next[_0x3bc97a(0x33d)]='',button_nextr[_0x3bc97a(0x33d)]='',button_last[_0x3bc97a(0x33d)]='';}function __OnChange_____(){}function OnKifuSelectChange(){const _0x4a7fa7=_0x56ae28;let _0x3fbc15=kifu_select[_0x4a7fa7(0x255)];console[_0x4a7fa7(0x195)]('#\x20OnKifuSelectChange\x20val='+_0x3fbc15),Jump_sub(_0x3fbc15),draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),FREE&&Info(Kifu),set_bunki_combo(),ButtonUpdate(),Komaoto();}function OnBranchChange(){const _0x313a22=_0x56ae28;let _0x49546a=branch_select[_0x313a22(0x255)];console[_0x313a22(0x195)]('##\x20OnBranchChange\x20index='+_0x49546a),_0x49546a!=0x0&&(Jump_henka(Kifu[_0x313a22(0x148)]+0x1,_0x49546a),Komaoto());}function StopAutoUpdate(){const _0x1c6cf8=_0x56ae28;console[_0x1c6cf8(0x195)](_0x1c6cf8(0x1cf)),clearInterval(update_timer_id),update_select[_0x1c6cf8(0x255)]=0x0;}function OnUpdateChange(){const _0x2dd893=_0x56ae28;let _0x4d4ec9=update_select[_0x2dd893(0x255)];console[_0x2dd893(0x195)](_0x2dd893(0x2a0)+_0x4d4ec9);if(_0x4d4ec9==0x0)clearInterval(update_timer_id);else{if(_0x4d4ec9==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(_0x4d4ec9==0x2)update_timer_id=setInterval(update_timer,0xea60);else{if(_0x4d4ec9==0x3)update_timer_id=setInterval(update_timer,0xea60*0x3);}}}}function komaotoOnChange(){const _0x36fdda=_0x56ae28;komaoto_flg=komaoto_check['checked'],console[_0x36fdda(0x195)](_0x36fdda(0x1bc)+komaoto_flg),document['cookie']='komaoto='+komaoto_flg+COOKIE_STR;}function OnButtonTopClick(){ReplayTop(),Komaoto();}function OnButtonBackRClick(){EnableAllButton(),replay_stop_flg=0x0,go_rep_flg=-0x1;}function OnButtonBackClick(){ReplayBack();}function OnButtonNextClick(){ReplayNext();}function OnButtonNextRClick(){const _0x26c657=_0x56ae28;console[_0x26c657(0x195)]('#\x20OnButtonNextRClick\x20\x20\x20'),EnableAllButton(),replay_stop_flg=0x0,go_rep_flg=0x1;}function OnButtonLastClick(){ReplayLast(0x0,0x1),Komaoto();}function OnButtonStopClick(){replay_stop_flg=0x1,go_rep_flg=0x0;}document[_0x56ae28(0x14e)]=function(_0x220572){const _0x171c0c=_0x56ae28;if(!_0x220572)_0x220572=window[_0x171c0c(0x149)];let _0x33a3a5=_0x220572['keyCode'];if(_0x33a3a5==0x27)ReplayNext();else{if(_0x33a3a5==0x25)ReplayBack();else{if(_0x33a3a5==0x24)ReplayTop(),Komaoto();else _0x33a3a5==0x23&&OnButtonLastClick();}}console[_0x171c0c(0x195)](_0x220572);};var env_div=document['createElement'](_0x56ae28(0x2d1));env_div['style'][_0x56ae28(0x2e0)]=_0x56ae28(0x251),env_div[_0x56ae28(0x313)]=_0x56ae28(0x1a7),env_div[_0x56ae28(0x1ca)][_0x56ae28(0x357)]=_0x56ae28(0x333),env_div[_0x56ae28(0x1ca)]['position']=_0x56ae28(0x2a1);{let canvas_rect=canvas[_0x56ae28(0x19a)](),canvas_top=canvas_rect[_0x56ae28(0x2e4)],scroll_top=document[_0x56ae28(0x360)][_0x56ae28(0x2c0)],scroll_top2=document[_0x56ae28(0x18b)]['scrollTop'];if(scroll_top2>scroll_top)canvas_top+=scroll_top2;else canvas_top+=scroll_top;env_div[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(canvas_top+0x78)+'px';}FREE?env_div['style']['left']=String(canvas_x+0x96)+'px':env_div[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(canvas_x+0xaa)+'px';env_div[_0x56ae28(0x1ca)]['height']=_0x56ae28(0x15b),env_div[_0x56ae28(0x1ca)][_0x56ae28(0x2fe)]=_0x56ae28(0x24a),env_div['style'][_0x56ae28(0x1cd)]=_0x56ae28(0x29e),env_div[_0x56ae28(0x1ca)][_0x56ae28(0x369)]='1px\x201px\x2010px\x203px\x20#000',document[_0x56ae28(0x360)][_0x56ae28(0x329)](env_div);let modal_content=document['createElement'](_0x56ae28(0x2d1));modal_content[_0x56ae28(0x313)]=_0x56ae28(0x170),modal_content[_0x56ae28(0x1ca)][_0x56ae28(0x337)]=_0x56ae28(0x2d6),env_div[_0x56ae28(0x1ca)][_0x56ae28(0x34d)]=_0x56ae28(0x1a4),env_div[_0x56ae28(0x329)](modal_content);let modal_p=document[_0x56ae28(0x16c)]('p'),ver=version[_0x56ae28(0x176)](0x1);FREE?modal_p[_0x56ae28(0x1ec)]=_0x56ae28(0x2ce)+'\u3000Version\x20'+ver:modal_p['textContent']='\u3000Kifu\x20for\x20JavaScript\x20Pro\x20Version\x20'+ver;modal_p[_0x56ae28(0x1ca)][_0x56ae28(0x181)]='absolute',modal_p[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(0x5a)+'px',modal_p[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=_0x56ae28(0x2f8),modal_content[_0x56ae28(0x329)](modal_p);let modal_p2=document['createElement']('p');modal_p2[_0x56ae28(0x352)]=_0x56ae28(0x1e5),modal_p2[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1),modal_p2['style'][_0x56ae28(0x2e4)]=String(0x6e)+'px',modal_p2[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]='11px',modal_content[_0x56ae28(0x329)](modal_p2);let komaoto_check2=document[_0x56ae28(0x16c)](_0x56ae28(0x14b));komaoto_check2[_0x56ae28(0x1ac)](_0x56ae28(0x1f7),'checkbox'),komaoto_check2['style'][_0x56ae28(0x181)]='absolute';let check_top2=0xa;komaoto_check2[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(check_top2)+'px',komaoto_check2[_0x56ae28(0x1ca)]['left']=String(0x14)+'px';if(komaoto_flg==![])komaoto_check2['checked']=![];else komaoto_check2['checked']=!![];komaoto_check2[_0x56ae28(0x319)](_0x56ae28(0x20f),komaotoOnChange2),modal_content[_0x56ae28(0x329)](komaoto_check2);function komaotoOnChange2(){const _0x3016ee=_0x56ae28;komaoto_flg=komaoto_check2[_0x3016ee(0x194)],console[_0x3016ee(0x195)](_0x3016ee(0x330)+komaoto_flg),document[_0x3016ee(0x2f5)]=_0x3016ee(0x20e)+komaoto_flg+COOKIE_STR,komaoto_flg&&Komaoto();}let label_size_str=_0x56ae28(0x141);var komaoto_label2=document[_0x56ae28(0x16c)](_0x56ae28(0x15d));komaoto_label2[_0x56ae28(0x329)](document['createTextNode']('駒音')),komaoto_label2[_0x56ae28(0x1ca)][_0x56ae28(0x181)]='absolute',komaoto_label2[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(check_top2)+'px',komaoto_label2[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(0x14+0x16)+'px',komaoto_label2[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=label_size_str,modal_content['appendChild'](komaoto_label2);let mokume_check=document[_0x56ae28(0x16c)](_0x56ae28(0x14b));mokume_check['setAttribute'](_0x56ae28(0x1f7),_0x56ae28(0x2b9)),mokume_check[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1);let mokume_top=check_top2+0x0;mokume_check[_0x56ae28(0x1ca)]['top']=String(mokume_top)+'px',mokume_check[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(0x78)+'px';if(muji_flg)mokume_check[_0x56ae28(0x194)]=![];else mokume_check[_0x56ae28(0x194)]=!![];mokume_check[_0x56ae28(0x319)](_0x56ae28(0x20f),mokumeoOnChange),modal_content[_0x56ae28(0x329)](mokume_check);function mokumeoOnChange(){const _0x5b9af3=_0x56ae28;muji_flg=!mokume_check['checked'],console['log'](_0x5b9af3(0x203)+muji_flg),document[_0x5b9af3(0x2f5)]='muji='+muji_flg+COOKIE_STR,draw_board();}let mokume_label=document[_0x56ae28(0x16c)](_0x56ae28(0x15d));mokume_label[_0x56ae28(0x329)](document['createTextNode']('木目')),mokume_label[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1),mokume_label[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(mokume_top)+'px',mokume_label['style']['left']=String(0x78+0x16)+'px',mokume_label[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=label_size_str,modal_content['appendChild'](mokume_label);let toryo_top=check_top2+0x16;if(!FREE){let toryo_check=document[_0x56ae28(0x16c)]('input');toryo_check[_0x56ae28(0x1ac)](_0x56ae28(0x1f7),_0x56ae28(0x2b9)),toryo_check[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1),toryo_check[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(toryo_top)+'px',toryo_check['style']['left']=String(0x14)+'px';if(toryo_sound_flg)toryo_check[_0x56ae28(0x194)]=!![];else toryo_check[_0x56ae28(0x194)]=![];toryo_check['addEventListener']('change',toryoOnChange),modal_content[_0x56ae28(0x329)](toryo_check);function toryoOnChange(){const _0xadb945=_0x56ae28;toryo_sound_flg=toryo_check['checked'],console[_0xadb945(0x195)](_0xadb945(0x25f)+toryo_sound_flg),document[_0xadb945(0x2f5)]='toryo_sound='+toryo_sound_flg+COOKIE_STR,game_end_sound();}let toryo_label=document[_0x56ae28(0x16c)]('label');toryo_label[_0x56ae28(0x329)](document['createTextNode'](_0x56ae28(0x2cb))),toryo_label[_0x56ae28(0x1ca)]['position']='absolute',toryo_label[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(toryo_top)+'px',toryo_label[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(0x14+0x16)+'px',toryo_label[_0x56ae28(0x1ca)]['fontSize']=label_size_str,modal_content['appendChild'](toryo_label);}let comm_label=document[_0x56ae28(0x16c)](_0x56ae28(0x15d));comm_label[_0x56ae28(0x329)](document[_0x56ae28(0x311)]('コメント文字の大きさ')),comm_label[_0x56ae28(0x1ca)][_0x56ae28(0x181)]='absolute',comm_label[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(toryo_top+0x1e)+'px',comm_label[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(0x14)+'px',comm_label[_0x56ae28(0x1ca)][_0x56ae28(0x35f)]=label_size_str,modal_content['appendChild'](comm_label);var com_size_select=document['createElement'](_0x56ae28(0x2a7));com_size_select[_0x56ae28(0x1ca)]['position']=_0x56ae28(0x2a1),com_size_select[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(toryo_top+0x1e)+'px',com_size_select[_0x56ae28(0x1ca)][_0x56ae28(0x17d)]=String(0xb4)+'px',com_size_select[_0x56ae28(0x1ca)][_0x56ae28(0x357)]='100px';for(let pt=0x9;pt<0xf;pt++){let op=document[_0x56ae28(0x16c)](_0x56ae28(0x309));op['value']=pt,op[_0x56ae28(0x1a1)]=String(pt)+_0x56ae28(0x2ae),com_size_select[_0x56ae28(0x329)](op);}com_size_select['selectedIndex']=comment_str_size-0x9,modal_content[_0x56ae28(0x329)](com_size_select),com_size_select['addEventListener'](_0x56ae28(0x20f),OnComSizeChange);function OnComSizeChange(){const _0x49730d=_0x56ae28;let _0x1fc77d=com_size_select[_0x49730d(0x255)],_0x3bdde1=0x9+_0x1fc77d;console['log'](_0x49730d(0x2cf)+_0x1fc77d+_0x49730d(0x1d7)+_0x3bdde1),comment_div_p[_0x49730d(0x1ca)][_0x49730d(0x35f)]=String(_0x3bdde1)+'pt',document[_0x49730d(0x2f5)]=_0x49730d(0x1a6)+_0x3bdde1+COOKIE_STR;}var button_close=document['createElement']('button');button_close[_0x56ae28(0x319)](_0x56ae28(0x316),OnButtonClose),button_close[_0x56ae28(0x1ca)][_0x56ae28(0x181)]=_0x56ae28(0x2a1),button_close['style']['left']=String(0xc8)+'px',button_close[_0x56ae28(0x1ca)][_0x56ae28(0x357)]='80px',button_close[_0x56ae28(0x1ca)][_0x56ae28(0x2e4)]=String(0x14)+'px',button_close[_0x56ae28(0x1ca)][_0x56ae28(0x1de)]=_0x56ae28(0x32a),button_close[_0x56ae28(0x352)]=_0x56ae28(0x21c),modal_content[_0x56ae28(0x329)](button_close);function OnButtonClose(){const _0x438a3e=_0x56ae28;env_div[_0x438a3e(0x1ca)]['display']=_0x438a3e(0x1a4);}console[_0x56ae28(0x22e)](_0x56ae28(0x2d7)),button_env[_0x56ae28(0x151)]=function(){const _0x5be839=_0x56ae28;console[_0x5be839(0x22e)](_0x5be839(0x202)),env_div['style'][_0x5be839(0x34d)]=='block'?env_div[_0x5be839(0x1ca)][_0x5be839(0x34d)]='none':env_div[_0x5be839(0x1ca)]['display']=_0x5be839(0x1d2);};